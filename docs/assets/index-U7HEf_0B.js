(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();var Yn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Bg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var l=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,l.get?l:{enumerable:!0,get:function(){return t[r]}})}),n}var Zf={exports:{}},ko={},qf={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),bg=Symbol.for("react.portal"),Hg=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),Qg=Symbol.for("react.provider"),Kg=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),Yg=Symbol.for("react.suspense"),Xg=Symbol.for("react.memo"),Jg=Symbol.for("react.lazy"),ha=Symbol.iterator;function Zg(t){return t===null||typeof t!="object"?null:(t=ha&&t[ha]||t["@@iterator"],typeof t=="function"?t:null)}var ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},td=Object.assign,nd={};function Fr(t,e,n){this.props=t,this.context=e,this.refs=nd,this.updater=n||ed}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rd(){}rd.prototype=Fr.prototype;function Ou(t,e,n){this.props=t,this.context=e,this.refs=nd,this.updater=n||ed}var zu=Ou.prototype=new rd;zu.constructor=Ou;td(zu,Fr.prototype);zu.isPureReactComponent=!0;var pa=Array.isArray,ld=Object.prototype.hasOwnProperty,Uu={current:null},sd={key:!0,ref:!0,__self:!0,__source:!0};function od(t,e,n){var r,l={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ld.call(e,r)&&!sd.hasOwnProperty(r)&&(l[r]=e[r]);var u=arguments.length-2;if(u===1)l.children=n;else if(1<u){for(var i=Array(u),c=0;c<u;c++)i[c]=arguments[c+2];l.children=i}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)l[r]===void 0&&(l[r]=u[r]);return{$$typeof:Vl,type:t,key:s,ref:o,props:l,_owner:Uu.current}}function qg(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function e0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ga=/\/+/g;function Go(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e0(""+t.key):e.toString(36)}function Es(t,e,n,r,l){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vl:case bg:o=!0}}if(o)return o=t,l=l(o),t=r===""?"."+Go(o,0):r,pa(l)?(n="",t!=null&&(n=t.replace(ga,"$&/")+"/"),Es(l,e,n,"",function(c){return c})):l!=null&&(Fu(l)&&(l=qg(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(ga,"$&/")+"/")+t)),e.push(l)),1;if(o=0,r=r===""?".":r+":",pa(t))for(var u=0;u<t.length;u++){s=t[u];var i=r+Go(s,u);o+=Es(s,e,n,i,l)}else if(i=Zg(t),typeof i=="function")for(t=i.call(t),u=0;!(s=t.next()).done;)s=s.value,i=r+Go(s,u++),o+=Es(s,e,n,i,l);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ns(t,e,n){if(t==null)return t;var r=[],l=0;return Es(t,r,"","",function(s){return e.call(n,s,l++)}),r}function t0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ze={current:null},Ts={transition:null},n0={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:Uu};function id(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ns,forEach:function(t,e,n){ns(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ns(t,function(){e++}),e},toArray:function(t){return ns(t,function(e){return e})||[]},only:function(t){if(!Fu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Fr;U.Fragment=Hg;U.Profiler=Wg;U.PureComponent=Ou;U.StrictMode=Vg;U.Suspense=Yg;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n0;U.act=id;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=td({},t.props),l=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Uu.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(i in e)ld.call(e,i)&&!sd.hasOwnProperty(i)&&(r[i]=e[i]===void 0&&u!==void 0?u[i]:e[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){u=Array(i);for(var c=0;c<i;c++)u[c]=arguments[c+2];r.children=u}return{$$typeof:Vl,type:t.type,key:l,ref:s,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Kg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qg,_context:t},t.Consumer=t};U.createElement=od;U.createFactory=function(t){var e=od.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:Gg,render:t}};U.isValidElement=Fu;U.lazy=function(t){return{$$typeof:Jg,_payload:{_status:-1,_result:t},_init:t0}};U.memo=function(t,e){return{$$typeof:Xg,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Ts.transition;Ts.transition={};try{t()}finally{Ts.transition=e}};U.unstable_act=id;U.useCallback=function(t,e){return ze.current.useCallback(t,e)};U.useContext=function(t){return ze.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ze.current.useDeferredValue(t)};U.useEffect=function(t,e){return ze.current.useEffect(t,e)};U.useId=function(){return ze.current.useId()};U.useImperativeHandle=function(t,e,n){return ze.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return ze.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ze.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ze.current.useMemo(t,e)};U.useReducer=function(t,e,n){return ze.current.useReducer(t,e,n)};U.useRef=function(t){return ze.current.useRef(t)};U.useState=function(t){return ze.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return ze.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return ze.current.useTransition()};U.version="18.3.1";qf.exports=U;var Je=qf.exports;const z=Jf(Je);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=Je,l0=Symbol.for("react.element"),s0=Symbol.for("react.fragment"),o0=Object.prototype.hasOwnProperty,i0=r0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u0={key:!0,ref:!0,__self:!0,__source:!0};function ud(t,e,n){var r,l={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)o0.call(e,r)&&!u0.hasOwnProperty(r)&&(l[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)l[r]===void 0&&(l[r]=e[r]);return{$$typeof:l0,type:t,key:s,ref:o,props:l,_owner:i0.current}}ko.Fragment=s0;ko.jsx=ud;ko.jsxs=ud;Zf.exports=ko;var C=Zf.exports,cd={exports:{}},nt={},ad={exports:{}},fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,j){var O=N.length;N.push(j);e:for(;0<O;){var J=O-1>>>1,ce=N[J];if(0<l(ce,j))N[J]=j,N[O]=ce,O=J;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],O=N.pop();if(O!==j){N[0]=O;e:for(var J=0,ce=N.length,Kr=ce>>>1;J<Kr;){var dt=2*(J+1)-1,se=N[dt],Ye=dt+1,nr=N[Ye];if(0>l(se,O))Ye<ce&&0>l(nr,se)?(N[J]=nr,N[Ye]=O,J=Ye):(N[J]=se,N[dt]=O,J=dt);else if(Ye<ce&&0>l(nr,O))N[J]=nr,N[Ye]=O,J=Ye;else break e}}return j}function l(N,j){var O=N.sortIndex-j.sortIndex;return O!==0?O:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var i=[],c=[],a=1,f=null,d=3,h=!1,p=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(i,j);else break;j=n(c)}}function w(N){if(v=!1,y(N),!p)if(n(i)!==null)p=!0,xe(k);else{var j=n(c);j!==null&&Qr(w,j.startTime-N)}}function k(N,j){p=!1,v&&(v=!1,m(x),x=-1),h=!0;var O=d;try{for(y(j),f=n(i);f!==null&&(!(f.expirationTime>j)||N&&!Q());){var J=f.callback;if(typeof J=="function"){f.callback=null,d=f.priorityLevel;var ce=J(f.expirationTime<=j);j=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(i)&&r(i),y(j)}else r(i);f=n(i)}if(f!==null)var Kr=!0;else{var dt=n(c);dt!==null&&Qr(w,dt.startTime-j),Kr=!1}return Kr}finally{f=null,d=O,h=!1}}var T=!1,D=null,x=-1,F=5,$=-1;function Q(){return!(t.unstable_now()-$<F)}function Te(){if(D!==null){var N=t.unstable_now();$=N;var j=!0;try{j=D(!0,N)}finally{j?ge():(T=!1,D=null)}}else T=!1}var ge;if(typeof g=="function")ge=function(){g(Te)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Jt=Ge.port2;Ge.port1.onmessage=Te,ge=function(){Jt.postMessage(null)}}else ge=function(){_(Te,0)};function xe(N){D=N,T||(T=!0,ge())}function Qr(N,j){x=_(function(){N(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,xe(k))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(i)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var O=d;d=j;try{return N()}finally{d=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=d;d=N;try{return j()}finally{d=O}},t.unstable_scheduleCallback=function(N,j,O){var J=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?J+O:J):O=J,N){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=O+ce,N={id:a++,callback:j,priorityLevel:N,startTime:O,expirationTime:ce,sortIndex:-1},O>J?(N.sortIndex=O,e(c,N),n(i)===null&&N===n(c)&&(v?(m(x),x=-1):v=!0,Qr(w,O-J))):(N.sortIndex=ce,e(i,N),p||h||(p=!0,xe(k))),N},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(N){var j=d;return function(){var O=d;d=j;try{return N.apply(this,arguments)}finally{d=O}}}})(fd);ad.exports=fd;var c0=ad.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=Je,tt=c0;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dd=new Set,xl={};function Xn(t,e){Tr(t,e),Tr(t+"Capture",e)}function Tr(t,e){for(xl[t]=e,t=0;t<e.length;t++)dd.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=Object.prototype.hasOwnProperty,f0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ma={},ya={};function d0(t){return Ri.call(ya,t)?!0:Ri.call(ma,t)?!1:f0.test(t)?ya[t]=!0:(ma[t]=!0,!1)}function h0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function p0(t,e,n,r){if(e===null||typeof e>"u"||h0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,r,l,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bu=/[\-:]([a-z])/g;function bu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bu,bu);Ee[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bu,bu);Ee[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bu,bu);Ee[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hu(t,e,n,r){var l=Ee.hasOwnProperty(e)?Ee[e]:null;(l!==null?l.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p0(e,n,l,r)&&(n=null),r||l===null?d0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,r=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gt=a0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),or=Symbol.for("react.portal"),ir=Symbol.for("react.fragment"),Vu=Symbol.for("react.strict_mode"),Pi=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),pd=Symbol.for("react.context"),Wu=Symbol.for("react.forward_ref"),ji=Symbol.for("react.suspense"),Oi=Symbol.for("react.suspense_list"),Qu=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),gd=Symbol.for("react.offscreen"),va=Symbol.iterator;function Yr(t){return t===null||typeof t!="object"?null:(t=va&&t[va]||t["@@iterator"],typeof t=="function"?t:null)}var ne=Object.assign,Yo;function rl(t){if(Yo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yo=e&&e[1]||""}return`
`+Yo+t}var Xo=!1;function Jo(t,e){if(!t||Xo)return"";Xo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var l=c.stack.split(`
`),s=r.stack.split(`
`),o=l.length-1,u=s.length-1;1<=o&&0<=u&&l[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(l[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||l[o]!==s[u]){var i=`
`+l[o].replace(" at new "," at ");return t.displayName&&i.includes("<anonymous>")&&(i=i.replace("<anonymous>",t.displayName)),i}while(1<=o&&0<=u);break}}}finally{Xo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rl(t):""}function g0(t){switch(t.tag){case 5:return rl(t.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return t=Jo(t.type,!1),t;case 11:return t=Jo(t.type.render,!1),t;case 1:return t=Jo(t.type,!0),t;default:return""}}function zi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ir:return"Fragment";case or:return"Portal";case Pi:return"Profiler";case Vu:return"StrictMode";case ji:return"Suspense";case Oi:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pd:return(t.displayName||"Context")+".Consumer";case hd:return(t._context.displayName||"Context")+".Provider";case Wu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qu:return e=t.displayName||null,e!==null?e:zi(t.type)||"Memo";case nn:e=t._payload,t=t._init;try{return zi(t(e))}catch{}}return null}function m0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zi(e);case 8:return e===Vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function md(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y0(t){var e=md(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ls(t){t._valueTracker||(t._valueTracker=y0(t))}function yd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=md(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ui(t,e){var n=e.checked;return ne({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vd(t,e){e=e.checked,e!=null&&Hu(t,"checked",e,!1)}function Fi(t,e){vd(t,e);var n=kn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bi(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bi(t,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xa(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bi(t,e,n){(e!=="number"||Bs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function vr(t,e,n,r){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kn(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,r&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function bi(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ne({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ka(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(ll(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kn(n)}}function wd(t,e){var n=kn(e.value),r=kn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hi(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ss,kd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v0=["Webkit","ms","Moz","O"];Object.keys(ul).forEach(function(t){v0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ul[e]=ul[t]})});function Sd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ul.hasOwnProperty(t)&&ul[t]?(""+e).trim():e+"px"}function _d(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=Sd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,l):t[n]=l}}var w0=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vi(t,e){if(e){if(w0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Wi(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qi=null;function Ku(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,wr=null,xr=null;function _a(t){if(t=Kl(t)){if(typeof Ki!="function")throw Error(E(280));var e=t.stateNode;e&&(e=To(e),Ki(t.stateNode,t.type,e))}}function Cd(t){wr?xr?xr.push(t):xr=[t]:wr=t}function Ed(){if(wr){var t=wr,e=xr;if(xr=wr=null,_a(t),e)for(t=0;t<e.length;t++)_a(e[t])}}function Td(t,e){return t(e)}function Dd(){}var Zo=!1;function Nd(t,e,n){if(Zo)return t(e,n);Zo=!0;try{return Td(t,e,n)}finally{Zo=!1,(wr!==null||xr!==null)&&(Dd(),Ed())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var r=To(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Gi=!1;if(Bt)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){Gi=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{Gi=!1}function x0(t,e,n,r,l,s,o,u,i){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(a){this.onError(a)}}var cl=!1,bs=null,Hs=!1,Yi=null,k0={onError:function(t){cl=!0,bs=t}};function S0(t,e,n,r,l,s,o,u,i){cl=!1,bs=null,x0.apply(k0,arguments)}function _0(t,e,n,r,l,s,o,u,i){if(S0.apply(this,arguments),cl){if(cl){var c=bs;cl=!1,bs=null}else throw Error(E(198));Hs||(Hs=!0,Yi=c)}}function Jn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Md(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ca(t){if(Jn(t)!==t)throw Error(E(188))}function C0(t){var e=t.alternate;if(!e){if(e=Jn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var l=n.return;if(l===null)break;var s=l.alternate;if(s===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===s.child){for(s=l.child;s;){if(s===n)return Ca(l),t;if(s===r)return Ca(l),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=l,r=s;else{for(var o=!1,u=l.child;u;){if(u===n){o=!0,n=l,r=s;break}if(u===r){o=!0,r=l,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=l;break}if(u===r){o=!0,r=s,n=l;break}u=u.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Ld(t){return t=C0(t),t!==null?Id(t):null}function Id(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Id(t);if(e!==null)return e;t=t.sibling}return null}var $d=tt.unstable_scheduleCallback,Ea=tt.unstable_cancelCallback,E0=tt.unstable_shouldYield,T0=tt.unstable_requestPaint,ue=tt.unstable_now,D0=tt.unstable_getCurrentPriorityLevel,Gu=tt.unstable_ImmediatePriority,Ad=tt.unstable_UserBlockingPriority,Vs=tt.unstable_NormalPriority,N0=tt.unstable_LowPriority,Rd=tt.unstable_IdlePriority,So=null,Ct=null;function M0(t){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(So,t,void 0,(t.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:$0,L0=Math.log,I0=Math.LN2;function $0(t){return t>>>=0,t===0?32:31-(L0(t)/I0|0)|0}var os=64,is=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ws(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,l=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~l;u!==0?r=sl(u):(s&=o,s!==0&&(r=sl(s)))}else o=n&~l,o!==0?r=sl(o):s!==0&&(r=sl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&l)&&(l=r&-r,s=e&-e,l>=s||l===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yt(e),l=1<<n,r|=t[n],e&=~l;return r}function A0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,l=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-yt(s),u=1<<o,i=l[o];i===-1?(!(u&n)||u&r)&&(l[o]=A0(u,e)):i<=e&&(t.expiredLanes|=u),s&=~u}}function Xi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pd(){var t=os;return os<<=1,!(os&4194240)&&(os=64),t}function qo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yt(e),t[e]=n}function P0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var l=31-yt(n),s=1<<l;e[l]=0,r[l]=-1,t[l]=-1,n&=~s}}function Yu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yt(n),l=1<<r;l&e|t[r]&e&&(t[r]|=e),n&=~l}}var V=0;function jd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Od,Xu,zd,Ud,Fd,Ji=!1,us=[],fn=null,dn=null,hn=null,_l=new Map,Cl=new Map,ln=[],j0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ta(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(e.pointerId)}}function Jr(t,e,n,r,l,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[l]},e!==null&&(e=Kl(e),e!==null&&Xu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function O0(t,e,n,r,l){switch(e){case"focusin":return fn=Jr(fn,t,e,n,r,l),!0;case"dragenter":return dn=Jr(dn,t,e,n,r,l),!0;case"mouseover":return hn=Jr(hn,t,e,n,r,l),!0;case"pointerover":var s=l.pointerId;return _l.set(s,Jr(_l.get(s)||null,t,e,n,r,l)),!0;case"gotpointercapture":return s=l.pointerId,Cl.set(s,Jr(Cl.get(s)||null,t,e,n,r,l)),!0}return!1}function Bd(t){var e=$n(t.target);if(e!==null){var n=Jn(e);if(n!==null){if(e=n.tag,e===13){if(e=Md(n),e!==null){t.blockedOn=e,Fd(t.priority,function(){zd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zi(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qi=r,n.target.dispatchEvent(r),Qi=null}else return e=Kl(n),e!==null&&Xu(e),t.blockedOn=n,!1;e.shift()}return!0}function Da(t,e,n){Ds(t)&&n.delete(e)}function z0(){Ji=!1,fn!==null&&Ds(fn)&&(fn=null),dn!==null&&Ds(dn)&&(dn=null),hn!==null&&Ds(hn)&&(hn=null),_l.forEach(Da),Cl.forEach(Da)}function Zr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ji||(Ji=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,z0)))}function El(t){function e(l){return Zr(l,t)}if(0<us.length){Zr(us[0],t);for(var n=1;n<us.length;n++){var r=us[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&Zr(fn,t),dn!==null&&Zr(dn,t),hn!==null&&Zr(hn,t),_l.forEach(e),Cl.forEach(e),n=0;n<ln.length;n++)r=ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ln.length&&(n=ln[0],n.blockedOn===null);)Bd(n),n.blockedOn===null&&ln.shift()}var kr=Gt.ReactCurrentBatchConfig,Qs=!0;function U0(t,e,n,r){var l=V,s=kr.transition;kr.transition=null;try{V=1,Ju(t,e,n,r)}finally{V=l,kr.transition=s}}function F0(t,e,n,r){var l=V,s=kr.transition;kr.transition=null;try{V=4,Ju(t,e,n,r)}finally{V=l,kr.transition=s}}function Ju(t,e,n,r){if(Qs){var l=Zi(t,e,n,r);if(l===null)ci(t,e,r,Ks,n),Ta(t,r);else if(O0(l,t,e,n,r))r.stopPropagation();else if(Ta(t,r),e&4&&-1<j0.indexOf(t)){for(;l!==null;){var s=Kl(l);if(s!==null&&Od(s),s=Zi(t,e,n,r),s===null&&ci(t,e,r,Ks,n),s===l)break;l=s}l!==null&&r.stopPropagation()}else ci(t,e,r,null,n)}}var Ks=null;function Zi(t,e,n,r){if(Ks=null,t=Ku(r),t=$n(t),t!==null)if(e=Jn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Md(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ks=t,null}function bd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(D0()){case Gu:return 1;case Ad:return 4;case Vs:case N0:return 16;case Rd:return 536870912;default:return 16}default:return 16}}var un=null,Zu=null,Ns=null;function Hd(){if(Ns)return Ns;var t,e=Zu,n=e.length,r,l="value"in un?un.value:un.textContent,s=l.length;for(t=0;t<n&&e[t]===l[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===l[s-r];r++);return Ns=l.slice(t,1<r?1-r:void 0)}function Ms(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cs(){return!0}function Na(){return!1}function rt(t){function e(n,r,l,s,o){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cs:Na,this.isPropagationStopped=Na,this}return ne(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),e}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=rt(Br),Ql=ne({},Br,{view:0,detail:0}),B0=rt(Ql),ei,ti,qr,_o=ne({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(ei=t.screenX-qr.screenX,ti=t.screenY-qr.screenY):ti=ei=0,qr=t),ei)},movementY:function(t){return"movementY"in t?t.movementY:ti}}),Ma=rt(_o),b0=ne({},_o,{dataTransfer:0}),H0=rt(b0),V0=ne({},Ql,{relatedTarget:0}),ni=rt(V0),W0=ne({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Q0=rt(W0),K0=ne({},Br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),G0=rt(K0),Y0=ne({},Br,{data:0}),La=rt(Y0),X0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z0[t])?!!e[t]:!1}function ec(){return q0}var em=ne({},Ql,{key:function(t){if(t.key){var e=X0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tm=rt(em),nm=ne({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ia=rt(nm),rm=ne({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),lm=rt(rm),sm=ne({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),om=rt(sm),im=ne({},_o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),um=rt(im),cm=[9,13,27,32],tc=Bt&&"CompositionEvent"in window,al=null;Bt&&"documentMode"in document&&(al=document.documentMode);var am=Bt&&"TextEvent"in window&&!al,Vd=Bt&&(!tc||al&&8<al&&11>=al),$a=" ",Aa=!1;function Wd(t,e){switch(t){case"keyup":return cm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ur=!1;function fm(t,e){switch(t){case"compositionend":return Qd(e);case"keypress":return e.which!==32?null:(Aa=!0,$a);case"textInput":return t=e.data,t===$a&&Aa?null:t;default:return null}}function dm(t,e){if(ur)return t==="compositionend"||!tc&&Wd(t,e)?(t=Hd(),Ns=Zu=un=null,ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vd&&e.locale!=="ko"?null:e.data;default:return null}}var hm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hm[t.type]:e==="textarea"}function Kd(t,e,n,r){Cd(r),e=Gs(e,"onChange"),0<e.length&&(n=new qu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fl=null,Tl=null;function pm(t){lh(t,0)}function Co(t){var e=fr(t);if(yd(e))return t}function gm(t,e){if(t==="change")return e}var Gd=!1;if(Bt){var ri;if(Bt){var li="oninput"in document;if(!li){var Pa=document.createElement("div");Pa.setAttribute("oninput","return;"),li=typeof Pa.oninput=="function"}ri=li}else ri=!1;Gd=ri&&(!document.documentMode||9<document.documentMode)}function ja(){fl&&(fl.detachEvent("onpropertychange",Yd),Tl=fl=null)}function Yd(t){if(t.propertyName==="value"&&Co(Tl)){var e=[];Kd(e,Tl,t,Ku(t)),Nd(pm,e)}}function mm(t,e,n){t==="focusin"?(ja(),fl=e,Tl=n,fl.attachEvent("onpropertychange",Yd)):t==="focusout"&&ja()}function ym(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Co(Tl)}function vm(t,e){if(t==="click")return Co(e)}function wm(t,e){if(t==="input"||t==="change")return Co(e)}function xm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:xm;function Dl(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ri.call(e,l)||!wt(t[l],e[l]))return!1}return!0}function Oa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function za(t,e){var n=Oa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Oa(n)}}function Xd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jd(){for(var t=window,e=Bs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bs(t.document)}return e}function nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function km(t){var e=Jd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xd(n.ownerDocument.documentElement,n)){if(r!==null&&nc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=n.textContent.length,s=Math.min(r.start,l);r=r.end===void 0?s:Math.min(r.end,l),!t.extend&&s>r&&(l=r,r=s,s=l),l=za(n,s);var o=za(n,r);l&&o&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sm=Bt&&"documentMode"in document&&11>=document.documentMode,cr=null,qi=null,dl=null,eu=!1;function Ua(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;eu||cr==null||cr!==Bs(r)||(r=cr,"selectionStart"in r&&nc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dl&&Dl(dl,r)||(dl=r,r=Gs(qi,"onSelect"),0<r.length&&(e=new qu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cr)))}function as(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ar={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionend:as("Transition","TransitionEnd")},si={},Zd={};Bt&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Eo(t){if(si[t])return si[t];if(!ar[t])return t;var e=ar[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zd)return si[t]=e[n];return t}var qd=Eo("animationend"),eh=Eo("animationiteration"),th=Eo("animationstart"),nh=Eo("transitionend"),rh=new Map,Fa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(t,e){rh.set(t,e),Xn(e,[t])}for(var oi=0;oi<Fa.length;oi++){var ii=Fa[oi],_m=ii.toLowerCase(),Cm=ii[0].toUpperCase()+ii.slice(1);Tn(_m,"on"+Cm)}Tn(qd,"onAnimationEnd");Tn(eh,"onAnimationIteration");Tn(th,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(nh,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Em=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function Ba(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_0(r,e,void 0,t),t.currentTarget=null}function lh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],l=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],i=u.instance,c=u.currentTarget;if(u=u.listener,i!==s&&l.isPropagationStopped())break e;Ba(l,u,c),s=i}else for(o=0;o<r.length;o++){if(u=r[o],i=u.instance,c=u.currentTarget,u=u.listener,i!==s&&l.isPropagationStopped())break e;Ba(l,u,c),s=i}}}if(Hs)throw t=Yi,Hs=!1,Yi=null,t}function G(t,e){var n=e[su];n===void 0&&(n=e[su]=new Set);var r=t+"__bubble";n.has(r)||(sh(e,t,2,!1),n.add(r))}function ui(t,e,n){var r=0;e&&(r|=4),sh(n,t,r,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function Nl(t){if(!t[fs]){t[fs]=!0,dd.forEach(function(n){n!=="selectionchange"&&(Em.has(n)||ui(n,!1,t),ui(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,ui("selectionchange",!1,e))}}function sh(t,e,n,r){switch(bd(e)){case 1:var l=U0;break;case 4:l=F0;break;default:l=Ju}n=l.bind(null,e,n,t),l=void 0,!Gi||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),r?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function ci(t,e,n,r,l){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(o===4)for(o=r.return;o!==null;){var i=o.tag;if((i===3||i===4)&&(i=o.stateNode.containerInfo,i===l||i.nodeType===8&&i.parentNode===l))return;o=o.return}for(;u!==null;){if(o=$n(u),o===null)return;if(i=o.tag,i===5||i===6){r=s=o;continue e}u=u.parentNode}}r=r.return}Nd(function(){var c=s,a=Ku(n),f=[];e:{var d=rh.get(t);if(d!==void 0){var h=qu,p=t;switch(t){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":h=tm;break;case"focusin":p="focus",h=ni;break;case"focusout":p="blur",h=ni;break;case"beforeblur":case"afterblur":h=ni;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=lm;break;case qd:case eh:case th:h=Q0;break;case nh:h=om;break;case"scroll":h=B0;break;case"wheel":h=um;break;case"copy":case"cut":case"paste":h=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Ia}var v=(e&4)!==0,_=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var g=c,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=Sl(g,m),w!=null&&v.push(Ml(g,w,y)))),_)break;g=g.return}0<v.length&&(d=new h(d,p,null,n,a),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Qi&&(p=n.relatedTarget||n.fromElement)&&($n(p)||p[bt]))break e;if((h||d)&&(d=a.window===a?a:(d=a.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?$n(p):null,p!==null&&(_=Jn(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(v=Ma,w="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Ia,w="onPointerLeave",m="onPointerEnter",g="pointer"),_=h==null?d:fr(h),y=p==null?d:fr(p),d=new v(w,g+"leave",h,n,a),d.target=_,d.relatedTarget=y,w=null,$n(a)===c&&(v=new v(m,g+"enter",p,n,a),v.target=y,v.relatedTarget=_,w=v),_=w,h&&p)t:{for(v=h,m=p,g=0,y=v;y;y=rr(y))g++;for(y=0,w=m;w;w=rr(w))y++;for(;0<g-y;)v=rr(v),g--;for(;0<y-g;)m=rr(m),y--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=rr(v),m=rr(m)}v=null}else v=null;h!==null&&ba(f,d,h,v,!1),p!==null&&_!==null&&ba(f,_,p,v,!0)}}e:{if(d=c?fr(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var k=gm;else if(Ra(d))if(Gd)k=wm;else{k=ym;var T=mm}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=vm);if(k&&(k=k(t,c))){Kd(f,k,n,a);break e}T&&T(t,d,c),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&Bi(d,"number",d.value)}switch(T=c?fr(c):window,t){case"focusin":(Ra(T)||T.contentEditable==="true")&&(cr=T,qi=c,dl=null);break;case"focusout":dl=qi=cr=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,Ua(f,n,a);break;case"selectionchange":if(Sm)break;case"keydown":case"keyup":Ua(f,n,a)}var D;if(tc)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ur?Wd(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Vd&&n.locale!=="ko"&&(ur||x!=="onCompositionStart"?x==="onCompositionEnd"&&ur&&(D=Hd()):(un=a,Zu="value"in un?un.value:un.textContent,ur=!0)),T=Gs(c,x),0<T.length&&(x=new La(x,t,null,n,a),f.push({event:x,listeners:T}),D?x.data=D:(D=Qd(n),D!==null&&(x.data=D)))),(D=am?fm(t,n):dm(t,n))&&(c=Gs(c,"onBeforeInput"),0<c.length&&(a=new La("onBeforeInput","beforeinput",null,n,a),f.push({event:a,listeners:c}),a.data=D))}lh(f,e)})}function Ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gs(t,e){for(var n=e+"Capture",r=[];t!==null;){var l=t,s=l.stateNode;l.tag===5&&s!==null&&(l=s,s=Sl(t,n),s!=null&&r.unshift(Ml(t,s,l)),s=Sl(t,e),s!=null&&r.push(Ml(t,s,l))),t=t.return}return r}function rr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ba(t,e,n,r,l){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,i=u.alternate,c=u.stateNode;if(i!==null&&i===r)break;u.tag===5&&c!==null&&(u=c,l?(i=Sl(n,s),i!=null&&o.unshift(Ml(n,i,u))):l||(i=Sl(n,s),i!=null&&o.push(Ml(n,i,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Tm=/\r\n?/g,Dm=/\u0000|\uFFFD/g;function Ha(t){return(typeof t=="string"?t:""+t).replace(Tm,`
`).replace(Dm,"")}function ds(t,e,n){if(e=Ha(e),Ha(t)!==e&&n)throw Error(E(425))}function Ys(){}var tu=null,nu=null;function ru(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lu=typeof setTimeout=="function"?setTimeout:void 0,Nm=typeof clearTimeout=="function"?clearTimeout:void 0,Va=typeof Promise=="function"?Promise:void 0,Mm=typeof queueMicrotask=="function"?queueMicrotask:typeof Va<"u"?function(t){return Va.resolve(null).then(t).catch(Lm)}:lu;function Lm(t){setTimeout(function(){throw t})}function ai(t,e){var n=e,r=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){t.removeChild(l),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);El(e)}function pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var br=Math.random().toString(36).slice(2),_t="__reactFiber$"+br,Ll="__reactProps$"+br,bt="__reactContainer$"+br,su="__reactEvents$"+br,Im="__reactListeners$"+br,$m="__reactHandles$"+br;function $n(t){var e=t[_t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bt]||n[_t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wa(t);t!==null;){if(n=t[_t])return n;t=Wa(t)}return e}t=n,n=t.parentNode}return null}function Kl(t){return t=t[_t]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function To(t){return t[Ll]||null}var ou=[],dr=-1;function Dn(t){return{current:t}}function Y(t){0>dr||(t.current=ou[dr],ou[dr]=null,dr--)}function K(t,e){dr++,ou[dr]=t.current,t.current=e}var Sn={},Ae=Dn(Sn),Ve=Dn(!1),Fn=Sn;function Dr(t,e){var n=t.type.contextTypes;if(!n)return Sn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var l={},s;for(s in n)l[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function We(t){return t=t.childContextTypes,t!=null}function Xs(){Y(Ve),Y(Ae)}function Qa(t,e,n){if(Ae.current!==Sn)throw Error(E(168));K(Ae,e),K(Ve,n)}function oh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in e))throw Error(E(108,m0(t)||"Unknown",l));return ne({},n,r)}function Js(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Sn,Fn=Ae.current,K(Ae,t),K(Ve,Ve.current),!0}function Ka(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=oh(t,e,Fn),r.__reactInternalMemoizedMergedChildContext=t,Y(Ve),Y(Ae),K(Ae,t)):Y(Ve),K(Ve,n)}var Pt=null,Do=!1,fi=!1;function ih(t){Pt===null?Pt=[t]:Pt.push(t)}function Am(t){Do=!0,ih(t)}function Nn(){if(!fi&&Pt!==null){fi=!0;var t=0,e=V;try{var n=Pt;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pt=null,Do=!1}catch(l){throw Pt!==null&&(Pt=Pt.slice(t+1)),$d(Gu,Nn),l}finally{V=e,fi=!1}}return null}var hr=[],pr=0,Zs=null,qs=0,lt=[],st=0,Bn=null,jt=1,Ot="";function Ln(t,e){hr[pr++]=qs,hr[pr++]=Zs,Zs=t,qs=e}function uh(t,e,n){lt[st++]=jt,lt[st++]=Ot,lt[st++]=Bn,Bn=t;var r=jt;t=Ot;var l=32-yt(r)-1;r&=~(1<<l),n+=1;var s=32-yt(e)+l;if(30<s){var o=l-l%5;s=(r&(1<<o)-1).toString(32),r>>=o,l-=o,jt=1<<32-yt(e)+l|n<<l|r,Ot=s+t}else jt=1<<s|n<<l|r,Ot=t}function rc(t){t.return!==null&&(Ln(t,1),uh(t,1,0))}function lc(t){for(;t===Zs;)Zs=hr[--pr],hr[pr]=null,qs=hr[--pr],hr[pr]=null;for(;t===Bn;)Bn=lt[--st],lt[st]=null,Ot=lt[--st],lt[st]=null,jt=lt[--st],lt[st]=null}var qe=null,Ze=null,X=!1,mt=null;function ch(t,e){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ga(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qe=t,Ze=pn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qe=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bn!==null?{id:jt,overflow:Ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qe=t,Ze=null,!0):!1;default:return!1}}function iu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uu(t){if(X){var e=Ze;if(e){var n=e;if(!Ga(t,e)){if(iu(t))throw Error(E(418));e=pn(n.nextSibling);var r=qe;e&&Ga(t,e)?ch(r,n):(t.flags=t.flags&-4097|2,X=!1,qe=t)}}else{if(iu(t))throw Error(E(418));t.flags=t.flags&-4097|2,X=!1,qe=t}}}function Ya(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qe=t}function hs(t){if(t!==qe)return!1;if(!X)return Ya(t),X=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ru(t.type,t.memoizedProps)),e&&(e=Ze)){if(iu(t))throw ah(),Error(E(418));for(;e;)ch(t,e),e=pn(e.nextSibling)}if(Ya(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ze=pn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=qe?pn(t.stateNode.nextSibling):null;return!0}function ah(){for(var t=Ze;t;)t=pn(t.nextSibling)}function Nr(){Ze=qe=null,X=!1}function sc(t){mt===null?mt=[t]:mt.push(t)}var Rm=Gt.ReactCurrentBatchConfig;function el(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var l=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var u=l.refs;o===null?delete u[s]:u[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ps(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Xa(t){var e=t._init;return e(t._payload)}function fh(t){function e(m,g){if(t){var y=m.deletions;y===null?(m.deletions=[g],m.flags|=16):y.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function l(m,g){return m=vn(m,g),m.index=0,m.sibling=null,m}function s(m,g,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<g?(m.flags|=2,g):y):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function u(m,g,y,w){return g===null||g.tag!==6?(g=vi(y,m.mode,w),g.return=m,g):(g=l(g,y),g.return=m,g)}function i(m,g,y,w){var k=y.type;return k===ir?a(m,g,y.props.children,w,y.key):g!==null&&(g.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nn&&Xa(k)===g.type)?(w=l(g,y.props),w.ref=el(m,g,y),w.return=m,w):(w=js(y.type,y.key,y.props,null,m.mode,w),w.ref=el(m,g,y),w.return=m,w)}function c(m,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=wi(y,m.mode,w),g.return=m,g):(g=l(g,y.children||[]),g.return=m,g)}function a(m,g,y,w,k){return g===null||g.tag!==7?(g=On(y,m.mode,w,k),g.return=m,g):(g=l(g,y),g.return=m,g)}function f(m,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=vi(""+g,m.mode,y),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rs:return y=js(g.type,g.key,g.props,null,m.mode,y),y.ref=el(m,null,g),y.return=m,y;case or:return g=wi(g,m.mode,y),g.return=m,g;case nn:var w=g._init;return f(m,w(g._payload),y)}if(ll(g)||Yr(g))return g=On(g,m.mode,y,null),g.return=m,g;ps(m,g)}return null}function d(m,g,y,w){var k=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:u(m,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rs:return y.key===k?i(m,g,y,w):null;case or:return y.key===k?c(m,g,y,w):null;case nn:return k=y._init,d(m,g,k(y._payload),w)}if(ll(y)||Yr(y))return k!==null?null:a(m,g,y,w,null);ps(m,y)}return null}function h(m,g,y,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,u(g,m,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:return m=m.get(w.key===null?y:w.key)||null,i(g,m,w,k);case or:return m=m.get(w.key===null?y:w.key)||null,c(g,m,w,k);case nn:var T=w._init;return h(m,g,y,T(w._payload),k)}if(ll(w)||Yr(w))return m=m.get(y)||null,a(g,m,w,k,null);ps(g,w)}return null}function p(m,g,y,w){for(var k=null,T=null,D=g,x=g=0,F=null;D!==null&&x<y.length;x++){D.index>x?(F=D,D=null):F=D.sibling;var $=d(m,D,y[x],w);if($===null){D===null&&(D=F);break}t&&D&&$.alternate===null&&e(m,D),g=s($,g,x),T===null?k=$:T.sibling=$,T=$,D=F}if(x===y.length)return n(m,D),X&&Ln(m,x),k;if(D===null){for(;x<y.length;x++)D=f(m,y[x],w),D!==null&&(g=s(D,g,x),T===null?k=D:T.sibling=D,T=D);return X&&Ln(m,x),k}for(D=r(m,D);x<y.length;x++)F=h(D,m,x,y[x],w),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?x:F.key),g=s(F,g,x),T===null?k=F:T.sibling=F,T=F);return t&&D.forEach(function(Q){return e(m,Q)}),X&&Ln(m,x),k}function v(m,g,y,w){var k=Yr(y);if(typeof k!="function")throw Error(E(150));if(y=k.call(y),y==null)throw Error(E(151));for(var T=k=null,D=g,x=g=0,F=null,$=y.next();D!==null&&!$.done;x++,$=y.next()){D.index>x?(F=D,D=null):F=D.sibling;var Q=d(m,D,$.value,w);if(Q===null){D===null&&(D=F);break}t&&D&&Q.alternate===null&&e(m,D),g=s(Q,g,x),T===null?k=Q:T.sibling=Q,T=Q,D=F}if($.done)return n(m,D),X&&Ln(m,x),k;if(D===null){for(;!$.done;x++,$=y.next())$=f(m,$.value,w),$!==null&&(g=s($,g,x),T===null?k=$:T.sibling=$,T=$);return X&&Ln(m,x),k}for(D=r(m,D);!$.done;x++,$=y.next())$=h(D,m,x,$.value,w),$!==null&&(t&&$.alternate!==null&&D.delete($.key===null?x:$.key),g=s($,g,x),T===null?k=$:T.sibling=$,T=$);return t&&D.forEach(function(Te){return e(m,Te)}),X&&Ln(m,x),k}function _(m,g,y,w){if(typeof y=="object"&&y!==null&&y.type===ir&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case rs:e:{for(var k=y.key,T=g;T!==null;){if(T.key===k){if(k=y.type,k===ir){if(T.tag===7){n(m,T.sibling),g=l(T,y.props.children),g.return=m,m=g;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nn&&Xa(k)===T.type){n(m,T.sibling),g=l(T,y.props),g.ref=el(m,T,y),g.return=m,m=g;break e}n(m,T);break}else e(m,T);T=T.sibling}y.type===ir?(g=On(y.props.children,m.mode,w,y.key),g.return=m,m=g):(w=js(y.type,y.key,y.props,null,m.mode,w),w.ref=el(m,g,y),w.return=m,m=w)}return o(m);case or:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(m,g.sibling),g=l(g,y.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=wi(y,m.mode,w),g.return=m,m=g}return o(m);case nn:return T=y._init,_(m,g,T(y._payload),w)}if(ll(y))return p(m,g,y,w);if(Yr(y))return v(m,g,y,w);ps(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(m,g.sibling),g=l(g,y),g.return=m,m=g):(n(m,g),g=vi(y,m.mode,w),g.return=m,m=g),o(m)):n(m,g)}return _}var Mr=fh(!0),dh=fh(!1),eo=Dn(null),to=null,gr=null,oc=null;function ic(){oc=gr=to=null}function uc(t){var e=eo.current;Y(eo),t._currentValue=e}function cu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sr(t,e){to=t,oc=gr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function at(t){var e=t._currentValue;if(oc!==t)if(t={context:t,memoizedValue:e,next:null},gr===null){if(to===null)throw Error(E(308));gr=t,to.dependencies={lanes:0,firstContext:t}}else gr=gr.next=t;return e}var An=null;function cc(t){An===null?An=[t]:An.push(t)}function hh(t,e,n,r){var l=e.interleaved;return l===null?(n.next=n,cc(e)):(n.next=l.next,l.next=n),e.interleaved=n,Ht(t,r)}function Ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rn=!1;function ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ph(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var l=r.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),r.pending=e,Ht(t,n)}return l=r.interleaved,l===null?(e.next=e,cc(r)):(e.next=l.next,l.next=e),r.interleaved=e,Ht(t,n)}function Ls(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yu(t,n)}}function Ja(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?l=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?l=s=e:s=s.next=e}else l=s=e;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function no(t,e,n,r){var l=t.updateQueue;rn=!1;var s=l.firstBaseUpdate,o=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var i=u,c=i.next;i.next=null,o===null?s=c:o.next=c,o=i;var a=t.alternate;a!==null&&(a=a.updateQueue,u=a.lastBaseUpdate,u!==o&&(u===null?a.firstBaseUpdate=c:u.next=c,a.lastBaseUpdate=i))}if(s!==null){var f=l.baseState;o=0,a=c=i=null,u=s;do{var d=u.lane,h=u.eventTime;if((r&d)===d){a!==null&&(a=a.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=t,v=u;switch(d=e,h=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ne({},f,d);break e;case 2:rn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,d=l.effects,d===null?l.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},a===null?(c=a=h,i=f):a=a.next=h,o|=d;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;d=u,u=d.next,d.next=null,l.lastBaseUpdate=d,l.shared.pending=null}}while(!0);if(a===null&&(i=f),l.baseState=i,l.firstBaseUpdate=c,l.lastBaseUpdate=a,e=l.shared.interleaved,e!==null){l=e;do o|=l.lane,l=l.next;while(l!==e)}else s===null&&(l.shared.lanes=0);Hn|=o,t.lanes=o,t.memoizedState=f}}function Za(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(E(191,l));l.call(r)}}}var Gl={},Et=Dn(Gl),Il=Dn(Gl),$l=Dn(Gl);function Rn(t){if(t===Gl)throw Error(E(174));return t}function fc(t,e){switch(K($l,e),K(Il,t),K(Et,Gl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hi(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hi(e,t)}Y(Et),K(Et,e)}function Lr(){Y(Et),Y(Il),Y($l)}function gh(t){Rn($l.current);var e=Rn(Et.current),n=Hi(e,t.type);e!==n&&(K(Il,t),K(Et,n))}function dc(t){Il.current===t&&(Y(Et),Y(Il))}var ee=Dn(0);function ro(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var di=[];function hc(){for(var t=0;t<di.length;t++)di[t]._workInProgressVersionPrimary=null;di.length=0}var Is=Gt.ReactCurrentDispatcher,hi=Gt.ReactCurrentBatchConfig,bn=0,te=null,fe=null,ye=null,lo=!1,hl=!1,Al=0,Pm=0;function De(){throw Error(E(321))}function pc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wt(t[n],e[n]))return!1;return!0}function gc(t,e,n,r,l,s){if(bn=s,te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Is.current=t===null||t.memoizedState===null?Um:Fm,t=n(r,l),hl){s=0;do{if(hl=!1,Al=0,25<=s)throw Error(E(301));s+=1,ye=fe=null,e.updateQueue=null,Is.current=Bm,t=n(r,l)}while(hl)}if(Is.current=so,e=fe!==null&&fe.next!==null,bn=0,ye=fe=te=null,lo=!1,e)throw Error(E(300));return t}function mc(){var t=Al!==0;return Al=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?te.memoizedState=ye=t:ye=ye.next=t,ye}function ft(){if(fe===null){var t=te.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=ye===null?te.memoizedState:ye.next;if(e!==null)ye=e,fe=t;else{if(t===null)throw Error(E(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ye===null?te.memoizedState=ye=t:ye=ye.next=t}return ye}function Rl(t,e){return typeof e=="function"?e(t):e}function pi(t){var e=ft(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=fe,l=r.baseQueue,s=n.pending;if(s!==null){if(l!==null){var o=l.next;l.next=s.next,s.next=o}r.baseQueue=l=s,n.pending=null}if(l!==null){s=l.next,r=r.baseState;var u=o=null,i=null,c=s;do{var a=c.lane;if((bn&a)===a)i!==null&&(i=i.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:a,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};i===null?(u=i=f,o=r):i=i.next=f,te.lanes|=a,Hn|=a}c=c.next}while(c!==null&&c!==s);i===null?o=r:i.next=u,wt(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=i,n.lastRenderedState=r}if(t=n.interleaved,t!==null){l=t;do s=l.lane,te.lanes|=s,Hn|=s,l=l.next;while(l!==t)}else l===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gi(t){var e=ft(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,l=n.pending,s=e.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do s=t(s,o.action),o=o.next;while(o!==l);wt(s,e.memoizedState)||(He=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mh(){}function yh(t,e){var n=te,r=ft(),l=e(),s=!wt(r.memoizedState,l);if(s&&(r.memoizedState=l,He=!0),r=r.queue,yc(xh.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,Pl(9,wh.bind(null,n,r,l,e),void 0,null),we===null)throw Error(E(349));bn&30||vh(n,e,l)}return l}function vh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wh(t,e,n,r){e.value=n,e.getSnapshot=r,kh(e)&&Sh(t)}function xh(t,e,n){return n(function(){kh(e)&&Sh(t)})}function kh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wt(t,n)}catch{return!0}}function Sh(t){var e=Ht(t,1);e!==null&&vt(e,t,1,-1)}function qa(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:t},e.queue=t,t=t.dispatch=zm.bind(null,te,t),[e.memoizedState,t]}function Pl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=te.updateQueue,e===null?(e={lastEffect:null,stores:null},te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _h(){return ft().memoizedState}function $s(t,e,n,r){var l=St();te.flags|=t,l.memoizedState=Pl(1|e,n,void 0,r===void 0?null:r)}function No(t,e,n,r){var l=ft();r=r===void 0?null:r;var s=void 0;if(fe!==null){var o=fe.memoizedState;if(s=o.destroy,r!==null&&pc(r,o.deps)){l.memoizedState=Pl(e,n,s,r);return}}te.flags|=t,l.memoizedState=Pl(1|e,n,s,r)}function ef(t,e){return $s(8390656,8,t,e)}function yc(t,e){return No(2048,8,t,e)}function Ch(t,e){return No(4,2,t,e)}function Eh(t,e){return No(4,4,t,e)}function Th(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dh(t,e,n){return n=n!=null?n.concat([t]):null,No(4,4,Th.bind(null,e,t),n)}function vc(){}function Nh(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mh(t,e){var n=ft();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Lh(t,e,n){return bn&21?(wt(n,e)||(n=Pd(),te.lanes|=n,Hn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function jm(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=hi.transition;hi.transition={};try{t(!1),e()}finally{V=n,hi.transition=r}}function Ih(){return ft().memoizedState}function Om(t,e,n){var r=yn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$h(t))Ah(e,n);else if(n=hh(t,e,n,r),n!==null){var l=Oe();vt(n,t,r,l),Rh(n,e,r)}}function zm(t,e,n){var r=yn(t),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($h(t))Ah(e,l);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,u=s(o,n);if(l.hasEagerState=!0,l.eagerState=u,wt(u,o)){var i=e.interleaved;i===null?(l.next=l,cc(e)):(l.next=i.next,i.next=l),e.interleaved=l;return}}catch{}finally{}n=hh(t,e,l,r),n!==null&&(l=Oe(),vt(n,t,r,l),Rh(n,e,r))}}function $h(t){var e=t.alternate;return t===te||e!==null&&e===te}function Ah(t,e){hl=lo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Rh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yu(t,n)}}var so={readContext:at,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},Um={readContext:at,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:at,useEffect:ef,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$s(4194308,4,Th.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $s(4194308,4,t,e)},useInsertionEffect:function(t,e){return $s(4,2,t,e)},useMemo:function(t,e){var n=St();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=St();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Om.bind(null,te,t),[r.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:qa,useDebugValue:vc,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=qa(!1),e=t[0];return t=jm.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=te,l=St();if(X){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),we===null)throw Error(E(349));bn&30||vh(r,e,n)}l.memoizedState=n;var s={value:n,getSnapshot:e};return l.queue=s,ef(xh.bind(null,r,s,t),[t]),r.flags|=2048,Pl(9,wh.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=St(),e=we.identifierPrefix;if(X){var n=Ot,r=jt;n=(r&~(1<<32-yt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Al++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fm={readContext:at,useCallback:Nh,useContext:at,useEffect:yc,useImperativeHandle:Dh,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Mh,useReducer:pi,useRef:_h,useState:function(){return pi(Rl)},useDebugValue:vc,useDeferredValue:function(t){var e=ft();return Lh(e,fe.memoizedState,t)},useTransition:function(){var t=pi(Rl)[0],e=ft().memoizedState;return[t,e]},useMutableSource:mh,useSyncExternalStore:yh,useId:Ih,unstable_isNewReconciler:!1},Bm={readContext:at,useCallback:Nh,useContext:at,useEffect:yc,useImperativeHandle:Dh,useInsertionEffect:Ch,useLayoutEffect:Eh,useMemo:Mh,useReducer:gi,useRef:_h,useState:function(){return gi(Rl)},useDebugValue:vc,useDeferredValue:function(t){var e=ft();return fe===null?e.memoizedState=t:Lh(e,fe.memoizedState,t)},useTransition:function(){var t=gi(Rl)[0],e=ft().memoizedState;return[t,e]},useMutableSource:mh,useSyncExternalStore:yh,useId:Ih,unstable_isNewReconciler:!1};function pt(t,e){if(t&&t.defaultProps){e=ne({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function au(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ne({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mo={isMounted:function(t){return(t=t._reactInternals)?Jn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Oe(),l=yn(t),s=Ut(r,l);s.payload=e,n!=null&&(s.callback=n),e=gn(t,s,l),e!==null&&(vt(e,t,l,r),Ls(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Oe(),l=yn(t),s=Ut(r,l);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gn(t,s,l),e!==null&&(vt(e,t,l,r),Ls(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Oe(),r=yn(t),l=Ut(n,r);l.tag=2,e!=null&&(l.callback=e),e=gn(t,l,r),e!==null&&(vt(e,t,r,n),Ls(e,t,r))}};function tf(t,e,n,r,l,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(l,s):!0}function Ph(t,e,n){var r=!1,l=Sn,s=e.contextType;return typeof s=="object"&&s!==null?s=at(s):(l=We(e)?Fn:Ae.current,r=e.contextTypes,s=(r=r!=null)?Dr(t,l):Sn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=s),e}function nf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mo.enqueueReplaceState(e,e.state,null)}function fu(t,e,n,r){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs={},ac(t);var s=e.contextType;typeof s=="object"&&s!==null?l.context=at(s):(s=We(e)?Fn:Ae.current,l.context=Dr(t,s)),l.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(au(t,e,s,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&Mo.enqueueReplaceState(l,l.state,null),no(t,n,l,r),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function Ir(t,e){try{var n="",r=e;do n+=g0(r),r=r.return;while(r);var l=n}catch(s){l=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:l,digest:null}}function mi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function du(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bm=typeof WeakMap=="function"?WeakMap:Map;function jh(t,e,n){n=Ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){io||(io=!0,Su=r),du(t,e)},n}function Oh(t,e,n){n=Ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var l=e.value;n.payload=function(){return r(l)},n.callback=function(){du(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){du(t,e),typeof r!="function"&&(mn===null?mn=new Set([this]):mn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bm;var l=new Set;r.set(e,l)}else l=r.get(e),l===void 0&&(l=new Set,r.set(e,l));l.has(n)||(l.add(n),t=ny.bind(null,t,e,n),e.then(t,t))}function lf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sf(t,e,n,r,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ut(-1,1),e.tag=2,gn(n,e,1))),n.lanes|=1),t)}var Hm=Gt.ReactCurrentOwner,He=!1;function je(t,e,n,r){e.child=t===null?dh(e,null,n,r):Mr(e,t.child,n,r)}function of(t,e,n,r,l){n=n.render;var s=e.ref;return Sr(e,l),r=gc(t,e,n,r,s,l),n=mc(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,Vt(t,e,l)):(X&&n&&rc(e),e.flags|=1,je(t,e,r,l),e.child)}function uf(t,e,n,r,l){if(t===null){var s=n.type;return typeof s=="function"&&!Tc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zh(t,e,s,r,l)):(t=js(n.type,null,r,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&l)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(o,r)&&t.ref===e.ref)return Vt(t,e,l)}return e.flags|=1,t=vn(s,r),t.ref=e.ref,t.return=e,e.child=t}function zh(t,e,n,r,l){if(t!==null){var s=t.memoizedProps;if(Dl(s,r)&&t.ref===e.ref)if(He=!1,e.pendingProps=r=s,(t.lanes&l)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,Vt(t,e,l)}return hu(t,e,n,r,l)}function Uh(t,e,n){var r=e.pendingProps,l=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(yr,Xe),Xe|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,K(yr,Xe),Xe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,K(yr,Xe),Xe|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,K(yr,Xe),Xe|=r;return je(t,e,l,n),e.child}function Fh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hu(t,e,n,r,l){var s=We(n)?Fn:Ae.current;return s=Dr(e,s),Sr(e,l),n=gc(t,e,n,r,s,l),r=mc(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,Vt(t,e,l)):(X&&r&&rc(e),e.flags|=1,je(t,e,n,l),e.child)}function cf(t,e,n,r,l){if(We(n)){var s=!0;Js(e)}else s=!1;if(Sr(e,l),e.stateNode===null)As(t,e),Ph(e,n,r),fu(e,n,r,l),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var i=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=at(c):(c=We(n)?Fn:Ae.current,c=Dr(e,c));var a=n.getDerivedStateFromProps,f=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||i!==c)&&nf(e,o,r,c),rn=!1;var d=e.memoizedState;o.state=d,no(e,r,o,l),i=e.memoizedState,u!==r||d!==i||Ve.current||rn?(typeof a=="function"&&(au(e,n,a,r),i=e.memoizedState),(u=rn||tf(e,n,u,r,d,i,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=i),o.props=r,o.state=i,o.context=c,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ph(t,e),u=e.memoizedProps,c=e.type===e.elementType?u:pt(e.type,u),o.props=c,f=e.pendingProps,d=o.context,i=n.contextType,typeof i=="object"&&i!==null?i=at(i):(i=We(n)?Fn:Ae.current,i=Dr(e,i));var h=n.getDerivedStateFromProps;(a=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==f||d!==i)&&nf(e,o,r,i),rn=!1,d=e.memoizedState,o.state=d,no(e,r,o,l);var p=e.memoizedState;u!==f||d!==p||Ve.current||rn?(typeof h=="function"&&(au(e,n,h,r),p=e.memoizedState),(c=rn||tf(e,n,c,r,d,p,i)||!1)?(a||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,i),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,i)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=i,r=c):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return pu(t,e,n,r,s,l)}function pu(t,e,n,r,l,s){Fh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return l&&Ka(e,n,!1),Vt(t,e,s);r=e.stateNode,Hm.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Mr(e,t.child,null,s),e.child=Mr(e,null,u,s)):je(t,e,u,s),e.memoizedState=r.state,l&&Ka(e,n,!0),e.child}function Bh(t){var e=t.stateNode;e.pendingContext?Qa(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qa(t,e.context,!1),fc(t,e.containerInfo)}function af(t,e,n,r,l){return Nr(),sc(l),e.flags|=256,je(t,e,n,r),e.child}var gu={dehydrated:null,treeContext:null,retryLane:0};function mu(t){return{baseLanes:t,cachePool:null,transitions:null}}function bh(t,e,n){var r=e.pendingProps,l=ee.current,s=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(l&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),K(ee,l&1),t===null)return uu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$o(o,r,0,null),t=On(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mu(n),e.memoizedState=gu,t):wc(e,o));if(l=t.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return Vm(t,e,o,r,u,l,n);if(s){s=r.fallback,o=e.mode,l=t.child,u=l.sibling;var i={mode:"hidden",children:r.children};return!(o&1)&&e.child!==l?(r=e.child,r.childLanes=0,r.pendingProps=i,e.deletions=null):(r=vn(l,i),r.subtreeFlags=l.subtreeFlags&14680064),u!==null?s=vn(u,s):(s=On(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gu,r}return s=t.child,t=s.sibling,r=vn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wc(t,e){return e=$o({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gs(t,e,n,r){return r!==null&&sc(r),Mr(e,t.child,null,n),t=wc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vm(t,e,n,r,l,s,o){if(n)return e.flags&256?(e.flags&=-257,r=mi(Error(E(422))),gs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,l=e.mode,r=$o({mode:"visible",children:r.children},l,0,null),s=On(s,l,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mr(e,t.child,null,o),e.child.memoizedState=mu(o),e.memoizedState=gu,s);if(!(e.mode&1))return gs(t,e,o,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(E(419)),r=mi(s,r,void 0),gs(t,e,o,r)}if(u=(o&t.childLanes)!==0,He||u){if(r=we,r!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|o)?0:l,l!==0&&l!==s.retryLane&&(s.retryLane=l,Ht(t,l),vt(r,t,l,-1))}return Ec(),r=mi(Error(E(421))),gs(t,e,o,r)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=ry.bind(null,t),l._reactRetry=e,null):(t=s.treeContext,Ze=pn(l.nextSibling),qe=e,X=!0,mt=null,t!==null&&(lt[st++]=jt,lt[st++]=Ot,lt[st++]=Bn,jt=t.id,Ot=t.overflow,Bn=e),e=wc(e,r.children),e.flags|=4096,e)}function ff(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cu(t.return,e,n)}function yi(t,e,n,r,l){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=l)}function Hh(t,e,n){var r=e.pendingProps,l=r.revealOrder,s=r.tail;if(je(t,e,r.children,n),r=ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ff(t,n,e);else if(t.tag===19)ff(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(K(ee,r),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&ro(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),yi(e,!1,l,n,s);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&ro(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}yi(e,!0,n,null,s);break;case"together":yi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Hn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wm(t,e,n){switch(e.tag){case 3:Bh(e),Nr();break;case 5:gh(e);break;case 1:We(e.type)&&Js(e);break;case 4:fc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,l=e.memoizedProps.value;K(eo,r._currentValue),r._currentValue=l;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(K(ee,ee.current&1),e.flags|=128,null):n&e.child.childLanes?bh(t,e,n):(K(ee,ee.current&1),t=Vt(t,e,n),t!==null?t.sibling:null);K(ee,ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hh(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),K(ee,ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Uh(t,e,n)}return Vt(t,e,n)}var Vh,yu,Wh,Qh;Vh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yu=function(){};Wh=function(t,e,n,r){var l=t.memoizedProps;if(l!==r){t=e.stateNode,Rn(Et.current);var s=null;switch(n){case"input":l=Ui(t,l),r=Ui(t,r),s=[];break;case"select":l=ne({},l,{value:void 0}),r=ne({},r,{value:void 0}),s=[];break;case"textarea":l=bi(t,l),r=bi(t,r),s=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ys)}Vi(n,r);var o;n=null;for(c in l)if(!r.hasOwnProperty(c)&&l.hasOwnProperty(c)&&l[c]!=null)if(c==="style"){var u=l[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var i=r[c];if(u=l!=null?l[c]:void 0,r.hasOwnProperty(c)&&i!==u&&(i!=null||u!=null))if(c==="style")if(u){for(o in u)!u.hasOwnProperty(o)||i&&i.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in i)i.hasOwnProperty(o)&&u[o]!==i[o]&&(n||(n={}),n[o]=i[o])}else n||(s||(s=[]),s.push(c,n)),n=i;else c==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,u=u?u.__html:void 0,i!=null&&u!==i&&(s=s||[]).push(c,i)):c==="children"?typeof i!="string"&&typeof i!="number"||(s=s||[]).push(c,""+i):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xl.hasOwnProperty(c)?(i!=null&&c==="onScroll"&&G("scroll",t),s||u===i||(s=[])):(s=s||[]).push(c,i))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Qh=function(t,e,n,r){n!==r&&(e.flags|=4)};function tl(t,e){if(!X)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qm(t,e,n){var r=e.pendingProps;switch(lc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return We(e.type)&&Xs(),Ne(e),null;case 3:return r=e.stateNode,Lr(),Y(Ve),Y(Ae),hc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mt!==null&&(Eu(mt),mt=null))),yu(t,e),Ne(e),null;case 5:dc(e);var l=Rn($l.current);if(n=e.type,t!==null&&e.stateNode!=null)Wh(t,e,n,r,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return Ne(e),null}if(t=Rn(Et.current),hs(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_t]=e,r[Ll]=s,t=(e.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(l=0;l<ol.length;l++)G(ol[l],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":wa(r,s),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},G("invalid",r);break;case"textarea":ka(r,s),G("invalid",r)}Vi(n,s),l=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&ds(r.textContent,u,t),l=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&ds(r.textContent,u,t),l=["children",""+u]):xl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&G("scroll",r)}switch(n){case"input":ls(r),xa(r,s,!0);break;case"textarea":ls(r),Sa(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ys)}r=l,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_t]=e,t[Ll]=r,Vh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wi(n,r),n){case"dialog":G("cancel",t),G("close",t),l=r;break;case"iframe":case"object":case"embed":G("load",t),l=r;break;case"video":case"audio":for(l=0;l<ol.length;l++)G(ol[l],t);l=r;break;case"source":G("error",t),l=r;break;case"img":case"image":case"link":G("error",t),G("load",t),l=r;break;case"details":G("toggle",t),l=r;break;case"input":wa(t,r),l=Ui(t,r),G("invalid",t);break;case"option":l=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=ne({},r,{value:void 0}),G("invalid",t);break;case"textarea":ka(t,r),l=bi(t,r),G("invalid",t);break;default:l=r}Vi(n,l),u=l;for(s in u)if(u.hasOwnProperty(s)){var i=u[s];s==="style"?_d(t,i):s==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&kd(t,i)):s==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&kl(t,i):typeof i=="number"&&kl(t,""+i):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xl.hasOwnProperty(s)?i!=null&&s==="onScroll"&&G("scroll",t):i!=null&&Hu(t,s,i,o))}switch(n){case"input":ls(t),xa(t,r,!1);break;case"textarea":ls(t),Sa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vr(t,!!r.multiple,s,!1):r.defaultValue!=null&&vr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Qh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=Rn($l.current),Rn(Et.current),hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[_t]=e,(s=r.nodeValue!==n)&&(t=qe,t!==null))switch(t.tag){case 3:ds(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ds(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_t]=e,e.stateNode=r}return Ne(e),null;case 13:if(Y(ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(X&&Ze!==null&&e.mode&1&&!(e.flags&128))ah(),Nr(),e.flags|=98560,s=!1;else if(s=hs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(E(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[_t]=e}else Nr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),s=!1}else mt!==null&&(Eu(mt),mt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ee.current&1?de===0&&(de=3):Ec())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return Lr(),yu(t,e),t===null&&Nl(e.stateNode.containerInfo),Ne(e),null;case 10:return uc(e.type._context),Ne(e),null;case 17:return We(e.type)&&Xs(),Ne(e),null;case 19:if(Y(ee),s=e.memoizedState,s===null)return Ne(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)tl(s,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ro(t),o!==null){for(e.flags|=128,tl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return K(ee,ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&ue()>$r&&(e.flags|=128,r=!0,tl(s,!1),e.lanes=4194304)}else{if(!r)if(t=ro(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!X)return Ne(e),null}else 2*ue()-s.renderingStartTime>$r&&n!==1073741824&&(e.flags|=128,r=!0,tl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ue(),e.sibling=null,n=ee.current,K(ee,r?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return Cc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xe&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function Km(t,e){switch(lc(e),e.tag){case 1:return We(e.type)&&Xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lr(),Y(Ve),Y(Ae),hc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dc(e),null;case 13:if(Y(ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Nr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(ee),null;case 4:return Lr(),null;case 10:return uc(e.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var ms=!1,Ie=!1,Gm=typeof WeakSet=="function"?WeakSet:Set,L=null;function mr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function vu(t,e,n){try{n()}catch(r){le(t,e,r)}}var df=!1;function Ym(t,e){if(tu=Qs,t=Jd(),nc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,i=-1,c=0,a=0,f=t,d=null;t:for(;;){for(var h;f!==n||l!==0&&f.nodeType!==3||(u=o+l),f!==s||r!==0&&f.nodeType!==3||(i=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===l&&(u=o),d===s&&++a===r&&(i=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=u===-1||i===-1?null:{start:u,end:i}}else n=null}n=n||{start:0,end:0}}else n=null;for(nu={focusedElem:t,selectionRange:n},Qs=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,_=p.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:pt(e.type,v),_);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){le(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return p=df,df=!1,p}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var s=l.destroy;l.destroy=void 0,s!==void 0&&vu(e,n,s)}l=l.next}while(l!==r)}}function Lo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kh(t){var e=t.alternate;e!==null&&(t.alternate=null,Kh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_t],delete e[Ll],delete e[su],delete e[Im],delete e[$m])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gh(t){return t.tag===5||t.tag===3||t.tag===4}function hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ys));else if(r!==4&&(t=t.child,t!==null))for(xu(t,e,n),t=t.sibling;t!==null;)xu(t,e,n),t=t.sibling}function ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ku(t,e,n),t=t.sibling;t!==null;)ku(t,e,n),t=t.sibling}var Se=null,gt=!1;function en(t,e,n){for(n=n.child;n!==null;)Yh(t,e,n),n=n.sibling}function Yh(t,e,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(So,n)}catch{}switch(n.tag){case 5:Ie||mr(n,e);case 6:var r=Se,l=gt;Se=null,en(t,e,n),Se=r,gt=l,Se!==null&&(gt?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(gt?(t=Se,n=n.stateNode,t.nodeType===8?ai(t.parentNode,n):t.nodeType===1&&ai(t,n),El(t)):ai(Se,n.stateNode));break;case 4:r=Se,l=gt,Se=n.stateNode.containerInfo,gt=!0,en(t,e,n),Se=r,gt=l;break;case 0:case 11:case 14:case 15:if(!Ie&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var s=l,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&vu(n,e,o),l=l.next}while(l!==r)}en(t,e,n);break;case 1:if(!Ie&&(mr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){le(n,e,u)}en(t,e,n);break;case 21:en(t,e,n);break;case 22:n.mode&1?(Ie=(r=Ie)||n.memoizedState!==null,en(t,e,n),Ie=r):en(t,e,n);break;default:en(t,e,n)}}function pf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gm),e.forEach(function(r){var l=ly.bind(null,t,r);n.has(r)||(n.add(r),r.then(l,l))})}}function ht(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var s=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:Se=u.stateNode,gt=!1;break e;case 3:Se=u.stateNode.containerInfo,gt=!0;break e;case 4:Se=u.stateNode.containerInfo,gt=!0;break e}u=u.return}if(Se===null)throw Error(E(160));Yh(s,o,l),Se=null,gt=!1;var i=l.alternate;i!==null&&(i.return=null),l.return=null}catch(c){le(l,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xh(e,t),e=e.sibling}function Xh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ht(e,t),xt(t),r&4){try{pl(3,t,t.return),Lo(3,t)}catch(v){le(t,t.return,v)}try{pl(5,t,t.return)}catch(v){le(t,t.return,v)}}break;case 1:ht(e,t),xt(t),r&512&&n!==null&&mr(n,n.return);break;case 5:if(ht(e,t),xt(t),r&512&&n!==null&&mr(n,n.return),t.flags&32){var l=t.stateNode;try{kl(l,"")}catch(v){le(t,t.return,v)}}if(r&4&&(l=t.stateNode,l!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,u=t.type,i=t.updateQueue;if(t.updateQueue=null,i!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&vd(l,s),Wi(u,o);var c=Wi(u,s);for(o=0;o<i.length;o+=2){var a=i[o],f=i[o+1];a==="style"?_d(l,f):a==="dangerouslySetInnerHTML"?kd(l,f):a==="children"?kl(l,f):Hu(l,a,f,c)}switch(u){case"input":Fi(l,s);break;case"textarea":wd(l,s);break;case"select":var d=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?vr(l,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?vr(l,!!s.multiple,s.defaultValue,!0):vr(l,!!s.multiple,s.multiple?[]:"",!1))}l[Ll]=s}catch(v){le(t,t.return,v)}}break;case 6:if(ht(e,t),xt(t),r&4){if(t.stateNode===null)throw Error(E(162));l=t.stateNode,s=t.memoizedProps;try{l.nodeValue=s}catch(v){le(t,t.return,v)}}break;case 3:if(ht(e,t),xt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(v){le(t,t.return,v)}break;case 4:ht(e,t),xt(t);break;case 13:ht(e,t),xt(t),l=t.child,l.flags&8192&&(s=l.memoizedState!==null,l.stateNode.isHidden=s,!s||l.alternate!==null&&l.alternate.memoizedState!==null||(Sc=ue())),r&4&&pf(t);break;case 22:if(a=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(c=Ie)||a,ht(e,t),Ie=c):ht(e,t),xt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!a&&t.mode&1)for(L=t,a=t.child;a!==null;){for(f=L=a;L!==null;){switch(d=L,h=d.child,d.tag){case 0:case 11:case 14:case 15:pl(4,d,d.return);break;case 1:mr(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(v){le(r,n,v)}}break;case 5:mr(d,d.return);break;case 22:if(d.memoizedState!==null){mf(f);continue}}h!==null?(h.return=d,L=h):mf(f)}a=a.sibling}e:for(a=null,f=t;;){if(f.tag===5){if(a===null){a=f;try{l=f.stateNode,c?(s=l.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=f.stateNode,i=f.memoizedProps.style,o=i!=null&&i.hasOwnProperty("display")?i.display:null,u.style.display=Sd("display",o))}catch(v){le(t,t.return,v)}}}else if(f.tag===6){if(a===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){le(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;a===f&&(a=null),f=f.return}a===f&&(a=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ht(e,t),xt(t),r&4&&pf(t);break;case 21:break;default:ht(e,t),xt(t)}}function xt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(kl(l,""),r.flags&=-33);var s=hf(t);ku(t,s,l);break;case 3:case 4:var o=r.stateNode.containerInfo,u=hf(t);xu(t,u,o);break;default:throw Error(E(161))}}catch(i){le(t,t.return,i)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xm(t,e,n){L=t,Jh(t)}function Jh(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var l=L,s=l.child;if(l.tag===22&&r){var o=l.memoizedState!==null||ms;if(!o){var u=l.alternate,i=u!==null&&u.memoizedState!==null||Ie;u=ms;var c=Ie;if(ms=o,(Ie=i)&&!c)for(L=l;L!==null;)o=L,i=o.child,o.tag===22&&o.memoizedState!==null?yf(l):i!==null?(i.return=o,L=i):yf(l);for(;s!==null;)L=s,Jh(s),s=s.sibling;L=l,ms=u,Ie=c}gf(t)}else l.subtreeFlags&8772&&s!==null?(s.return=l,L=s):gf(t)}}function gf(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||Lo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ie)if(n===null)r.componentDidMount();else{var l=e.elementType===e.type?n.memoizedProps:pt(e.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Za(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Za(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var i=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":i.autoFocus&&n.focus();break;case"img":i.src&&(n.src=i.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var a=c.memoizedState;if(a!==null){var f=a.dehydrated;f!==null&&El(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ie||e.flags&512&&wu(e)}catch(d){le(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function mf(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function yf(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lo(4,e)}catch(i){le(e,n,i)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var l=e.return;try{r.componentDidMount()}catch(i){le(e,l,i)}}var s=e.return;try{wu(e)}catch(i){le(e,s,i)}break;case 5:var o=e.return;try{wu(e)}catch(i){le(e,o,i)}}}catch(i){le(e,e.return,i)}if(e===t){L=null;break}var u=e.sibling;if(u!==null){u.return=e.return,L=u;break}L=e.return}}var Jm=Math.ceil,oo=Gt.ReactCurrentDispatcher,xc=Gt.ReactCurrentOwner,ct=Gt.ReactCurrentBatchConfig,H=0,we=null,ae=null,_e=0,Xe=0,yr=Dn(0),de=0,jl=null,Hn=0,Io=0,kc=0,gl=null,be=null,Sc=0,$r=1/0,Rt=null,io=!1,Su=null,mn=null,ys=!1,cn=null,uo=0,ml=0,_u=null,Rs=-1,Ps=0;function Oe(){return H&6?ue():Rs!==-1?Rs:Rs=ue()}function yn(t){return t.mode&1?H&2&&_e!==0?_e&-_e:Rm.transition!==null?(Ps===0&&(Ps=Pd()),Ps):(t=V,t!==0||(t=window.event,t=t===void 0?16:bd(t.type)),t):1}function vt(t,e,n,r){if(50<ml)throw ml=0,_u=null,Error(E(185));Wl(t,n,r),(!(H&2)||t!==we)&&(t===we&&(!(H&2)&&(Io|=n),de===4&&sn(t,_e)),Qe(t,r),n===1&&H===0&&!(e.mode&1)&&($r=ue()+500,Do&&Nn()))}function Qe(t,e){var n=t.callbackNode;R0(t,e);var r=Ws(t,t===we?_e:0);if(r===0)n!==null&&Ea(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ea(n),e===1)t.tag===0?Am(vf.bind(null,t)):ih(vf.bind(null,t)),Mm(function(){!(H&6)&&Nn()}),n=null;else{switch(jd(r)){case 1:n=Gu;break;case 4:n=Ad;break;case 16:n=Vs;break;case 536870912:n=Rd;break;default:n=Vs}n=sp(n,Zh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zh(t,e){if(Rs=-1,Ps=0,H&6)throw Error(E(327));var n=t.callbackNode;if(_r()&&t.callbackNode!==n)return null;var r=Ws(t,t===we?_e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=co(t,r);else{e=r;var l=H;H|=2;var s=ep();(we!==t||_e!==e)&&(Rt=null,$r=ue()+500,jn(t,e));do try{ey();break}catch(u){qh(t,u)}while(!0);ic(),oo.current=s,H=l,ae!==null?e=0:(we=null,_e=0,e=de)}if(e!==0){if(e===2&&(l=Xi(t),l!==0&&(r=l,e=Cu(t,l))),e===1)throw n=jl,jn(t,0),sn(t,r),Qe(t,ue()),n;if(e===6)sn(t,r);else{if(l=t.current.alternate,!(r&30)&&!Zm(l)&&(e=co(t,r),e===2&&(s=Xi(t),s!==0&&(r=s,e=Cu(t,s))),e===1))throw n=jl,jn(t,0),sn(t,r),Qe(t,ue()),n;switch(t.finishedWork=l,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:In(t,be,Rt);break;case 3:if(sn(t,r),(r&130023424)===r&&(e=Sc+500-ue(),10<e)){if(Ws(t,0)!==0)break;if(l=t.suspendedLanes,(l&r)!==r){Oe(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=lu(In.bind(null,t,be,Rt),e);break}In(t,be,Rt);break;case 4:if(sn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,l=-1;0<r;){var o=31-yt(r);s=1<<o,o=e[o],o>l&&(l=o),r&=~s}if(r=l,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jm(r/1960))-r,10<r){t.timeoutHandle=lu(In.bind(null,t,be,Rt),r);break}In(t,be,Rt);break;case 5:In(t,be,Rt);break;default:throw Error(E(329))}}}return Qe(t,ue()),t.callbackNode===n?Zh.bind(null,t):null}function Cu(t,e){var n=gl;return t.current.memoizedState.isDehydrated&&(jn(t,e).flags|=256),t=co(t,e),t!==2&&(e=be,be=n,e!==null&&Eu(e)),t}function Eu(t){be===null?be=t:be.push.apply(be,t)}function Zm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],s=l.getSnapshot;l=l.value;try{if(!wt(s(),l))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sn(t,e){for(e&=~kc,e&=~Io,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yt(e),r=1<<n;t[n]=-1,e&=~r}}function vf(t){if(H&6)throw Error(E(327));_r();var e=Ws(t,0);if(!(e&1))return Qe(t,ue()),null;var n=co(t,e);if(t.tag!==0&&n===2){var r=Xi(t);r!==0&&(e=r,n=Cu(t,r))}if(n===1)throw n=jl,jn(t,0),sn(t,e),Qe(t,ue()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,In(t,be,Rt),Qe(t,ue()),null}function _c(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&($r=ue()+500,Do&&Nn())}}function Vn(t){cn!==null&&cn.tag===0&&!(H&6)&&_r();var e=H;H|=1;var n=ct.transition,r=V;try{if(ct.transition=null,V=1,t)return t()}finally{V=r,ct.transition=n,H=e,!(H&6)&&Nn()}}function Cc(){Xe=yr.current,Y(yr)}function jn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Nm(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(lc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:Lr(),Y(Ve),Y(Ae),hc();break;case 5:dc(r);break;case 4:Lr();break;case 13:Y(ee);break;case 19:Y(ee);break;case 10:uc(r.type._context);break;case 22:case 23:Cc()}n=n.return}if(we=t,ae=t=vn(t.current,null),_e=Xe=e,de=0,jl=null,kc=Io=Hn=0,be=gl=null,An!==null){for(e=0;e<An.length;e++)if(n=An[e],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=l,r.next=o}n.pending=r}An=null}return t}function qh(t,e){do{var n=ae;try{if(ic(),Is.current=so,lo){for(var r=te.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}lo=!1}if(bn=0,ye=fe=te=null,hl=!1,Al=0,xc.current=null,n===null||n.return===null){de=1,jl=e,ae=null;break}e:{var s=t,o=n.return,u=n,i=e;if(e=_e,u.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){var c=i,a=u,f=a.tag;if(!(a.mode&1)&&(f===0||f===11||f===15)){var d=a.alternate;d?(a.updateQueue=d.updateQueue,a.memoizedState=d.memoizedState,a.lanes=d.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=lf(o);if(h!==null){h.flags&=-257,sf(h,o,u,s,e),h.mode&1&&rf(s,c,e),e=h,i=c;var p=e.updateQueue;if(p===null){var v=new Set;v.add(i),e.updateQueue=v}else p.add(i);break e}else{if(!(e&1)){rf(s,c,e),Ec();break e}i=Error(E(426))}}else if(X&&u.mode&1){var _=lf(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),sf(_,o,u,s,e),sc(Ir(i,u));break e}}s=i=Ir(i,u),de!==4&&(de=2),gl===null?gl=[s]:gl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=jh(s,i,e);Ja(s,m);break e;case 1:u=i;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(mn===null||!mn.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Oh(s,u,e);Ja(s,w);break e}}s=s.return}while(s!==null)}np(n)}catch(k){e=k,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function ep(){var t=oo.current;return oo.current=so,t===null?so:t}function Ec(){(de===0||de===3||de===2)&&(de=4),we===null||!(Hn&268435455)&&!(Io&268435455)||sn(we,_e)}function co(t,e){var n=H;H|=2;var r=ep();(we!==t||_e!==e)&&(Rt=null,jn(t,e));do try{qm();break}catch(l){qh(t,l)}while(!0);if(ic(),H=n,oo.current=r,ae!==null)throw Error(E(261));return we=null,_e=0,de}function qm(){for(;ae!==null;)tp(ae)}function ey(){for(;ae!==null&&!E0();)tp(ae)}function tp(t){var e=lp(t.alternate,t,Xe);t.memoizedProps=t.pendingProps,e===null?np(t):ae=e,xc.current=null}function np(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Km(n,e),n!==null){n.flags&=32767,ae=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,ae=null;return}}else if(n=Qm(n,e,Xe),n!==null){ae=n;return}if(e=e.sibling,e!==null){ae=e;return}ae=e=t}while(e!==null);de===0&&(de=5)}function In(t,e,n){var r=V,l=ct.transition;try{ct.transition=null,V=1,ty(t,e,n,r)}finally{ct.transition=l,V=r}return null}function ty(t,e,n,r){do _r();while(cn!==null);if(H&6)throw Error(E(327));n=t.finishedWork;var l=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(P0(t,s),t===we&&(ae=we=null,_e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ys||(ys=!0,sp(Vs,function(){return _r(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ct.transition,ct.transition=null;var o=V;V=1;var u=H;H|=4,xc.current=null,Ym(t,n),Xh(n,t),km(nu),Qs=!!tu,nu=tu=null,t.current=n,Xm(n),T0(),H=u,V=o,ct.transition=s}else t.current=n;if(ys&&(ys=!1,cn=t,uo=l),s=t.pendingLanes,s===0&&(mn=null),M0(n.stateNode),Qe(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)l=e[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(io)throw io=!1,t=Su,Su=null,t;return uo&1&&t.tag!==0&&_r(),s=t.pendingLanes,s&1?t===_u?ml++:(ml=0,_u=t):ml=0,Nn(),null}function _r(){if(cn!==null){var t=jd(uo),e=ct.transition,n=V;try{if(ct.transition=null,V=16>t?16:t,cn===null)var r=!1;else{if(t=cn,cn=null,uo=0,H&6)throw Error(E(331));var l=H;for(H|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var u=s.deletions;if(u!==null){for(var i=0;i<u.length;i++){var c=u[i];for(L=c;L!==null;){var a=L;switch(a.tag){case 0:case 11:case 15:pl(8,a,s)}var f=a.child;if(f!==null)f.return=a,L=f;else for(;L!==null;){a=L;var d=a.sibling,h=a.return;if(Kh(a),a===c){L=null;break}if(d!==null){d.return=h,L=d;break}L=h}}}var p=s.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,L=m;break e}L=s.return}}var g=t.current;for(L=g;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=g;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Lo(9,u)}}catch(k){le(u,u.return,k)}if(u===o){L=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,L=w;break e}L=u.return}}if(H=l,Nn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(So,t)}catch{}r=!0}return r}finally{V=n,ct.transition=e}}return!1}function wf(t,e,n){e=Ir(n,e),e=jh(t,e,1),t=gn(t,e,1),e=Oe(),t!==null&&(Wl(t,1,e),Qe(t,e))}function le(t,e,n){if(t.tag===3)wf(t,t,n);else for(;e!==null;){if(e.tag===3){wf(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(mn===null||!mn.has(r))){t=Ir(n,t),t=Oh(e,t,1),e=gn(e,t,1),t=Oe(),e!==null&&(Wl(e,1,t),Qe(e,t));break}}e=e.return}}function ny(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Oe(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(_e&n)===n&&(de===4||de===3&&(_e&130023424)===_e&&500>ue()-Sc?jn(t,0):kc|=n),Qe(t,e)}function rp(t,e){e===0&&(t.mode&1?(e=is,is<<=1,!(is&130023424)&&(is=4194304)):e=1);var n=Oe();t=Ht(t,e),t!==null&&(Wl(t,e,n),Qe(t,n))}function ry(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),rp(t,n)}function ly(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),rp(t,n)}var lp;lp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ve.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,Wm(t,e,n);He=!!(t.flags&131072)}else He=!1,X&&e.flags&1048576&&uh(e,qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var l=Dr(e,Ae.current);Sr(e,n),l=gc(null,e,r,t,l,n);var s=mc();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,We(r)?(s=!0,Js(e)):s=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,ac(e),l.updater=Mo,e.stateNode=l,l._reactInternals=e,fu(e,r,t,n),e=pu(null,e,r,!0,s,n)):(e.tag=0,X&&s&&rc(e),je(null,e,l,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,l=r._init,r=l(r._payload),e.type=r,l=e.tag=oy(r),t=pt(r,t),l){case 0:e=hu(null,e,r,t,n);break e;case 1:e=cf(null,e,r,t,n);break e;case 11:e=of(null,e,r,t,n);break e;case 14:e=uf(null,e,r,pt(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:pt(r,l),hu(t,e,r,l,n);case 1:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:pt(r,l),cf(t,e,r,l,n);case 3:e:{if(Bh(e),t===null)throw Error(E(387));r=e.pendingProps,s=e.memoizedState,l=s.element,ph(t,e),no(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){l=Ir(Error(E(423)),e),e=af(t,e,r,n,l);break e}else if(r!==l){l=Ir(Error(E(424)),e),e=af(t,e,r,n,l);break e}else for(Ze=pn(e.stateNode.containerInfo.firstChild),qe=e,X=!0,mt=null,n=dh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===l){e=Vt(t,e,n);break e}je(t,e,r,n)}e=e.child}return e;case 5:return gh(e),t===null&&uu(e),r=e.type,l=e.pendingProps,s=t!==null?t.memoizedProps:null,o=l.children,ru(r,l)?o=null:s!==null&&ru(r,s)&&(e.flags|=32),Fh(t,e),je(t,e,o,n),e.child;case 6:return t===null&&uu(e),null;case 13:return bh(t,e,n);case 4:return fc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mr(e,null,r,n):je(t,e,r,n),e.child;case 11:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:pt(r,l),of(t,e,r,l,n);case 7:return je(t,e,e.pendingProps,n),e.child;case 8:return je(t,e,e.pendingProps.children,n),e.child;case 12:return je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,l=e.pendingProps,s=e.memoizedProps,o=l.value,K(eo,r._currentValue),r._currentValue=o,s!==null)if(wt(s.value,o)){if(s.children===l.children&&!Ve.current){e=Vt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var i=u.firstContext;i!==null;){if(i.context===r){if(s.tag===1){i=Ut(-1,n&-n),i.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var a=c.pending;a===null?i.next=i:(i.next=a.next,a.next=i),c.pending=i}}s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),cu(s.return,n,e),u.lanes|=n;break}i=i.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(E(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),cu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}je(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,r=e.pendingProps.children,Sr(e,n),l=at(l),r=r(l),e.flags|=1,je(t,e,r,n),e.child;case 14:return r=e.type,l=pt(r,e.pendingProps),l=pt(r.type,l),uf(t,e,r,l,n);case 15:return zh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:pt(r,l),As(t,e),e.tag=1,We(r)?(t=!0,Js(e)):t=!1,Sr(e,n),Ph(e,r,l),fu(e,r,l,n),pu(null,e,r,!0,t,n);case 19:return Hh(t,e,n);case 22:return Uh(t,e,n)}throw Error(E(156,e.tag))};function sp(t,e){return $d(t,e)}function sy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,n,r){return new sy(t,e,n,r)}function Tc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oy(t){if(typeof t=="function")return Tc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wu)return 11;if(t===Qu)return 14}return 2}function vn(t,e){var n=t.alternate;return n===null?(n=ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function js(t,e,n,r,l,s){var o=2;if(r=t,typeof t=="function")Tc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ir:return On(n.children,l,s,e);case Vu:o=8,l|=8;break;case Pi:return t=ut(12,n,e,l|2),t.elementType=Pi,t.lanes=s,t;case ji:return t=ut(13,n,e,l),t.elementType=ji,t.lanes=s,t;case Oi:return t=ut(19,n,e,l),t.elementType=Oi,t.lanes=s,t;case gd:return $o(n,l,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hd:o=10;break e;case pd:o=9;break e;case Wu:o=11;break e;case Qu:o=14;break e;case nn:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=ut(o,n,e,l),e.elementType=t,e.type=r,e.lanes=s,e}function On(t,e,n,r){return t=ut(7,t,r,e),t.lanes=n,t}function $o(t,e,n,r){return t=ut(22,t,r,e),t.elementType=gd,t.lanes=n,t.stateNode={isHidden:!1},t}function vi(t,e,n){return t=ut(6,t,null,e),t.lanes=n,t}function wi(t,e,n){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iy(t,e,n,r,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qo(0),this.expirationTimes=qo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Dc(t,e,n,r,l,s,o,u,i){return t=new iy(t,e,n,u,i),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ut(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(s),t}function uy(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:or,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function op(t){if(!t)return Sn;t=t._reactInternals;e:{if(Jn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(We(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(We(n))return oh(t,n,e)}return e}function ip(t,e,n,r,l,s,o,u,i){return t=Dc(n,r,!0,t,l,s,o,u,i),t.context=op(null),n=t.current,r=Oe(),l=yn(n),s=Ut(r,l),s.callback=e??null,gn(n,s,l),t.current.lanes=l,Wl(t,l,r),Qe(t,r),t}function Ao(t,e,n,r){var l=e.current,s=Oe(),o=yn(l);return n=op(n),e.context===null?e.context=n:e.pendingContext=n,e=Ut(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gn(l,e,o),t!==null&&(vt(t,l,o,s),Ls(t,l,o)),o}function ao(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Nc(t,e){xf(t,e),(t=t.alternate)&&xf(t,e)}function cy(){return null}var up=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mc(t){this._internalRoot=t}Ro.prototype.render=Mc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ao(t,e,null,null)};Ro.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vn(function(){Ao(null,t,null,null)}),e[bt]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ud();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ln.length&&e!==0&&e<ln[n].priority;n++);ln.splice(n,0,t),n===0&&Bd(t)}};function Lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Po(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kf(){}function ay(t,e,n,r,l){if(l){if(typeof r=="function"){var s=r;r=function(){var c=ao(o);s.call(c)}}var o=ip(e,r,t,0,null,!1,!1,"",kf);return t._reactRootContainer=o,t[bt]=o.current,Nl(t.nodeType===8?t.parentNode:t),Vn(),o}for(;l=t.lastChild;)t.removeChild(l);if(typeof r=="function"){var u=r;r=function(){var c=ao(i);u.call(c)}}var i=Dc(t,0,!1,null,null,!1,!1,"",kf);return t._reactRootContainer=i,t[bt]=i.current,Nl(t.nodeType===8?t.parentNode:t),Vn(function(){Ao(e,i,n,r)}),i}function jo(t,e,n,r,l){var s=n._reactRootContainer;if(s){var o=s;if(typeof l=="function"){var u=l;l=function(){var i=ao(o);u.call(i)}}Ao(e,o,t,l)}else o=ay(n,e,t,l,r);return ao(o)}Od=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(Yu(e,n|1),Qe(e,ue()),!(H&6)&&($r=ue()+500,Nn()))}break;case 13:Vn(function(){var r=Ht(t,1);if(r!==null){var l=Oe();vt(r,t,1,l)}}),Nc(t,1)}};Xu=function(t){if(t.tag===13){var e=Ht(t,134217728);if(e!==null){var n=Oe();vt(e,t,134217728,n)}Nc(t,134217728)}};zd=function(t){if(t.tag===13){var e=yn(t),n=Ht(t,e);if(n!==null){var r=Oe();vt(n,t,e,r)}Nc(t,e)}};Ud=function(){return V};Fd=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Ki=function(t,e,n){switch(e){case"input":if(Fi(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var l=To(r);if(!l)throw Error(E(90));yd(r),Fi(r,l)}}}break;case"textarea":wd(t,n);break;case"select":e=n.value,e!=null&&vr(t,!!n.multiple,e,!1)}};Td=_c;Dd=Vn;var fy={usingClientEntryPoint:!1,Events:[Kl,fr,To,Cd,Ed,_c]},nl={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dy={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ld(t),t===null?null:t.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||cy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{So=vs.inject(dy),Ct=vs}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fy;nt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lc(e))throw Error(E(200));return uy(t,e,null,n)};nt.createRoot=function(t,e){if(!Lc(t))throw Error(E(299));var n=!1,r="",l=up;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=Dc(t,1,!1,null,null,n,!1,r,l),t[bt]=e.current,Nl(t.nodeType===8?t.parentNode:t),new Mc(e)};nt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Ld(e),t=t===null?null:t.stateNode,t};nt.flushSync=function(t){return Vn(t)};nt.hydrate=function(t,e,n){if(!Po(e))throw Error(E(200));return jo(null,t,e,!0,n)};nt.hydrateRoot=function(t,e,n){if(!Lc(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,l=!1,s="",o=up;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ip(e,null,t,1,n??null,l,!1,s,o),t[bt]=e.current,Nl(t),r)for(t=0;t<r.length;t++)n=r[t],l=n._getVersion,l=l(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,l]:e.mutableSourceEagerHydrationData.push(n,l);return new Ro(e)};nt.render=function(t,e,n){if(!Po(e))throw Error(E(200));return jo(null,t,e,!1,n)};nt.unmountComponentAtNode=function(t){if(!Po(t))throw Error(E(40));return t._reactRootContainer?(Vn(function(){jo(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};nt.unstable_batchedUpdates=_c;nt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Po(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return jo(t,e,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cp)}catch(t){console.error(t)}}cp(),cd.exports=nt;var hy=cd.exports,ap,Sf=hy;ap=Sf.createRoot,Sf.hydrateRoot;const Ke=()=>new Map,Tu=t=>{const e=Ke();return t.forEach((n,r)=>{e.set(r,n)}),e},Lt=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},py=(t,e)=>{const n=[];for(const[r,l]of t)n.push(e(l,r));return n},gy=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},_n=()=>new Set,xi=t=>t[t.length-1],my=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},Wt=Array.from,yy=Array.isArray;class fp{constructor(){this._observers=Ke()}on(e,n){return Lt(this._observers,e,_n).add(n),n}once(e,n){const r=(...l)=>{this.off(e,r),n(...l)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Wt((this._observers.get(e)||Ke()).values()).forEach(r=>r(...n))}destroy(){this._observers=Ke()}}class dp{constructor(){this._observers=Ke()}on(e,n){Lt(this._observers,e,_n).add(n)}once(e,n){const r=(...l)=>{this.off(e,r),n(...l)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return Wt((this._observers.get(e)||Ke()).values()).forEach(r=>r(...n))}destroy(){this._observers=Ke()}}const Qt=Math.floor,Os=Math.abs,Ic=(t,e)=>t<e?t:e,Zn=(t,e)=>t>e?t:e,vy=Math.pow,hp=t=>t!==0?t<0:1/t<0,_f=1,Cf=2,ki=4,Si=8,Ol=32,Ft=64,et=128,Oo=31,Du=63,zn=127,wy=2147483647,pp=Number.MAX_SAFE_INTEGER,xy=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Qt(t)===t),ky=String.fromCharCode,Sy=t=>t.toLowerCase(),_y=/^\s*/g,Cy=t=>t.replace(_y,""),Ey=/([A-Z])/g,Ef=(t,e)=>Cy(t.replace(Ey,n=>`${e}${Sy(n)}`)),Ty=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let l=0;l<n;l++)r[l]=e.codePointAt(l);return r},zl=typeof TextEncoder<"u"?new TextEncoder:null,Dy=t=>zl.encode(t),Ny=zl?Dy:Ty;let yl=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});yl&&yl.decode(new Uint8Array).length===1&&(yl=null);class Yl{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const Le=()=>new Yl,$c=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},q=t=>{const e=new Uint8Array($c(t));let n=0;for(let r=0;r<t.bufs.length;r++){const l=t.bufs[r];e.set(l,n),n+=l.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},My=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Zn(n,e)*2),t.cpos=0)},me=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},Nu=me,R=(t,e)=>{for(;e>zn;)me(t,et|zn&e),e=Qt(e/128);me(t,zn&e)},Ac=(t,e)=>{const n=hp(e);for(n&&(e=-e),me(t,(e>Du?et:0)|(n?Ft:0)|Du&e),e=Qt(e/64);e>0;)me(t,(e>zn?et:0)|zn&e),e=Qt(e/128)},Mu=new Uint8Array(3e4),Ly=Mu.length/3,Iy=(t,e)=>{if(e.length<Ly){const n=zl.encodeInto(e,Mu).written||0;R(t,n);for(let r=0;r<n;r++)me(t,Mu[r])}else ie(t,Ny(e))},$y=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;R(t,r);for(let l=0;l<r;l++)me(t,n.codePointAt(l))},Un=zl&&zl.encodeInto?Iy:$y,zo=(t,e)=>{const n=t.cbuf.length,r=t.cpos,l=Ic(n-r,e.length),s=e.length-l;t.cbuf.set(e.subarray(0,l),r),t.cpos+=l,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Zn(n*2,s)),t.cbuf.set(e.subarray(l)),t.cpos=s)},ie=(t,e)=>{R(t,e.byteLength),zo(t,e)},Rc=(t,e)=>{My(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},Ay=(t,e)=>Rc(t,4).setFloat32(0,e,!1),Ry=(t,e)=>Rc(t,8).setFloat64(0,e,!1),Py=(t,e)=>Rc(t,8).setBigInt64(0,e,!1),Tf=new DataView(new ArrayBuffer(4)),jy=t=>(Tf.setFloat32(0,t),Tf.getFloat32(0)===t),Ul=(t,e)=>{switch(typeof e){case"string":me(t,119),Un(t,e);break;case"number":xy(e)&&Os(e)<=wy?(me(t,125),Ac(t,e)):jy(e)?(me(t,124),Ay(t,e)):(me(t,123),Ry(t,e));break;case"bigint":me(t,122),Py(t,e);break;case"object":if(e===null)me(t,126);else if(yy(e)){me(t,117),R(t,e.length);for(let n=0;n<e.length;n++)Ul(t,e[n])}else if(e instanceof Uint8Array)me(t,116),ie(t,e);else{me(t,118);const n=Object.keys(e);R(t,n.length);for(let r=0;r<n.length;r++){const l=n[r];Un(t,l),Ul(t,e[l])}}break;case"boolean":me(t,e?120:121);break;default:me(t,127)}};class Df extends Yl{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&R(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Nf=t=>{t.count>0&&(Ac(t.encoder,t.count===1?t.s:-t.s),t.count>1&&R(t.encoder,t.count-2))};class zs{constructor(){this.encoder=new Yl,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Nf(this),this.count=1,this.s=e)}toUint8Array(){return Nf(this),q(this.encoder)}}const Mf=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Ac(t.encoder,e),t.count>1&&R(t.encoder,t.count-2)}};class _i{constructor(){this.encoder=new Yl,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Mf(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Mf(this),q(this.encoder)}}class Oy{constructor(){this.sarr=[],this.s="",this.lensE=new zs}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Yl;return this.sarr.push(this.s),this.s="",Un(e,this.sarr.join("")),zo(e,this.lensE.toUint8Array()),q(e)}}const Kt=t=>new Error(t),Tt=()=>{throw Kt("Method unimplemented")},Dt=()=>{throw Kt("Unexpected case")},gp=Kt("Unexpected end of array"),mp=Kt("Integer out of Range");class Uo{constructor(e){this.arr=e,this.pos=0}}const Mn=t=>new Uo(t),zy=t=>t.pos!==t.arr.length,Uy=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Me=t=>Uy(t,P(t)),Ar=t=>t.arr[t.pos++],P=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const l=t.arr[t.pos++];if(e=e+(l&zn)*n,n*=128,l<et)return e;if(e>pp)throw mp}throw gp},Pc=t=>{let e=t.arr[t.pos++],n=e&Du,r=64;const l=(e&Ft)>0?-1:1;if(!(e&et))return l*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&zn)*r,r*=128,e<et)return l*n;if(n>pp)throw mp}throw gp},Fy=t=>{let e=P(t);if(e===0)return"";{let n=String.fromCodePoint(Ar(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Ar(t));else for(;e>0;){const r=e<1e4?e:1e4,l=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,l),e-=r}return decodeURIComponent(escape(n))}},By=t=>yl.decode(Me(t)),wn=yl?By:Fy,jc=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},by=t=>jc(t,4).getFloat32(0,!1),Hy=t=>jc(t,8).getFloat64(0,!1),Vy=t=>jc(t,8).getBigInt64(0,!1),Wy=[t=>{},t=>null,Pc,by,Hy,Vy,t=>!1,t=>!0,wn,t=>{const e=P(t),n={};for(let r=0;r<e;r++){const l=wn(t);n[l]=Fl(t)}return n},t=>{const e=P(t),n=[];for(let r=0;r<e;r++)n.push(Fl(t));return n},Me],Fl=t=>Wy[127-Ar(t)](t);class Lf extends Uo{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),zy(this)?this.count=P(this)+1:this.count=-1),this.count--,this.s}}class Us extends Uo{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=Pc(this);const e=hp(this.s);this.count=1,e&&(this.s=-this.s,this.count=P(this)+2)}return this.count--,this.s}}class Ci extends Uo{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=Pc(this),n=e&1;this.diff=Qt(e/2),this.count=1,n&&(this.count=P(this)+2)}return this.s+=this.diff,this.count--,this.s}}class Qy{constructor(e){this.decoder=new Us(e),this.str=wn(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const Ky=crypto.getRandomValues.bind(crypto),yp=()=>Ky(new Uint32Array(1))[0],Gy="10000000-1000-4000-8000"+-1e11,Yy=()=>Gy.replace(/[018]/g,t=>(t^yp()&15>>t/4).toString(16)),Wn=Date.now,Rr=t=>new Promise(t);Promise.all.bind(Promise);const If=t=>t===void 0?null:t;class Xy{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let vp=new Xy,Oc=!0;try{typeof localStorage<"u"&&localStorage&&(vp=localStorage,Oc=!1)}catch{}const wp=vp,Jy=t=>Oc||addEventListener("storage",t),Zy=t=>Oc||removeEventListener("storage",t),qy=Object.assign,xp=Object.keys,ev=(t,e)=>{for(const n in t)e(t[n],n)},tv=(t,e)=>{const n=[];for(const r in t)n.push(e(t[r],r));return n},$f=t=>xp(t).length,Af=t=>xp(t).length,nv=t=>{for(const e in t)return!1;return!0},rv=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},kp=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),lv=(t,e)=>t===e||Af(t)===Af(e)&&rv(t,(n,r)=>(n!==void 0||kp(e,r))&&e[r]===n),sv=Object.freeze,Sp=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&Sp(t[e])}return sv(t)},Rf=Symbol("Equality"),zc=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&zc(t,e,n+1)}},ov=t=>t,vl=(t,e)=>{if(t===e)return!0;if(t==null||e==null||t.constructor!==e.constructor)return!1;if(t[Rf]!=null)return t[Rf](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const n of t.keys())if(!e.has(n)||!vl(t.get(n),e.get(n)))return!1;break}case Object:if($f(t)!==$f(e))return!1;for(const n in t)if(!kp(t,n)||!vl(t[n],e[n]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!vl(t[n],e[n]))return!1;break;default:return!1}return!0},iv=(t,e)=>e.includes(t);var _p={};const Cn=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",Cp=typeof window<"u"&&typeof document<"u"&&!Cn;let kt;const uv=()=>{if(kt===void 0)if(Cn){kt=Ke();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&kt.set(e,""),e=r):e!==null&&(kt.set(e,r),e=null)}e!==null&&kt.set(e,"")}else typeof location=="object"?(kt=Ke(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");kt.set(`--${Ef(e,"-")}`,n),kt.set(`-${Ef(e,"-")}`,n)}})):kt=Ke();return kt},Lu=t=>uv().has(t),fo=t=>If(Cn?_p[t.toUpperCase().replaceAll("-","_")]:wp.getItem(t)),Ep=t=>Lu("--"+t)||fo(t)!==null;Ep("production");const cv=Cn&&iv(_p.FORCE_COLOR,["true","1","2"]),av=cv||!Lu("--no-colors")&&!Ep("no-color")&&(!Cn||process.stdout.isTTY)&&(!Cn||Lu("--color")||fo("COLORTERM")!==null||(fo("TERM")||"").includes("color")),Tp=t=>new Uint8Array(t),fv=(t,e,n)=>new Uint8Array(t,e,n),dv=t=>new Uint8Array(t),hv=t=>{let e="";for(let n=0;n<t.byteLength;n++)e+=ky(t[n]);return btoa(e)},pv=t=>Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("base64"),gv=t=>{const e=atob(t),n=Tp(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},mv=t=>{const e=Buffer.from(t,"base64");return fv(e.buffer,e.byteOffset,e.byteLength)},yv=Cp?hv:pv,vv=Cp?gv:mv,wv=t=>{const e=Tp(t.byteLength);return e.set(t),e};class xv{constructor(e,n){this.left=e,this.right=n}}const At=(t,e)=>new xv(t,e);typeof DOMParser<"u"&&new DOMParser;const kv=t=>py(t,(e,n)=>`${n}:${e};`).join(""),Yt=Symbol,Dp=Yt(),Np=Yt(),Sv=Yt(),_v=Yt(),Cv=Yt(),Mp=Yt(),Ev=Yt(),Uc=Yt(),Tv=Yt(),Dv=t=>{var l;t.length===1&&((l=t[0])==null?void 0:l.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},Nv={[Dp]:At("font-weight","bold"),[Np]:At("font-weight","normal"),[Sv]:At("color","blue"),[Cv]:At("color","green"),[_v]:At("color","grey"),[Mp]:At("color","red"),[Ev]:At("color","purple"),[Uc]:At("color","orange"),[Tv]:At("color","black")},Mv=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[],r=Ke();let l=[],s=0;for(;s<t.length;s++){const u=t[s],i=Nv[u];if(i!==void 0)r.set(i.left,i.right);else{if(u===void 0)break;if(u.constructor===String||u.constructor===Number){const c=kv(r);s>0||c.length>0?(e.push("%c"+u),n.push(c)):e.push(u)}else break}}for(s>0&&(l=n,l.unshift(e.join("")));s<t.length;s++){const u=t[s];u instanceof Symbol||l.push(u)}return l},Lp=av?Mv:Dv,Lv=(...t)=>{console.log(...Lp(t)),Ip.forEach(e=>e.print(t))},Iv=(...t)=>{console.warn(...Lp(t)),t.unshift(Uc),Ip.forEach(e=>e.print(t))},Ip=_n(),$p=t=>({[Symbol.iterator](){return this},next:t}),$v=(t,e)=>$p(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Ei=(t,e)=>$p(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class Fc{constructor(e,n){this.clock=e,this.len=n}}class Xl{constructor(){this.clients=new Map}}const Ap=(t,e,n)=>e.clients.forEach((r,l)=>{const s=t.doc.store.clients.get(l);if(s!=null){const o=s[s.length-1],u=o.id.clock+o.length;for(let i=0,c=r[i];i<r.length&&c.clock<u;c=r[++i])Kp(t,s,c.clock,c.len,n)}}),Av=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const l=Qt((n+r)/2),s=t[l],o=s.clock;if(o<=e){if(e<o+s.len)return l;n=l+1}else r=l-1}return null},Rp=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&Av(n,e.clock)!==null},Bc=t=>{t.clients.forEach(e=>{e.sort((l,s)=>l.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const l=e[r-1],s=e[n];l.clock+l.len>=s.clock?l.len=Zn(l.len,s.clock+s.len-l.clock):(r<n&&(e[r]=s),r++)}e.length=r})},Rv=t=>{const e=new Xl;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,l)=>{if(!e.clients.has(l)){const s=r.slice();for(let o=n+1;o<t.length;o++)my(s,t[o].clients.get(l)||[]);e.clients.set(l,s)}});return Bc(e),e},ho=(t,e,n,r)=>{Lt(t.clients,e,()=>[]).push(new Fc(n,r))},Pv=()=>new Xl,jv=t=>{const e=Pv();return t.clients.forEach((n,r)=>{const l=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const u=o.id.clock;let i=o.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])i+=c.length;l.push(new Fc(u,i))}}l.length>0&&e.clients.set(r,l)}),e},Hr=(t,e)=>{R(t.restEncoder,e.clients.size),Wt(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),R(t.restEncoder,n);const l=r.length;R(t.restEncoder,l);for(let s=0;s<l;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},bc=t=>{const e=new Xl,n=P(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const l=P(t.restDecoder),s=P(t.restDecoder);if(s>0){const o=Lt(e.clients,l,()=>[]);for(let u=0;u<s;u++)o.push(new Fc(t.readDsClock(),t.readDsLen()))}}return e},Pf=(t,e,n)=>{const r=new Xl,l=P(t.restDecoder);for(let s=0;s<l;s++){t.resetDsCurVal();const o=P(t.restDecoder),u=P(t.restDecoder),i=n.clients.get(o)||[],c=ve(n,o);for(let a=0;a<u;a++){const f=t.readDsClock(),d=f+t.readDsLen();if(f<c){c<d&&ho(r,o,c,d-c);let h=Nt(i,f),p=i[h];for(!p.deleted&&p.id.clock<f&&(i.splice(h+1,0,xo(e,p,f-p.id.clock)),h++);h<i.length&&(p=i[h++],p.id.clock<d);)p.deleted||(d<p.id.clock+p.length&&i.splice(h,0,xo(e,p,d-p.id.clock)),p.delete(e))}else ho(r,o,f,d-f)}}if(r.clients.size>0){const s=new Qn;return R(s.restEncoder,0),Hr(s,r),s.toUint8Array()}return null},Pp=yp;class Vr extends fp{constructor({guid:e=Yy(),collectionid:n=null,gc:r=!0,gcFilter:l=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:u=!0}={}){super(),this.gc=r,this.gcFilter=l,this.clientID=Pp(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new Wp,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=u,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Rr(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const i=()=>Rr(c=>{const a=f=>{(f===void 0||f===!0)&&(this.off("sync",a),c())};this.on("sync",a)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=i()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=i()}load(){const e=this._item;e!==null&&!this.shouldLoad&&W(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Wt(this.subdocs).map(e=>e.guid))}transact(e,n=null){return W(this,e,n)}get(e,n=Ce){const r=Lt(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),l=r.constructor;if(n!==Ce&&l!==n)if(l===Ce){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,xn)}getText(e=""){return this.get(e,Or)}getMap(e=""){return this.get(e,jr)}getXmlElement(e=""){return this.get(e,zr)}getXmlFragment(e=""){return this.get(e,Kn)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,Wt(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Vr({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,W(e.parent.doc,r=>{const l=n.doc;e.deleted||r.subdocsAdded.add(l),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class jp{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return P(this.restDecoder)}readDsLen(){return P(this.restDecoder)}}class Op extends jp{readLeftID(){return b(P(this.restDecoder),P(this.restDecoder))}readRightID(){return b(P(this.restDecoder),P(this.restDecoder))}readClient(){return P(this.restDecoder)}readInfo(){return Ar(this.restDecoder)}readString(){return wn(this.restDecoder)}readParentInfo(){return P(this.restDecoder)===1}readTypeRef(){return P(this.restDecoder)}readLen(){return P(this.restDecoder)}readAny(){return Fl(this.restDecoder)}readBuf(){return wv(Me(this.restDecoder))}readJSON(){return JSON.parse(wn(this.restDecoder))}readKey(){return wn(this.restDecoder)}}class Ov{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=P(this.restDecoder),this.dsCurrVal}readDsLen(){const e=P(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Pr extends Ov{constructor(e){super(e),this.keys=[],P(e),this.keyClockDecoder=new Ci(Me(e)),this.clientDecoder=new Us(Me(e)),this.leftClockDecoder=new Ci(Me(e)),this.rightClockDecoder=new Ci(Me(e)),this.infoDecoder=new Lf(Me(e),Ar),this.stringDecoder=new Qy(Me(e)),this.parentInfoDecoder=new Lf(Me(e),Ar),this.typeRefDecoder=new Us(Me(e)),this.lenDecoder=new Us(Me(e))}readLeftID(){return new Cr(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Cr(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Fl(this.restDecoder)}readBuf(){return Me(this.restDecoder)}readJSON(){return Fl(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class zp{constructor(){this.restEncoder=Le()}toUint8Array(){return q(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){R(this.restEncoder,e)}writeDsLen(e){R(this.restEncoder,e)}}class Jl extends zp{writeLeftID(e){R(this.restEncoder,e.client),R(this.restEncoder,e.clock)}writeRightID(e){R(this.restEncoder,e.client),R(this.restEncoder,e.clock)}writeClient(e){R(this.restEncoder,e)}writeInfo(e){Nu(this.restEncoder,e)}writeString(e){Un(this.restEncoder,e)}writeParentInfo(e){R(this.restEncoder,e?1:0)}writeTypeRef(e){R(this.restEncoder,e)}writeLen(e){R(this.restEncoder,e)}writeAny(e){Ul(this.restEncoder,e)}writeBuf(e){ie(this.restEncoder,e)}writeJSON(e){Un(this.restEncoder,JSON.stringify(e))}writeKey(e){Un(this.restEncoder,e)}}class Up{constructor(){this.restEncoder=Le(),this.dsCurrVal=0}toUint8Array(){return q(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,R(this.restEncoder,n)}writeDsLen(e){e===0&&Dt(),R(this.restEncoder,e-1),this.dsCurrVal+=e}}class Qn extends Up{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new _i,this.clientEncoder=new zs,this.leftClockEncoder=new _i,this.rightClockEncoder=new _i,this.infoEncoder=new Df(Nu),this.stringEncoder=new Oy,this.parentInfoEncoder=new Df(Nu),this.typeRefEncoder=new zs,this.lenEncoder=new zs}toUint8Array(){const e=Le();return R(e,0),ie(e,this.keyClockEncoder.toUint8Array()),ie(e,this.clientEncoder.toUint8Array()),ie(e,this.leftClockEncoder.toUint8Array()),ie(e,this.rightClockEncoder.toUint8Array()),ie(e,q(this.infoEncoder)),ie(e,this.stringEncoder.toUint8Array()),ie(e,q(this.parentInfoEncoder)),ie(e,this.typeRefEncoder.toUint8Array()),ie(e,this.lenEncoder.toUint8Array()),zo(e,q(this.restEncoder)),q(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Ul(this.restEncoder,e)}writeBuf(e){ie(this.restEncoder,e)}writeJSON(e){Ul(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const zv=(t,e,n,r)=>{r=Zn(r,e[0].id.clock);const l=Nt(e,r);R(t.restEncoder,e.length-l),t.writeClient(n),R(t.restEncoder,r);const s=e[l];s.write(t,r-s.id.clock);for(let o=l+1;o<e.length;o++)e[o].write(t,0)},Hc=(t,e,n)=>{const r=new Map;n.forEach((l,s)=>{ve(e,s)>l&&r.set(s,l)}),Fo(e).forEach((l,s)=>{n.has(s)||r.set(s,0)}),R(t.restEncoder,r.size),Wt(r.entries()).sort((l,s)=>s[0]-l[0]).forEach(([l,s])=>{zv(t,e.clients.get(l),l,s)})},Uv=(t,e)=>{const n=Ke(),r=P(t.restDecoder);for(let l=0;l<r;l++){const s=P(t.restDecoder),o=new Array(s),u=t.readClient();let i=P(t.restDecoder);n.set(u,{i:0,refs:o});for(let c=0;c<s;c++){const a=t.readInfo();switch(Oo&a){case 0:{const f=t.readLen();o[c]=new ot(b(u,i),f),i+=f;break}case 10:{const f=P(t.restDecoder);o[c]=new it(b(u,i),f),i+=f;break}default:{const f=(a&(Ft|et))===0,d=new he(b(u,i),null,(a&et)===et?t.readLeftID():null,null,(a&Ft)===Ft?t.readRightID():null,f?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,f&&(a&Ol)===Ol?t.readString():null,dg(t,a));o[c]=d,i+=d.length}}}}return n},Fv=(t,e,n)=>{const r=[];let l=Wt(n.keys()).sort((h,p)=>h-p);if(l.length===0)return null;const s=()=>{if(l.length===0)return null;let h=n.get(l[l.length-1]);for(;h.refs.length===h.i;)if(l.pop(),l.length>0)h=n.get(l[l.length-1]);else return null;return h};let o=s();if(o===null)return null;const u=new Wp,i=new Map,c=(h,p)=>{const v=i.get(h);(v==null||v>p)&&i.set(h,p)};let a=o.refs[o.i++];const f=new Map,d=()=>{for(const h of r){const p=h.id.client,v=n.get(p);v?(v.i--,u.clients.set(p,v.refs.slice(v.i)),n.delete(p),v.i=0,v.refs=[]):u.clients.set(p,[h]),l=l.filter(_=>_!==p)}r.length=0};for(;;){if(a.constructor!==it){const p=Lt(f,a.id.client,()=>ve(e,a.id.client))-a.id.clock;if(p<0)r.push(a),c(a.id.client,a.id.clock-1),d();else{const v=a.getMissing(t,e);if(v!==null){r.push(a);const _=n.get(v)||{refs:[],i:0};if(_.refs.length===_.i)c(v,ve(e,v)),d();else{a=_.refs[_.i++];continue}}else(p===0||p<a.length)&&(a.integrate(t,p),f.set(a.id.client,a.id.clock+a.length))}}if(r.length>0)a=r.pop();else if(o!==null&&o.i<o.refs.length)a=o.refs[o.i++];else{if(o=s(),o===null)break;a=o.refs[o.i++]}}if(u.clients.size>0){const h=new Qn;return Hc(h,u,new Map),R(h.restEncoder,0),{missing:i,update:h.toUint8Array()}}return null},Bv=(t,e)=>Hc(t,e.doc.store,e.beforeState),bv=(t,e,n,r=new Pr(t))=>W(e,l=>{l.local=!1;let s=!1;const o=l.doc,u=o.store,i=Uv(r,o),c=Fv(l,u,i),a=u.pendingStructs;if(a){for(const[d,h]of a.missing)if(h<ve(u,d)){s=!0;break}if(c){for(const[d,h]of c.missing){const p=a.missing.get(d);(p==null||p>h)&&a.missing.set(d,h)}a.update=po([a.update,c.update])}}else u.pendingStructs=c;const f=Pf(r,l,u);if(u.pendingDs){const d=new Pr(Mn(u.pendingDs));P(d.restDecoder);const h=Pf(d,l,u);f&&h?u.pendingDs=po([f,h]):u.pendingDs=f||h}else u.pendingDs=f;if(s){const d=u.pendingStructs.update;u.pendingStructs=null,Fp(l.doc,d)}},n,!1),Fp=(t,e,n,r=Pr)=>{const l=Mn(e);bv(l,t,n,new r(l))},Bp=(t,e,n)=>Fp(t,e,n,Op),Hv=(t,e,n=new Map)=>{Hc(t,e.store,n),Hr(t,jv(e.store))},Vv=(t,e=new Uint8Array([0]),n=new Qn)=>{const r=bp(e);Hv(n,t,r);const l=[n.toUint8Array()];if(t.store.pendingDs&&l.push(t.store.pendingDs),t.store.pendingStructs&&l.push(sw(t.store.pendingStructs.update,e)),l.length>1){if(n.constructor===Jl)return rw(l.map((s,o)=>o===0?s:iw(s)));if(n.constructor===Qn)return po(l)}return l[0]},Vc=(t,e)=>Vv(t,e,new Jl),Wv=t=>{const e=new Map,n=P(t.restDecoder);for(let r=0;r<n;r++){const l=P(t.restDecoder),s=P(t.restDecoder);e.set(l,s)}return e},bp=t=>Wv(new jp(Mn(t))),Hp=(t,e)=>(R(t.restEncoder,e.size),Wt(e.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{R(t.restEncoder,n),R(t.restEncoder,r)}),t),Qv=(t,e)=>Hp(t,Fo(e.store)),Kv=(t,e=new Up)=>(t instanceof Map?Hp(e,t):Qv(e,t),e.toUint8Array()),Gv=t=>Kv(t,new zp);class Yv{constructor(){this.l=[]}}const jf=()=>new Yv,Of=(t,e)=>t.l.push(e),zf=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(l=>e!==l),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Vp=(t,e,n)=>zc(t.l,[e,n]);class Cr{constructor(e,n){this.client=e,this.clock=n}}const ws=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,b=(t,e)=>new Cr(t,e),Xv=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw Dt()},lr=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Rp(e.ds,t.id),Iu=(t,e)=>{const n=Lt(t.meta,Iu,_n),r=t.doc.store;n.has(e)||(e.sv.forEach((l,s)=>{l<ve(r,s)&&En(t,b(s,l))}),Ap(t,e.ds,l=>{}),n.add(e))};class Wp{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Fo=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const l=n[n.length-1];e.set(r,l.id.clock+l.length)}),e},ve=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},Qp=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw Dt()}n.push(e)},Nt=(t,e)=>{let n=0,r=t.length-1,l=t[r],s=l.id.clock;if(s===e)return r;let o=Qt(e/(s+l.length-1)*r);for(;n<=r;){if(l=t[o],s=l.id.clock,s<=e){if(e<s+l.length)return o;n=o+1}else r=o-1;o=Qt((n+r)/2)}throw Dt()},Jv=(t,e)=>{const n=t.clients.get(e.client);return n[Nt(n,e.clock)]},Ti=Jv,$u=(t,e,n)=>{const r=Nt(e,n),l=e[r];return l.id.clock<n&&l instanceof he?(e.splice(r+1,0,xo(t,l,n-l.id.clock)),r+1):r},En=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[$u(t,n,e.clock)]},Uf=(t,e,n)=>{const r=e.clients.get(n.client),l=Nt(r,n.clock),s=r[l];return n.clock!==s.id.clock+s.length-1&&s.constructor!==ot&&r.splice(l+1,0,xo(t,s,n.clock-s.id.clock+1)),s},Zv=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Nt(r,e.id.clock)]=n},Kp=(t,e,n,r,l)=>{if(r===0)return;const s=n+r;let o=$u(t,e,n),u;do u=e[o++],s<u.id.clock+u.length&&$u(t,e,s),l(u);while(o<e.length&&e[o].id.clock<s)};class qv{constructor(e,n,r){this.doc=e,this.deleteSet=new Xl,this.beforeState=Fo(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Ff=(t,e)=>e.deleteSet.clients.size===0&&!gy(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(Bc(e.deleteSet),Bv(t,e),Hr(t,e.deleteSet),!0),Bf=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&Lt(t.changed,e,_n).add(n)},Fs=(t,e)=>{let n=t[e],r=t[e-1],l=e;for(;l>0;n=r,r=t[--l-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof he&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-l;return s&&t.splice(e+1-s,s),s},ew=(t,e,n)=>{for(const[r,l]of t.clients.entries()){const s=e.clients.get(r);for(let o=l.length-1;o>=0;o--){const u=l[o],i=u.clock+u.len;for(let c=Nt(s,u.clock),a=s[c];c<s.length&&a.id.clock<i;a=s[++c]){const f=s[c];if(u.clock+u.len<=f.id.clock)break;f instanceof he&&f.deleted&&!f.keep&&n(f)&&f.gc(e,!1)}}}},tw=(t,e)=>{t.clients.forEach((n,r)=>{const l=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],u=Ic(l.length-1,1+Nt(l,o.clock+o.len-1));for(let i=u,c=l[i];i>0&&c.id.clock>=o.clock;c=l[i])i-=1+Fs(l,i)}})},Gp=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,l=r.store,s=n.deleteSet,o=n._mergeStructs;try{Bc(s),n.afterState=Fo(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const u=[];n.changed.forEach((i,c)=>u.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,i)})),u.push(()=>{n.changedParentTypes.forEach((i,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(i=i.filter(a=>a.target._item===null||!a.target._item.deleted),i.forEach(a=>{a.currentTarget=c,a._path=null}),i.sort((a,f)=>a.path.length-f.path.length),Vp(c._dEH,i,n))})}),u.push(()=>r.emit("afterTransaction",[n,r])),zc(u,[]),n._needFormattingCleanup&&kw(n)}finally{r.gc&&ew(s,l,r.gcFilter),tw(s,l),n.afterState.forEach((a,f)=>{const d=n.beforeState.get(f)||0;if(d!==a){const h=l.clients.get(f),p=Zn(Nt(h,d),1);for(let v=h.length-1;v>=p;)v-=1+Fs(h,v)}});for(let a=o.length-1;a>=0;a--){const{client:f,clock:d}=o[a].id,h=l.clients.get(f),p=Nt(h,d);p+1<h.length&&Fs(h,p+1)>1||p>0&&Fs(h,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(Lv(Uc,Dp,"[yjs] ",Np,Mp,"Changed the client-id because another client seems to be using it."),r.clientID=Pp()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const a=new Jl;Ff(a,n)&&r.emit("update",[a.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const a=new Qn;Ff(a,n)&&r.emit("updateV2",[a.toUint8Array(),n.origin,r,n])}const{subdocsAdded:u,subdocsLoaded:i,subdocsRemoved:c}=n;(u.size>0||c.size>0||i.size>0)&&(u.forEach(a=>{a.clientID=r.clientID,a.collectionid==null&&(a.collectionid=r.collectionid),r.subdocs.add(a)}),c.forEach(a=>r.subdocs.delete(a)),r.emit("subdocs",[{loaded:i,added:u,removed:c},r,n]),c.forEach(a=>a.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):Gp(t,e+1)}}},W=(t,e,n=null,r=!0)=>{const l=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new qv(t,n,r),l.push(t._transaction),l.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const u=t._transaction===l[0];t._transaction=null,u&&Gp(l,0)}}return o};function*nw(t){const e=P(t.restDecoder);for(let n=0;n<e;n++){const r=P(t.restDecoder),l=t.readClient();let s=P(t.restDecoder);for(let o=0;o<r;o++){const u=t.readInfo();if(u===10){const i=P(t.restDecoder);yield new it(b(l,s),i),s+=i}else if(Oo&u){const i=(u&(Ft|et))===0,c=new he(b(l,s),null,(u&et)===et?t.readLeftID():null,null,(u&Ft)===Ft?t.readRightID():null,i?t.readParentInfo()?t.readString():t.readLeftID():null,i&&(u&Ol)===Ol?t.readString():null,dg(t,u));yield c,s+=c.length}else{const i=t.readLen();yield new ot(b(l,s),i),s+=i}}}}class Wc{constructor(e,n){this.gen=nw(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===it);return this.curr}}class Qc{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const rw=t=>po(t,Op,Jl),lw=(t,e)=>{if(t.constructor===ot){const{client:n,clock:r}=t.id;return new ot(b(n,r+e),t.length-e)}else if(t.constructor===it){const{client:n,clock:r}=t.id;return new it(b(n,r+e),t.length-e)}else{const n=t,{client:r,clock:l}=n.id;return new he(b(r,l+e),null,b(r,l+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},po=(t,e=Pr,n=Qn)=>{if(t.length===1)return t[0];const r=t.map(a=>new e(Mn(a)));let l=r.map(a=>new Wc(a,!0)),s=null;const o=new n,u=new Qc(o);for(;l=l.filter(d=>d.curr!==null),l.sort((d,h)=>{if(d.curr.id.client===h.curr.id.client){const p=d.curr.id.clock-h.curr.id.clock;return p===0?d.curr.constructor===h.curr.constructor?0:d.curr.constructor===it?1:-1:p}else return h.curr.id.client-d.curr.id.client}),l.length!==0;){const a=l[0],f=a.curr.id.client;if(s!==null){let d=a.curr,h=!1;for(;d!==null&&d.id.clock+d.length<=s.struct.id.clock+s.struct.length&&d.id.client>=s.struct.id.client;)d=a.next(),h=!0;if(d===null||d.id.client!==f||h&&d.id.clock>s.struct.id.clock+s.struct.length)continue;if(f!==s.struct.id.client)on(u,s.struct,s.offset),s={struct:d,offset:0},a.next();else if(s.struct.id.clock+s.struct.length<d.id.clock)if(s.struct.constructor===it)s.struct.length=d.id.clock+d.length-s.struct.id.clock;else{on(u,s.struct,s.offset);const p=d.id.clock-s.struct.id.clock-s.struct.length;s={struct:new it(b(f,s.struct.id.clock+s.struct.length),p),offset:0}}else{const p=s.struct.id.clock+s.struct.length-d.id.clock;p>0&&(s.struct.constructor===it?s.struct.length-=p:d=lw(d,p)),s.struct.mergeWith(d)||(on(u,s.struct,s.offset),s={struct:d,offset:0},a.next())}}else s={struct:a.curr,offset:0},a.next();for(let d=a.curr;d!==null&&d.id.client===f&&d.id.clock===s.struct.id.clock+s.struct.length&&d.constructor!==it;d=a.next())on(u,s.struct,s.offset),s={struct:d,offset:0}}s!==null&&(on(u,s.struct,s.offset),s=null),Kc(u);const i=r.map(a=>bc(a)),c=Rv(i);return Hr(o,c),o.toUint8Array()},sw=(t,e,n=Pr,r=Qn)=>{const l=bp(e),s=new r,o=new Qc(s),u=new n(Mn(t)),i=new Wc(u,!1);for(;i.curr;){const a=i.curr,f=a.id.client,d=l.get(f)||0;if(i.curr.constructor===it){i.next();continue}if(a.id.clock+a.length>d)for(on(o,a,Zn(d-a.id.clock,0)),i.next();i.curr&&i.curr.id.client===f;)on(o,i.curr,0),i.next();else for(;i.curr&&i.curr.id.client===f&&i.curr.id.clock+i.curr.length<=d;)i.next()}Kc(o);const c=bc(u);return Hr(s,c),s.toUint8Array()},Yp=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:q(t.encoder.restEncoder)}),t.encoder.restEncoder=Le(),t.written=0)},on=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&Yp(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),R(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},Kc=t=>{Yp(t);const e=t.encoder.restEncoder;R(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];R(e,r.written),zo(e,r.restEncoder)}},ow=(t,e,n,r)=>{const l=new n(Mn(t)),s=new Wc(l,!1),o=new r,u=new Qc(o);for(let c=s.curr;c!==null;c=s.next())on(u,e(c),0);Kc(u);const i=bc(l);return Hr(o,i),o.toUint8Array()},iw=t=>ow(t,ov,Pr,Jl),bf="You must not compute changes after the event-handler fired.";class Bo{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=uw(this.currentTarget,this.target))}deletes(e){return Rp(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Kt(bf);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(l=>{if(l!==null){const s=n._map.get(l);let o,u;if(this.adds(s)){let i=s.left;for(;i!==null&&this.adds(i);)i=i.left;if(this.deletes(s))if(i!==null&&this.deletes(i))o="delete",u=xi(i.content.getContent());else return;else i!==null&&this.deletes(i)?(o="update",u=xi(i.content.getContent())):(o="add",u=void 0)}else if(this.deletes(s))o="delete",u=xi(s.content.getContent());else return;e.set(l,{action:o,oldValue:u})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Kt(bf);const n=this.target,r=_n(),l=_n(),s=[];if(e={added:r,deleted:l,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let u=null;const i=()=>{u&&s.push(u)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((u===null||u.delete===void 0)&&(i(),u={delete:0}),u.delete+=c.length,l.add(c)):this.adds(c)?((u===null||u.insert===void 0)&&(i(),u={insert:[]}),u.insert=u.insert.concat(c.content.getContent()),r.add(c)):((u===null||u.retain===void 0)&&(i(),u={retain:0}),u.retain+=c.length);u!==null&&u.retain===void 0&&i()}this._changes=e}return e}}const uw=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,l=e._item.parent._start;for(;l!==e._item&&l!==null;)!l.deleted&&l.countable&&(r+=l.length),l=l.right;n.unshift(r)}e=e._item.parent}return n},$e=()=>{Iv("Invalid access: Add Yjs type to a document before reading data.")},Xp=80;let Gc=0;class cw{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=Gc++}}const aw=t=>{t.timestamp=Gc++},Jp=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=Gc++},fw=(t,e,n)=>{if(t.length>=Xp){const r=t.reduce((l,s)=>l.timestamp<s.timestamp?l:s);return Jp(r,e,n),r}else{const r=new cw(e,n);return t.push(r),r}},bo=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>Os(e-s.index)<Os(e-o.index)?s:o);let r=t._start,l=0;for(n!==null&&(r=n.p,l=n.index,aw(n));r.right!==null&&l<e;){if(!r.deleted&&r.countable){if(e<l+r.length)break;l+=r.length}r=r.right}for(;r.left!==null&&l>e;)r=r.left,!r.deleted&&r.countable&&(l-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(l-=r.length);return n!==null&&Os(n.index-l)<r.parent.length/Xp?(Jp(n,r,l),n):fw(t._searchMarker,r,l)},Bl=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const l=t[r];if(n>0){let s=l.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(l.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}l.p=s,s.marker=!0}(e<l.index||n>0&&e===l.index)&&(l.index=Zn(e,l.index+n))}},Ho=(t,e,n)=>{const r=t,l=e.changedParentTypes;for(;Lt(l,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;Vp(r._eH,n,e)};class Ce{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=jf(),this._dEH=jf(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw Tt()}clone(){throw Tt()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Of(this._eH,e)}observeDeep(e){Of(this._dEH,e)}unobserve(e){zf(this._eH,e)}unobserveDeep(e){zf(this._dEH,e)}toJSON(){}}const Zp=(t,e,n)=>{t.doc??$e(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const l=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let u=e;u<o.length&&r>0;u++)l.push(o[u]),r--;e=0}}s=s.right}return l},qp=t=>{t.doc??$e();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let l=0;l<r.length;l++)e.push(r[l])}n=n.right}return e},bl=(t,e)=>{let n=0,r=t._start;for(t.doc??$e();r!==null;){if(r.countable&&!r.deleted){const l=r.content.getContent();for(let s=0;s<l.length;s++)e(l[s],n++,t)}r=r.right}},eg=(t,e)=>{const n=[];return bl(t,(r,l)=>{n.push(e(r,l,t))}),n},dw=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const l=n[r++];return n.length<=r&&(n=null),{done:!1,value:l}}}},tg=(t,e)=>{t.doc??$e();const n=bo(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},go=(t,e,n,r)=>{let l=n;const s=t.doc,o=s.clientID,u=s.store,i=n===null?e._start:n.right;let c=[];const a=()=>{c.length>0&&(l=new he(b(o,ve(u,o)),l,l&&l.lastId,i,i&&i.id,e,null,new Gn(c)),l.integrate(t,0),c=[])};r.forEach(f=>{if(f===null)c.push(f);else switch(f.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(f);break;default:switch(a(),f.constructor){case Uint8Array:case ArrayBuffer:l=new he(b(o,ve(u,o)),l,l&&l.lastId,i,i&&i.id,e,null,new Zl(new Uint8Array(f))),l.integrate(t,0);break;case Vr:l=new he(b(o,ve(u,o)),l,l&&l.lastId,i,i&&i.id,e,null,new ql(f)),l.integrate(t,0);break;default:if(f instanceof Ce)l=new he(b(o,ve(u,o)),l,l&&l.lastId,i,i&&i.id,e,null,new Xt(f)),l.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),a()},ng=()=>Kt("Length exceeded!"),rg=(t,e,n,r)=>{if(n>e._length)throw ng();if(n===0)return e._searchMarker&&Bl(e._searchMarker,n,r.length),go(t,e,null,r);const l=n,s=bo(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&En(t,b(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&Bl(e._searchMarker,l,r.length),go(t,e,o,r)},hw=(t,e,n)=>{let l=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(l)for(;l.right;)l=l.right;return go(t,e,l,n)},lg=(t,e,n,r)=>{if(r===0)return;const l=n,s=r,o=bo(e,n);let u=e._start;for(o!==null&&(u=o.p,n-=o.index);u!==null&&n>0;u=u.right)!u.deleted&&u.countable&&(n<u.length&&En(t,b(u.id.client,u.id.clock+n)),n-=u.length);for(;r>0&&u!==null;)u.deleted||(r<u.length&&En(t,b(u.id.client,u.id.clock+r)),u.delete(t),r-=u.length),u=u.right;if(r>0)throw ng();e._searchMarker&&Bl(e._searchMarker,l,-s+r)},mo=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Yc=(t,e,n,r)=>{const l=e._map.get(n)||null,s=t.doc,o=s.clientID;let u;if(r==null)u=new Gn([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:u=new Gn([r]);break;case Uint8Array:u=new Zl(r);break;case Vr:u=new ql(r);break;default:if(r instanceof Ce)u=new Xt(r);else throw new Error("Unexpected content type")}new he(b(o,ve(s.store,o)),l,l&&l.lastId,null,null,e,n,u).integrate(t,0)},Xc=(t,e)=>{t.doc??$e();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},sg=t=>{const e={};return t.doc??$e(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},og=(t,e)=>{t.doc??$e();const n=t._map.get(e);return n!==void 0&&!n.deleted},pw=(t,e)=>{const n={};return t._map.forEach((r,l)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&lr(s,e)&&(n[l]=s.content.getContent()[s.length-1])}),n},xs=t=>(t.doc??$e(),$v(t._map.entries(),e=>!e[1].deleted));class gw extends Bo{}class xn extends Ce{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new xn;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new xn}clone(){const e=new xn;return e.insert(0,this.toArray().map(n=>n instanceof Ce?n.clone():n)),e}get length(){return this.doc??$e(),this._length}_callObserver(e,n){super._callObserver(e,n),Ho(this,e,new gw(this,e))}insert(e,n){this.doc!==null?W(this.doc,r=>{rg(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?W(this.doc,n=>{hw(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?W(this.doc,r=>{lg(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return tg(this,e)}toArray(){return qp(this)}slice(e=0,n=this.length){return Zp(this,e,n)}toJSON(){return this.map(e=>e instanceof Ce?e.toJSON():e)}map(e){return eg(this,e)}forEach(e){bl(this,e)}[Symbol.iterator](){return dw(this)}_write(e){e.writeTypeRef(Fw)}}const mw=t=>new xn;class yw extends Bo{constructor(e,n,r){super(e,n),this.keysChanged=r}}class jr extends Ce{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,l)=>{this.set(l,r)}),this._prelimContent=null}_copy(){return new jr}clone(){const e=new jr;return this.forEach((n,r)=>{e.set(r,n instanceof Ce?n.clone():n)}),e}_callObserver(e,n){Ho(this,e,new yw(this,e,n))}toJSON(){this.doc??$e();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const l=n.content.getContent()[n.length-1];e[r]=l instanceof Ce?l.toJSON():l}}),e}get size(){return[...xs(this)].length}keys(){return Ei(xs(this),e=>e[0])}values(){return Ei(xs(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Ei(xs(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??$e(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?W(this.doc,n=>{mo(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?W(this.doc,r=>{Yc(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return Xc(this,e)}has(e){return og(this,e)}clear(){this.doc!==null?W(this.doc,e=>{this.forEach(function(n,r,l){mo(e,l,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Bw)}}const vw=t=>new jr,an=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&lv(t,e);class Au{constructor(e,n,r,l){this.left=e,this.right=n,this.index=r,this.currentAttributes=l}forward(){switch(this.right===null&&Dt(),this.right.content.constructor){case pe:this.right.deleted||Wr(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const Hf=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case pe:e.right.deleted||Wr(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&En(t,b(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},ks=(t,e,n,r)=>{const l=new Map,s=r?bo(e,n):null;if(s){const o=new Au(s.p.left,s.p,s.index,l);return Hf(t,o,n-s.index)}else{const o=new Au(null,e._start,0,l);return Hf(t,o,n)}},ig=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===pe&&an(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const l=t.doc,s=l.clientID;r.forEach((o,u)=>{const i=n.left,c=n.right,a=new he(b(s,ve(l.store,s)),i,i&&i.lastId,c,c&&c.id,e,null,new pe(u,o));a.integrate(t,0),n.right=a,n.forward()})},Wr=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},ug=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===pe&&an(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},cg=(t,e,n,r)=>{const l=t.doc,s=l.clientID,o=new Map;for(const u in r){const i=r[u],c=n.currentAttributes.get(u)??null;if(!an(c,i)){o.set(u,c);const{left:a,right:f}=n;n.right=new he(b(s,ve(l.store,s)),a,a&&a.lastId,f,f&&f.id,e,null,new pe(u,i)),n.right.integrate(t,0),n.forward()}}return o},Di=(t,e,n,r,l)=>{n.currentAttributes.forEach((d,h)=>{l[h]===void 0&&(l[h]=null)});const s=t.doc,o=s.clientID;ug(n,l);const u=cg(t,e,n,l),i=r.constructor===String?new Mt(r):r instanceof Ce?new Xt(r):new qn(r);let{left:c,right:a,index:f}=n;e._searchMarker&&Bl(e._searchMarker,n.index,i.getLength()),a=new he(b(o,ve(s.store,o)),c,c&&c.lastId,a,a&&a.id,e,null,i),a.integrate(t,0),n.right=a,n.index=f,n.forward(),ig(t,e,n,u)},Vf=(t,e,n,r,l)=>{const s=t.doc,o=s.clientID;ug(n,l);const u=cg(t,e,n,l);e:for(;n.right!==null&&(r>0||u.size>0&&(n.right.deleted||n.right.content.constructor===pe));){if(!n.right.deleted)switch(n.right.content.constructor){case pe:{const{key:i,value:c}=n.right.content,a=l[i];if(a!==void 0){if(an(a,c))u.delete(i);else{if(r===0)break e;u.set(i,c)}n.right.delete(t)}else n.currentAttributes.set(i,c);break}default:r<n.right.length&&En(t,b(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let i="";for(;r>0;r--)i+=`
`;n.right=new he(b(o,ve(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new Mt(i)),n.right.integrate(t,0),n.forward()}ig(t,e,n,u)},ag=(t,e,n,r,l)=>{let s=e;const o=Ke();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===pe){const c=s.content;o.set(c.key,c)}s=s.right}let u=0,i=!1;for(;e!==s;){if(n===e&&(i=!0),!e.deleted){const c=e.content;switch(c.constructor){case pe:{const{key:a,value:f}=c,d=r.get(a)??null;(o.get(a)!==c||d===f)&&(e.delete(t),u++,!i&&(l.get(a)??null)===f&&d!==f&&(d===null?l.delete(a):l.set(a,d))),!i&&!e.deleted&&Wr(l,c);break}}}e=e.right}return u},ww=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===pe){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},xw=t=>{let e=0;return W(t.doc,n=>{let r=t._start,l=t._start,s=Ke();const o=Tu(s);for(;l;){if(l.deleted===!1)switch(l.content.constructor){case pe:Wr(o,l.content);break;default:e+=ag(n,r,l,s,o),s=Tu(o),r=l;break}l=l.right}}),e},kw=t=>{const e=new Set,n=t.doc;for(const[r,l]of t.afterState.entries()){const s=t.beforeState.get(r)||0;l!==s&&Kp(t,n.store.clients.get(r),s,l,o=>{!o.deleted&&o.content.constructor===pe&&o.constructor!==ot&&e.add(o.parent)})}W(n,r=>{Ap(t,t.deleteSet,l=>{if(l instanceof ot||!l.parent._hasFormatting||e.has(l.parent))return;const s=l.parent;l.content.constructor===pe?e.add(s):ww(r,l)});for(const l of e)xw(l)})},Wf=(t,e,n)=>{const r=n,l=Tu(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Xt:case qn:case Mt:n<e.right.length&&En(t,b(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&ag(t,s,e.right,l,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Bl(o._searchMarker,e.index,-r+n),e};class Sw extends Bo{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(l=>{l===null?this.childListChanged=!0:this.keysChanged.add(l)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];W(e,r=>{const l=new Map,s=new Map;let o=this.target._start,u=null;const i={};let c="",a=0,f=0;const d=()=>{if(u!==null){let h=null;switch(u){case"delete":f>0&&(h={delete:f}),f=0;break;case"insert":(typeof c=="object"||c.length>0)&&(h={insert:c},l.size>0&&(h.attributes={},l.forEach((p,v)=>{p!==null&&(h.attributes[v]=p)}))),c="";break;case"retain":a>0&&(h={retain:a},nv(i)||(h.attributes=qy({},i))),a=0;break}h&&n.push(h),u=null}};for(;o!==null;){switch(o.content.constructor){case Xt:case qn:this.adds(o)?this.deletes(o)||(d(),u="insert",c=o.content.getContent()[0],d()):this.deletes(o)?(u!=="delete"&&(d(),u="delete"),f+=1):o.deleted||(u!=="retain"&&(d(),u="retain"),a+=1);break;case Mt:this.adds(o)?this.deletes(o)||(u!=="insert"&&(d(),u="insert"),c+=o.content.str):this.deletes(o)?(u!=="delete"&&(d(),u="delete"),f+=o.length):o.deleted||(u!=="retain"&&(d(),u="retain"),a+=o.length);break;case pe:{const{key:h,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const v=l.get(h)??null;an(v,p)?p!==null&&o.delete(r):(u==="retain"&&d(),an(p,s.get(h)??null)?delete i[h]:i[h]=p)}}else if(this.deletes(o)){s.set(h,p);const v=l.get(h)??null;an(v,p)||(u==="retain"&&d(),i[h]=v)}else if(!o.deleted){s.set(h,p);const v=i[h];v!==void 0&&(an(v,p)?v!==null&&o.delete(r):(u==="retain"&&d(),p===null?delete i[h]:i[h]=p))}o.deleted||(u==="insert"&&d(),Wr(l,o.content));break}}o=o.right}for(d();n.length>0;){const h=n[n.length-1];if(h.retain!==void 0&&h.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Or extends Ce{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??$e(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Or}clone(){const e=new Or;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new Sw(this,e,n);Ho(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??$e();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===Mt&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?W(this.doc,r=>{const l=new Au(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const u=!n&&typeof o.insert=="string"&&s===e.length-1&&l.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof u!="string"||u.length>0)&&Di(r,this,l,u,o.attributes||{})}else o.retain!==void 0?Vf(r,this,l,o.retain,o.attributes||{}):o.delete!==void 0&&Wf(r,l,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??$e();const l=[],s=new Map,o=this.doc;let u="",i=this._start;function c(){if(u.length>0){const f={};let d=!1;s.forEach((p,v)=>{d=!0,f[v]=p});const h={insert:u};d&&(h.attributes=f),l.push(h),u=""}}const a=()=>{for(;i!==null;){if(lr(i,e)||n!==void 0&&lr(i,n))switch(i.content.constructor){case Mt:{const f=s.get("ychange");e!==void 0&&!lr(i,e)?(f===void 0||f.user!==i.id.client||f.type!=="removed")&&(c(),s.set("ychange",r?r("removed",i.id):{type:"removed"})):n!==void 0&&!lr(i,n)?(f===void 0||f.user!==i.id.client||f.type!=="added")&&(c(),s.set("ychange",r?r("added",i.id):{type:"added"})):f!==void 0&&(c(),s.delete("ychange")),u+=i.content.str;break}case Xt:case qn:{c();const f={insert:i.content.getContent()[0]};if(s.size>0){const d={};f.attributes=d,s.forEach((h,p)=>{d[p]=h})}l.push(f);break}case pe:lr(i,e)&&(c(),Wr(s,i.content));break}i=i.right}c()};return e||n?W(o,f=>{e&&Iu(f,e),n&&Iu(f,n),a()},"cleanup"):a(),l}insert(e,n,r){if(n.length<=0)return;const l=this.doc;l!==null?W(l,s=>{const o=ks(s,this,e,!r);r||(r={},o.currentAttributes.forEach((u,i)=>{r[i]=u})),Di(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const l=this.doc;l!==null?W(l,s=>{const o=ks(s,this,e,!r);Di(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?W(r,l=>{Wf(l,ks(l,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const l=this.doc;l!==null?W(l,s=>{const o=ks(s,this,e,!1);o.right!==null&&Vf(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?W(this.doc,n=>{mo(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?W(this.doc,r=>{Yc(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return Xc(this,e)}getAttributes(){return sg(this)}_write(e){e.writeTypeRef(bw)}}const _w=t=>new Or;class Ni{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??$e()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===zr||n.constructor===Kn)&&n._start!==null)e=n._start;else for(;e!==null;){const r=e.next;if(r!==null){e=r;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class Kn extends Ce{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Kn}clone(){const e=new Kn;return e.insert(0,this.toArray().map(n=>n instanceof Ce?n.clone():n)),e}get length(){return this.doc??$e(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Ni(this,e)}querySelector(e){e=e.toUpperCase();const r=new Ni(this,l=>l.nodeName&&l.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),Wt(new Ni(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){Ho(this,e,new Tw(this,n,e))}toString(){return eg(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const l=e.createDocumentFragment();return r!==void 0&&r._createAssociation(l,this),bl(this,s=>{l.insertBefore(s.toDOM(e,n,r),null)}),l}insert(e,n){this.doc!==null?W(this.doc,r=>{rg(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)W(this.doc,r=>{const l=e&&e instanceof Ce?e._item:e;go(r,this,l,n)});else{const r=this._prelimContent,l=e===null?0:r.findIndex(s=>s===e)+1;if(l===0&&e!==null)throw Kt("Reference item not found");r.splice(l,0,...n)}}delete(e,n=1){this.doc!==null?W(this.doc,r=>{lg(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return qp(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return tg(this,e)}slice(e=0,n=this.length){return Zp(this,e,n)}forEach(e){bl(this,e)}_write(e){e.writeTypeRef(Vw)}}const Cw=t=>new Kn;class zr extends Kn{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,l)=>{this.setAttribute(l,r)}),this._prelimAttrs=null}_copy(){return new zr(this.nodeName)}clone(){const e=new zr(this.nodeName),n=this.getAttributes();return ev(n,(r,l)=>{typeof r=="string"&&e.setAttribute(l,r)}),e.insert(0,this.toArray().map(r=>r instanceof Ce?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const u in e)r.push(u);r.sort();const l=r.length;for(let u=0;u<l;u++){const i=r[u];n.push(i+'="'+e[i]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?W(this.doc,n=>{mo(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?W(this.doc,r=>{Yc(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return Xc(this,e)}hasAttribute(e){return og(this,e)}getAttributes(e){return e?pw(this,e):sg(this)}toDOM(e=document,n={},r){const l=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const u=s[o];typeof u=="string"&&l.setAttribute(o,u)}return bl(this,o=>{l.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(l,this),l}_write(e){e.writeTypeRef(Hw),e.writeKey(this.nodeName)}}const Ew=t=>new zr(t.readKey());class Tw extends Bo{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(l=>{l===null?this.childListChanged=!0:this.attributesChanged.add(l)})}}class yo extends jr{constructor(e){super(),this.hookName=e}_copy(){return new yo(this.hookName)}clone(){const e=new yo(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const l=n[this.hookName];let s;return l!==void 0?s=l.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(Ww),e.writeKey(this.hookName)}}const Dw=t=>new yo(t.readKey());class vo extends Or{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new vo}clone(){const e=new vo;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const l=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(l,this),l}toString(){return this.toDelta().map(e=>{const n=[];for(const l in e.attributes){const s=[];for(const o in e.attributes[l])s.push({key:o,value:e.attributes[l][o]});s.sort((o,u)=>o.key<u.key?-1:1),n.push({nodeName:l,attrs:s})}n.sort((l,s)=>l.nodeName<s.nodeName?-1:1);let r="";for(let l=0;l<n.length;l++){const s=n[l];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const u=s.attrs[o];r+=` ${u.key}="${u.value}"`}r+=">"}r+=e.insert;for(let l=n.length-1;l>=0;l--)r+=`</${n[l].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Qw)}}const Nw=t=>new vo;class Jc{constructor(e,n){this.id=e,this.length=n}get deleted(){throw Tt()}mergeWith(e){return!1}write(e,n,r){throw Tt()}integrate(e,n){throw Tt()}}const Mw=0;class ot extends Jc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),Qp(e.doc.store,this)}write(e,n){e.writeInfo(Mw),e.writeLen(this.length-n)}getMissing(e,n){return null}}class Zl{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Zl(this.content)}splice(e){throw Tt()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const Lw=t=>new Zl(t.readBuf());class Hl{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Hl(this.len)}splice(e){const n=new Hl(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){ho(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const Iw=t=>new Hl(t.readLen()),fg=(t,e)=>new Vr({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class ql{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new ql(fg(this.doc.guid,this.opts))}splice(e){throw Tt()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const $w=t=>new ql(fg(t.readString(),t.readAny()));class qn{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new qn(this.embed)}splice(e){throw Tt()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const Aw=t=>new qn(t.readJSON());class pe{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new pe(this.key,this.value)}splice(e){throw Tt()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Rw=t=>new pe(t.readKey(),t.readJSON());class wo{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new wo(this.arr)}splice(e){const n=new wo(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let l=n;l<r;l++){const s=this.arr[l];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const Pw=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const l=t.readString();l==="undefined"?n.push(void 0):n.push(JSON.parse(l))}return new wo(n)},jw=fo("node_env")==="development";class Gn{constructor(e){this.arr=e,jw&&Sp(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Gn(this.arr)}splice(e){const n=new Gn(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let l=n;l<r;l++){const s=this.arr[l];e.writeAny(s)}}getRef(){return 8}}const Ow=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new Gn(n)};class Mt{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Mt(this.str)}splice(e){const n=new Mt(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const zw=t=>new Mt(t.readString()),Uw=[mw,vw,_w,Ew,Cw,Dw,Nw],Fw=0,Bw=1,bw=2,Hw=3,Vw=4,Ww=5,Qw=6;class Xt{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Xt(this.type._copy())}splice(e){throw Tt()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const Kw=t=>new Xt(Uw[t.readTypeRef()](t)),xo=(t,e,n)=>{const{client:r,clock:l}=e.id,s=new he(b(r,l+n),e,b(r,l+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=b(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s};class he extends Jc{constructor(e,n,r,l,s,o,u,i){super(e,i.getLength()),this.origin=r,this.left=n,this.right=l,this.rightOrigin=s,this.parent=o,this.parentSub=u,this.redone=null,this.content=i,this.info=this.content.isCountable()?Cf:0}set marker(e){(this.info&Si)>0!==e&&(this.info^=Si)}get marker(){return(this.info&Si)>0}get keep(){return(this.info&_f)>0}set keep(e){this.keep!==e&&(this.info^=_f)}get countable(){return(this.info&Cf)>0}get deleted(){return(this.info&ki)>0}set deleted(e){this.deleted!==e&&(this.info^=ki)}markDeleted(){this.info|=ki}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=ve(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=ve(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Cr&&this.id.client!==this.parent.client&&this.parent.clock>=ve(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Uf(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=En(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===ot||this.right&&this.right.constructor===ot)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===he?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===he&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Cr){const r=Ti(n,this.parent);r.constructor===ot?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=Uf(e,e.doc.store,b(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,l;if(r!==null)l=r.right;else if(this.parentSub!==null)for(l=this.parent._map.get(this.parentSub)||null;l!==null&&l.left!==null;)l=l.left;else l=this.parent._start;const s=new Set,o=new Set;for(;l!==null&&l!==this.right;){if(o.add(l),s.add(l),ws(this.origin,l.origin)){if(l.id.client<this.id.client)r=l,s.clear();else if(ws(this.rightOrigin,l.rightOrigin))break}else if(l.origin!==null&&o.has(Ti(e.doc.store,l.origin)))s.has(Ti(e.doc.store,l.origin))||(r=l,s.clear());else break;l=l.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Qp(e.doc.store,this),this.content.integrate(e,this),Bf(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new ot(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:b(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&ws(e.origin,this.lastId)&&this.right===e&&ws(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),ho(e.deleteSet,this.id.client,this.id.clock,this.length),Bf(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw Dt();this.content.gc(e),n?Zv(e,this,new ot(this.id,this.length)):this.content=new Hl(this.length)}write(e,n){const r=n>0?b(this.id.client,this.id.clock+n-1):this.origin,l=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&Oo|(r===null?0:et)|(l===null?0:Ft)|(s===null?0:Ol);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),l!==null&&e.writeRightID(l),r===null&&l===null){const u=this.parent;if(u._item!==void 0){const i=u._item;if(i===null){const c=Xv(u);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(i.id)}else u.constructor===String?(e.writeParentInfo(!0),e.writeString(u)):u.constructor===Cr?(e.writeParentInfo(!1),e.writeLeftID(u)):Dt();s!==null&&e.writeString(s)}this.content.write(e,n)}}const dg=(t,e)=>Gw[e&Oo](t),Gw=[()=>{Dt()},Iw,Pw,Lw,zw,Aw,Rw,Kw,Ow,$w,()=>{Dt()}],Yw=10;class it extends Jc{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){Dt()}write(e,n){e.writeInfo(Yw),R(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},pg="__ $YJS$ __";hg[pg]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");hg[pg]=!0;function Xw({settings:t,onChange:e,onRegenerate:n,onLoadGoalsFile:r,onLoadGoalsUrl:l,showLoaders:s=!0,gameTimer:o,isHost:u,onStart:i,onPause:c,onNextStage:a,onResetRun:f}){const[d,h]=z.useState("");function p(_){const m=Math.floor(_/60),g=_%60;return`${m}:${g.toString().padStart(2,"0")}`}const v={create:"Создание персонажа",seed:"Выбор seed и генерация",plan:"Планирование маршрута",play:"Игра",paused:"Пауза",finished:"Финиш"};return C.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-neutral-900/60 rounded-xl",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("label",{className:"text-sm opacity-80",children:"Комната:"}),C.jsx("code",{className:"text-xs bg-neutral-800 px-2 py-1 rounded",children:new URL(window.location.href).pathname.replace("/","")||"local"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("label",{className:"text-sm opacity-80",children:"Сид"}),C.jsx("input",{value:t.seed,onChange:_=>e({seed:_.target.value}),className:"px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm w-36"}),C.jsx("button",{onClick:n,className:"px-2 py-1 rounded bg-emerald-700/60 hover:bg-emerald-700 text-sm",children:"Regenerate"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("label",{className:"text-sm opacity-80",children:"Режим"}),C.jsxs("select",{value:t.gameMode||"pvp",onChange:_=>e({gameMode:_.target.value}),className:"px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",children:[C.jsx("option",{value:"pvp",children:"PvP"}),C.jsx("option",{value:"pve",children:"PvE (бот)"})]}),C.jsx("span",{className:"text-xs opacity-70",children:t.gameMode==="pve"?"Против бота":"Два игрока"})]}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("label",{className:"text-sm opacity-80",children:"Источник целей"}),C.jsxs("select",{value:t.goalsSourceType||"local",onChange:_=>e({goalsSourceType:_.target.value}),className:"px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",children:[C.jsx("option",{value:"local",children:"Ресурс 1"}),C.jsx("option",{value:"sheets",children:"Ресурс 2"})]})]}),o&&C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-sm font-bold",children:"Этап:"}),C.jsx("span",{className:"text-sm",children:v[o.stage]||o.stage}),C.jsx("span",{className:"text-sm",children:p(o.timerValue)}),u&&o.stage!=="finished"&&C.jsxs(C.Fragment,{children:[o.timerRunning?C.jsx("button",{onClick:c,className:"px-2 py-1 rounded bg-yellow-700/60 hover:bg-yellow-700 text-sm",children:"Пауза"}):C.jsx("button",{onClick:i,className:"px-2 py-1 rounded bg-emerald-700/60 hover:bg-emerald-700 text-sm",children:"Старт"}),o.stage==="play"&&o.timerRunning?C.jsx("button",{onClick:a,className:"px-2 py-1 rounded bg-neutral-700/60 hover:bg-neutral-700 text-sm",children:"Финиш"}):C.jsx("button",{onClick:a,className:"px-2 py-1 rounded bg-neutral-700/60 hover:bg-neutral-700 text-sm",children:"Следующий этап"})]}),u&&o.stage==="finished"&&C.jsx("button",{onClick:f,className:"px-2 py-1 rounded bg-blue-700/60 hover:bg-blue-700 text-sm",children:"Новый забег"})]}),t.gameMode==="pve"&&u&&C.jsx("div",{className:"relative",children:C.jsxs("details",{className:"relative",children:[C.jsx("summary",{className:"list-none cursor-pointer px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",children:"⚙️ Настройки бота"}),C.jsxs("div",{className:"absolute mt-1 z-10 bg-neutral-900 border border-neutral-700 rounded p-2 w-64 shadow-xl",children:[C.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Сложность бота"}),C.jsxs("div",{className:"flex flex-col gap-1 text-sm",children:[C.jsxs("label",{className:"inline-flex items-center gap-2",children:[C.jsx("input",{type:"radio",name:"botMode",checked:t.botMode==="test",onChange:()=>e({botMode:"test"})}),"Тестирование (10–30 секунд)"]}),C.jsxs("label",{className:"inline-flex items-center gap-2",children:[C.jsx("input",{type:"radio",name:"botMode",checked:t.botMode==="easy",onChange:()=>e({botMode:"easy"})}),"Легко (20–40 минут)"]}),C.jsxs("label",{className:"inline-flex items-center gap-2",children:[C.jsx("input",{type:"radio",name:"botMode",checked:t.botMode==="medium"||!t.botMode,onChange:()=>e({botMode:"medium"})}),"Средне (15–30 минут)"]}),C.jsxs("label",{className:"inline-flex items-center gap-2",children:[C.jsx("input",{type:"radio",name:"botMode",checked:t.botMode==="hard",onChange:()=>e({botMode:"hard"})}),"Сложно (10–20 минут)"]})]}),C.jsxs("div",{className:"mt-3 border-t border-neutral-800 pt-2",children:[C.jsx("div",{className:"text-sm opacity-80 mb-1",children:"Имя бота"}),C.jsx("input",{type:"text",value:t.botName??"",onChange:_=>e({botName:_.target.value.slice(0,24)}),placeholder:"Bot",className:"w-full px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",maxLength:24})]})]})]})})]})}function gg(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(e=0;e<l;e++)t[e]&&(n=gg(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jw(){for(var t,e,n=0,r="",l=arguments.length;n<l;n++)(t=arguments[n])&&(e=gg(t))&&(r&&(r+=" "),r+=e);return r}function Zw({text:t,onToggle:e,isFree:n,color:r,fontPx:l,disabled:s}){return C.jsx("button",{onClick:s?void 0:e,disabled:s,"aria-disabled":s,style:r?{backgroundColor:r}:void 0,className:Jw("aspect-square w-full rounded-xl p-2","border border-neutral-700","transition",!r&&"bg-neutral-800/50",n&&"ring-2 ring-amber-400",s&&"opacity-50 cursor-not-allowed"),title:s?"В режиме PvE гости не могут отмечать клетки":t,children:C.jsx("div",{className:"h-full w-full grid place-items-center text-center select-none",children:C.jsx("div",{className:"bingo-cell-text",style:{fontSize:`${l}px`,lineHeight:1.15,wordBreak:"keep-all",overflowWrap:"normal",hyphens:"none",whiteSpace:"normal",display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",maxHeight:"100%"},children:n?"FREE":t})})})}function qw({size:t,board:e,hits:n,onToggle:r,labelOf:l,getColor:s,disabled:o}){const u=Je.useMemo(()=>({gridTemplateColumns:`repeat(${t}, minmax(0, 1fr))`}),[t]),[i,c]=Je.useState(12),a=Je.useRef(null),f=Je.useMemo(()=>e.map(l).join("|"),[e,l]),d=Je.useCallback(()=>{const h=a.current;if(!h)return;const p=Array.from(h.querySelectorAll(".bingo-cell-text"));if(p.length===0)return;let v=8,_=14;const m=g=>{for(const y of p)y.style.fontSize=`${g}px`;return p[0].offsetHeight,p.every(y=>y.scrollHeight<=y.clientHeight&&y.scrollWidth<=y.clientWidth)};if(m(_)){c(_);return}for(;_-v>.5;){const g=(_+v)/2;m(g)?v=g:_=g}c(Math.floor(v))},[]);return Je.useLayoutEffect(()=>{d()},[d,t,f]),Je.useLayoutEffect(()=>{const h=()=>d();return window.addEventListener("resize",h),window.addEventListener("orientationchange",h),()=>{window.removeEventListener("resize",h),window.removeEventListener("orientationchange",h)}},[d]),C.jsx("div",{ref:a,className:"grid gap-2",style:u,children:e.map((h,p)=>{const v=n[p]??[],_=typeof s=="function"?s(v):void 0;return C.jsx(Zw,{text:l(h),markedBy:v,onToggle:o?void 0:()=>r(p),isFree:h==="__FREE__",color:_,fontPx:i,disabled:o},p)})})}function e1({players:t,playerScores:e={}}){return C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3 space-y-2 min-w-[220px]",children:[C.jsx("div",{className:"text-sm opacity-80",children:"Игроки"}),C.jsx("ul",{className:"space-y-1",children:t.map(n=>{const r=e[n.name]||0;return C.jsxs("li",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"inline-block w-3 h-3 rounded-full border border-neutral-600",style:n.color?{backgroundColor:n.color}:void 0,title:n.color}),C.jsxs("span",{className:"text-sm",children:[n.name," [",r,"]"]}),n.role==="host"&&C.jsx("span",{className:"text-[10px] px-1 py-[1px] rounded bg-neutral-800 border border-neutral-700 ml-1",children:"host"})]},n.uid)})})]})}const mg=new Map;class t1{constructor(e){this.room=e,this.onmessage=null,this._onChange=n=>n.key===e&&this.onmessage!==null&&this.onmessage({data:vv(n.newValue||"")}),Jy(this._onChange)}postMessage(e){wp.setItem(this.room,yv(dv(e)))}close(){Zy(this._onChange)}}const n1=typeof BroadcastChannel>"u"?t1:BroadcastChannel,Zc=t=>Lt(mg,t,()=>{const e=_n(),n=new n1(t);return n.onmessage=r=>e.forEach(l=>l(r.data,"broadcastchannel")),{bc:n,subs:e}}),r1=(t,e)=>(Zc(t).subs.add(e),e),l1=(t,e)=>{const n=Zc(t),r=n.subs.delete(e);return r&&n.subs.size===0&&(n.bc.close(),mg.delete(t)),r},sr=(t,e,n=null)=>{const r=Zc(t);r.bc.postMessage(e),r.subs.forEach(l=>l(e,n))},yg=0,qc=1,vg=2,Ru=(t,e)=>{R(t,yg);const n=Gv(e);ie(t,n)},wg=(t,e,n)=>{R(t,qc),ie(t,Vc(e,n))},s1=(t,e,n)=>wg(e,n,Me(t)),xg=(t,e,n)=>{try{Bp(e,Me(t),n)}catch(r){console.error("Caught error while handling a Yjs update",r)}},o1=(t,e)=>{R(t,vg),ie(t,e)},i1=xg,u1=(t,e,n,r)=>{const l=P(t);switch(l){case yg:s1(t,e,n);break;case qc:xg(t,n,r);break;case vg:i1(t,n,r);break;default:throw new Error("Unknown message type")}return l},c1=0,a1=(t,e,n)=>{switch(P(t)){case c1:n(e,wn(t))}},Mi=3e4;class f1 extends dp{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval(()=>{const n=Wn();this.getLocalState()!==null&&Mi/2<=n-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const r=[];this.meta.forEach((l,s)=>{s!==this.clientID&&Mi<=n-l.lastUpdated&&this.states.has(s)&&r.push(s)}),r.length>0&&ea(this,r,"timeout")},Qt(Mi/10)),e.on("destroy",()=>{this.destroy()}),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const n=this.clientID,r=this.meta.get(n),l=r===void 0?0:r.clock+1,s=this.states.get(n);e===null?this.states.delete(n):this.states.set(n,e),this.meta.set(n,{clock:l,lastUpdated:Wn()});const o=[],u=[],i=[],c=[];e===null?c.push(n):s==null?e!=null&&o.push(n):(u.push(n),vl(s,e)||i.push(n)),(o.length>0||i.length>0||c.length>0)&&this.emit("change",[{added:o,updated:i,removed:c},"local"]),this.emit("update",[{added:o,updated:u,removed:c},"local"])}setLocalStateField(e,n){const r=this.getLocalState();r!==null&&this.setLocalState({...r,[e]:n})}getStates(){return this.states}}const ea=(t,e,n)=>{const r=[];for(let l=0;l<e.length;l++){const s=e[l];if(t.states.has(s)){if(t.states.delete(s),s===t.clientID){const o=t.meta.get(s);t.meta.set(s,{clock:o.clock+1,lastUpdated:Wn()})}r.push(s)}}r.length>0&&(t.emit("change",[{added:[],updated:[],removed:r},n]),t.emit("update",[{added:[],updated:[],removed:r},n]))},wl=(t,e,n=t.states)=>{const r=e.length,l=Le();R(l,r);for(let s=0;s<r;s++){const o=e[s],u=n.get(o)||null,i=t.meta.get(o).clock;R(l,o),R(l,i),Un(l,JSON.stringify(u))}return q(l)},d1=(t,e,n)=>{const r=Mn(e),l=Wn(),s=[],o=[],u=[],i=[],c=P(r);for(let a=0;a<c;a++){const f=P(r);let d=P(r);const h=JSON.parse(wn(r)),p=t.meta.get(f),v=t.states.get(f),_=p===void 0?0:p.clock;(_<d||_===d&&h===null&&t.states.has(f))&&(h===null?f===t.clientID&&t.getLocalState()!=null?d++:t.states.delete(f):t.states.set(f,h),t.meta.set(f,{clock:d,lastUpdated:l}),p===void 0&&h!==null?s.push(f):p!==void 0&&h===null?i.push(f):h!==null&&(vl(h,v)||u.push(f),o.push(f)))}(s.length>0||u.length>0||i.length>0)&&t.emit("change",[{added:s,updated:u,removed:i},n]),(s.length>0||o.length>0||i.length>0)&&t.emit("update",[{added:s,updated:o,removed:i},n])},h1=t=>tv(t,(e,n)=>`${encodeURIComponent(n)}=${encodeURIComponent(e)}`).join("&"),Pn=0,kg=3,Er=1,p1=2,es=[];es[Pn]=(t,e,n,r,l)=>{R(t,Pn);const s=u1(e,t,n.doc,n);r&&s===qc&&!n.synced&&(n.synced=!0)};es[kg]=(t,e,n,r,l)=>{R(t,Er),ie(t,wl(n.awareness,Array.from(n.awareness.getStates().keys())))};es[Er]=(t,e,n,r,l)=>{d1(n.awareness,Me(e),n)};es[p1]=(t,e,n,r,l)=>{a1(e,n.doc,(s,o)=>g1(n,o))};const Qf=3e4,g1=(t,e)=>console.warn(`Permission denied to access ${t.url}.
${e}`),Sg=(t,e,n)=>{const r=Mn(e),l=Le(),s=P(r),o=t.messageHandlers[s];return o?o(l,r,t,n,s):console.error("Unable to compute message"),l},Pu=(t,e,n)=>{e===t.ws&&(t.emit("connection-close",[n,t]),t.ws=null,e.close(),t.wsconnecting=!1,t.wsconnected?(t.wsconnected=!1,t.synced=!1,ea(t.awareness,Array.from(t.awareness.getStates().keys()).filter(r=>r!==t.doc.clientID),t),t.emit("status",[{status:"disconnected"}])):t.wsUnsuccessfulReconnects++,setTimeout(_g,Ic(vy(2,t.wsUnsuccessfulReconnects)*100,t.maxBackoffTime),t))},_g=t=>{if(t.shouldConnect&&t.ws===null){const e=new t._WS(t.url,t.protocols);e.binaryType="arraybuffer",t.ws=e,t.wsconnecting=!0,t.wsconnected=!1,t.synced=!1,e.onmessage=n=>{t.wsLastMessageReceived=Wn();const r=Sg(t,new Uint8Array(n.data),!0);$c(r)>1&&e.send(q(r))},e.onerror=n=>{t.emit("connection-error",[n,t])},e.onclose=n=>{Pu(t,e,n)},e.onopen=()=>{t.wsLastMessageReceived=Wn(),t.wsconnecting=!1,t.wsconnected=!0,t.wsUnsuccessfulReconnects=0,t.emit("status",[{status:"connected"}]);const n=Le();if(R(n,Pn),Ru(n,t.doc),e.send(q(n)),t.awareness.getLocalState()!==null){const r=Le();R(r,Er),ie(r,wl(t.awareness,[t.doc.clientID])),e.send(q(r))}},t.emit("status",[{status:"connecting"}])}},Li=(t,e)=>{const n=t.ws;t.wsconnected&&n&&n.readyState===n.OPEN&&n.send(e),t.bcconnected&&sr(t.bcChannel,e,t)};class m1 extends fp{constructor(e,n,r,{connect:l=!0,awareness:s=new f1(r),params:o={},protocols:u=[],WebSocketPolyfill:i=WebSocket,resyncInterval:c=-1,maxBackoffTime:a=2500,disableBc:f=!1}={}){for(super();e[e.length-1]==="/";)e=e.slice(0,e.length-1);this.serverUrl=e,this.bcChannel=e+"/"+n,this.maxBackoffTime=a,this.params=o,this.protocols=u,this.roomname=n,this.doc=r,this._WS=i,this.awareness=s,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.disableBc=f,this.wsUnsuccessfulReconnects=0,this.messageHandlers=es.slice(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=l,this._resyncInterval=0,c>0&&(this._resyncInterval=setInterval(()=>{if(this.ws&&this.ws.readyState===WebSocket.OPEN){const d=Le();R(d,Pn),Ru(d,r),this.ws.send(q(d))}},c)),this._bcSubscriber=(d,h)=>{if(h!==this){const p=Sg(this,new Uint8Array(d),!1);$c(p)>1&&sr(this.bcChannel,q(p),this)}},this._updateHandler=(d,h)=>{if(h!==this){const p=Le();R(p,Pn),o1(p,d),Li(this,q(p))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:d,updated:h,removed:p},v)=>{const _=d.concat(h).concat(p),m=Le();R(m,Er),ie(m,wl(s,_)),Li(this,q(m))},this._exitHandler=()=>{ea(this.awareness,[r.clientID],"app closed")},Cn&&typeof process<"u"&&process.on("exit",this._exitHandler),s.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval(()=>{this.wsconnected&&Qf<Wn()-this.wsLastMessageReceived&&Pu(this,this.ws,null)},Qf/10),l&&this.connect()}get url(){const e=h1(this.params);return this.serverUrl+"/"+this.roomname+(e.length===0?"":"?"+e)}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){this._resyncInterval!==0&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),Cn&&typeof process<"u"&&process.off("exit",this._exitHandler),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){if(this.disableBc)return;this.bcconnected||(r1(this.bcChannel,this._bcSubscriber),this.bcconnected=!0);const e=Le();R(e,Pn),Ru(e,this.doc),sr(this.bcChannel,q(e),this);const n=Le();R(n,Pn),wg(n,this.doc),sr(this.bcChannel,q(n),this);const r=Le();R(r,kg),sr(this.bcChannel,q(r),this);const l=Le();R(l,Er),ie(l,wl(this.awareness,[this.doc.clientID])),sr(this.bcChannel,q(l),this)}disconnectBc(){const e=Le();R(e,Er),ie(e,wl(this.awareness,[this.doc.clientID],new Map)),Li(this,q(e)),this.bcconnected&&(l1(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),this.ws!==null&&Pu(this,this.ws,null)}connect(){this.shouldConnect=!0,!this.wsconnected&&this.ws===null&&(_g(this),this.connectBc())}}const er=t=>Rr((e,n)=>{t.onerror=r=>n(new Error(r.target.error)),t.onsuccess=r=>e(r.target.result)}),y1=(t,e)=>Rr((n,r)=>{const l=indexedDB.open(t);l.onupgradeneeded=s=>e(s.target.result),l.onerror=s=>r(Kt(s.target.error)),l.onsuccess=s=>{const o=s.target.result;o.onversionchange=()=>{o.close()},n(o)}}),v1=t=>er(indexedDB.deleteDatabase(t)),w1=(t,e)=>e.forEach(n=>t.createObjectStore.apply(t,n)),il=(t,e,n="readwrite")=>{const r=t.transaction(e,n);return e.map(l=>D1(r,l))},Cg=(t,e)=>er(t.count(e)),x1=(t,e)=>er(t.get(e)),Eg=(t,e)=>er(t.delete(e)),k1=(t,e,n)=>er(t.put(e,n)),ju=(t,e)=>er(t.add(e)),S1=(t,e,n)=>er(t.getAll(e,n)),_1=(t,e,n)=>{let r=null;return T1(t,e,l=>(r=l,!1),n).then(()=>r)},C1=(t,e=null)=>_1(t,e,"prev"),E1=(t,e)=>Rr((n,r)=>{t.onerror=r,t.onsuccess=async l=>{const s=l.target.result;if(s===null||await e(s)===!1)return n();s.continue()}}),T1=(t,e,n,r="next")=>E1(t.openKeyCursor(e,r),l=>n(l.key)),D1=(t,e)=>t.objectStore(e),N1=(t,e)=>IDBKeyRange.upperBound(t,e),M1=(t,e)=>IDBKeyRange.lowerBound(t,e),Ii="custom",Tg="updates",Dg=500,Ng=(t,e=()=>{},n=()=>{})=>{const[r]=il(t.db,[Tg]);return S1(r,M1(t._dbref,!1)).then(l=>{t._destroyed||(e(r),W(t.doc,()=>{l.forEach(s=>Bp(t.doc,s))},t,!1),n(r))}).then(()=>C1(r).then(l=>{t._dbref=l+1})).then(()=>Cg(r).then(l=>{t._dbsize=l})).then(()=>r)},L1=(t,e=!0)=>Ng(t).then(n=>{(e||t._dbsize>=Dg)&&ju(n,Vc(t.doc)).then(()=>Eg(n,N1(t._dbref,!0))).then(()=>Cg(n).then(r=>{t._dbsize=r}))});class I1 extends dp{constructor(e,n){super(),this.doc=n,this.name=e,this._dbref=0,this._dbsize=0,this._destroyed=!1,this.db=null,this.synced=!1,this._db=y1(e,r=>w1(r,[["updates",{autoIncrement:!0}],["custom"]])),this.whenSynced=Rr(r=>this.on("synced",()=>r(this))),this._db.then(r=>{this.db=r,Ng(this,o=>ju(o,Vc(n)),()=>{if(this._destroyed)return this;this.synced=!0,this.emit("synced",[this])})}),this._storeTimeout=1e3,this._storeTimeoutId=null,this._storeUpdate=(r,l)=>{if(this.db&&l!==this){const[s]=il(this.db,[Tg]);ju(s,r),++this._dbsize>=Dg&&(this._storeTimeoutId!==null&&clearTimeout(this._storeTimeoutId),this._storeTimeoutId=setTimeout(()=>{L1(this,!1),this._storeTimeoutId=null},this._storeTimeout))}},n.on("update",this._storeUpdate),this.destroy=this.destroy.bind(this),n.on("destroy",this.destroy)}destroy(){return this._storeTimeoutId&&clearTimeout(this._storeTimeoutId),this.doc.off("update",this._storeUpdate),this.doc.off("destroy",this.destroy),this._destroyed=!0,this._db.then(e=>{e.close()})}clearData(){return this.destroy().then(()=>{v1(this.name)})}get(e){return this._db.then(n=>{const[r]=il(n,[Ii],"readonly");return x1(r,e)})}set(e,n){return this._db.then(r=>{const[l]=il(r,[Ii]);return k1(l,n,e)})}del(e){return this._db.then(n=>{const[r]=il(n,[Ii]);return Eg(r,e)})}}function $1(t){const e=new Vr,n=new m1("wss://tinybingo-ws-1.onrender.com",`elden-bingo-${t}`,e);n.on("status",s=>{console.log("[y-websocket] status:",s==null?void 0:s.status)}),n.on("connection-close",()=>console.log("[y-websocket] connection-close")),n.on("connection-error",s=>console.warn("[y-websocket] error",s));const r=n.awareness,l=new I1(`elden-bingo-${t}`,e);return{doc:e,provider:n,awareness:r,persist:l}}var ta={exports:{}};ta.exports;(function(t){(function(e,n,r){function l(i){var c=this,a=u();c.next=function(){var f=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=f-(c.c=f|0)},c.c=1,c.s0=a(" "),c.s1=a(" "),c.s2=a(" "),c.s0-=a(i),c.s0<0&&(c.s0+=1),c.s1-=a(i),c.s1<0&&(c.s1+=1),c.s2-=a(i),c.s2<0&&(c.s2+=1),a=null}function s(i,c){return c.c=i.c,c.s0=i.s0,c.s1=i.s1,c.s2=i.s2,c}function o(i,c){var a=new l(i),f=c&&c.state,d=a.next;return d.int32=function(){return a.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&s(f,a),d.state=function(){return s(a,{})}),d}function u(){var i=4022871197,c=function(a){a=String(a);for(var f=0;f<a.length;f++){i+=a.charCodeAt(f);var d=.02519603282416938*i;i=d>>>0,d-=i,d*=i,i=d>>>0,d-=i,i+=d*4294967296}return(i>>>0)*23283064365386963e-26};return c}n&&n.exports?n.exports=o:this.alea=o})(Yn,t)})(ta);var A1=ta.exports,na={exports:{}};na.exports;(function(t){(function(e,n,r){function l(u){var i=this,c="";i.x=0,i.y=0,i.z=0,i.w=0,i.next=function(){var f=i.x^i.x<<11;return i.x=i.y,i.y=i.z,i.z=i.w,i.w^=i.w>>>19^f^f>>>8},u===(u|0)?i.x=u:c+=u;for(var a=0;a<c.length+64;a++)i.x^=c.charCodeAt(a)|0,i.next()}function s(u,i){return i.x=u.x,i.y=u.y,i.z=u.z,i.w=u.w,i}function o(u,i){var c=new l(u),a=i&&i.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=c.next,f.quick=f,a&&(typeof a=="object"&&s(a,c),f.state=function(){return s(c,{})}),f}n&&n.exports?n.exports=o:this.xor128=o})(Yn,t)})(na);var R1=na.exports,ra={exports:{}};ra.exports;(function(t){(function(e,n,r){function l(u){var i=this,c="";i.next=function(){var f=i.x^i.x>>>2;return i.x=i.y,i.y=i.z,i.z=i.w,i.w=i.v,(i.d=i.d+362437|0)+(i.v=i.v^i.v<<4^(f^f<<1))|0},i.x=0,i.y=0,i.z=0,i.w=0,i.v=0,u===(u|0)?i.x=u:c+=u;for(var a=0;a<c.length+64;a++)i.x^=c.charCodeAt(a)|0,a==c.length&&(i.d=i.x<<10^i.x>>>4),i.next()}function s(u,i){return i.x=u.x,i.y=u.y,i.z=u.z,i.w=u.w,i.v=u.v,i.d=u.d,i}function o(u,i){var c=new l(u),a=i&&i.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=c.next,f.quick=f,a&&(typeof a=="object"&&s(a,c),f.state=function(){return s(c,{})}),f}n&&n.exports?n.exports=o:this.xorwow=o})(Yn,t)})(ra);var P1=ra.exports,la={exports:{}};la.exports;(function(t){(function(e,n,r){function l(u){var i=this;i.next=function(){var a=i.x,f=i.i,d,h;return d=a[f],d^=d>>>7,h=d^d<<24,d=a[f+1&7],h^=d^d>>>10,d=a[f+3&7],h^=d^d>>>3,d=a[f+4&7],h^=d^d<<7,d=a[f+7&7],d=d^d<<13,h^=d^d<<9,a[f]=h,i.i=f+1&7,h};function c(a,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],a.x=h,a.i=0,d=256;d>0;--d)a.next()}c(i,u)}function s(u,i){return i.x=u.x.slice(),i.i=u.i,i}function o(u,i){u==null&&(u=+new Date);var c=new l(u),a=i&&i.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=c.next,f.quick=f,a&&(a.x&&s(a,c),f.state=function(){return s(c,{})}),f}n&&n.exports?n.exports=o:this.xorshift7=o})(Yn,t)})(la);var j1=la.exports,sa={exports:{}};sa.exports;(function(t){(function(e,n,r){function l(u){var i=this;i.next=function(){var a=i.w,f=i.X,d=i.i,h,p;return i.w=a=a+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,i.i=d,p+(a^a>>>16)|0};function c(a,f){var d,h,p,v,_,m=[],g=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,g=Math.max(g,f.length)),p=0,v=-32;v<g;++v)f&&(h^=f.charCodeAt((v+32)%f.length)),v===0&&(_=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,v>=0&&(_=_+1640531527|0,d=m[v&127]^=h+_,p=d==0?p+1:0);for(p>=128&&(m[(f&&f.length||0)&127]=-1),p=127,v=4*128;v>0;--v)h=m[p+34&127],d=m[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,m[p]=h^d;a.w=_,a.X=m,a.i=p}c(i,u)}function s(u,i){return i.i=u.i,i.w=u.w,i.X=u.X.slice(),i}function o(u,i){u==null&&(u=+new Date);var c=new l(u),a=i&&i.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=c.next,f.quick=f,a&&(a.X&&s(a,c),f.state=function(){return s(c,{})}),f}n&&n.exports?n.exports=o:this.xor4096=o})(Yn,t)})(sa);var O1=sa.exports,oa={exports:{}};oa.exports;(function(t){(function(e,n,r){function l(u){var i=this,c="";i.next=function(){var f=i.b,d=i.c,h=i.d,p=i.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,i.b=f=f<<20^f>>>12^d,i.c=d=d-h|0,i.d=h<<16^d>>>16^p,i.a=p-f|0},i.a=0,i.b=0,i.c=-1640531527,i.d=1367130551,u===Math.floor(u)?(i.a=u/4294967296|0,i.b=u|0):c+=u;for(var a=0;a<c.length+20;a++)i.b^=c.charCodeAt(a)|0,i.next()}function s(u,i){return i.a=u.a,i.b=u.b,i.c=u.c,i.d=u.d,i}function o(u,i){var c=new l(u),a=i&&i.state,f=function(){return(c.next()>>>0)/4294967296};return f.double=function(){do var d=c.next()>>>11,h=(c.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=c.next,f.quick=f,a&&(typeof a=="object"&&s(a,c),f.state=function(){return s(c,{})}),f}n&&n.exports?n.exports=o:this.tychei=o})(Yn,t)})(oa);var z1=oa.exports,Mg={exports:{}};const U1={},F1=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"})),B1=Bg(F1);(function(t){(function(e,n,r){var l=256,s=6,o=52,u="random",i=r.pow(l,s),c=r.pow(2,o),a=c*2,f=l-1,d;function h(w,k,T){var D=[];k=k==!0?{entropy:!0}:k||{};var x=m(_(k.entropy?[w,y(n)]:w??g(),3),D),F=new p(D),$=function(){for(var Q=F.g(s),Te=i,ge=0;Q<c;)Q=(Q+ge)*l,Te*=l,ge=F.g(1);for(;Q>=a;)Q/=2,Te/=2,ge>>>=1;return(Q+ge)/Te};return $.int32=function(){return F.g(4)|0},$.quick=function(){return F.g(4)/4294967296},$.double=$,m(y(F.S),n),(k.pass||T||function(Q,Te,ge,Ge){return Ge&&(Ge.S&&v(Ge,F),Q.state=function(){return v(F,{})}),ge?(r[u]=Q,Te):Q})($,x,"global"in k?k.global:this==r,k.state)}function p(w){var k,T=w.length,D=this,x=0,F=D.i=D.j=0,$=D.S=[];for(T||(w=[T++]);x<l;)$[x]=x++;for(x=0;x<l;x++)$[x]=$[F=f&F+w[x%T]+(k=$[x])],$[F]=k;(D.g=function(Q){for(var Te,ge=0,Ge=D.i,Jt=D.j,xe=D.S;Q--;)Te=xe[Ge=f&Ge+1],ge=ge*l+xe[f&(xe[Ge]=xe[Jt=f&Jt+Te])+(xe[Jt]=Te)];return D.i=Ge,D.j=Jt,ge})(l)}function v(w,k){return k.i=w.i,k.j=w.j,k.S=w.S.slice(),k}function _(w,k){var T=[],D=typeof w,x;if(k&&D=="object")for(x in w)try{T.push(_(w[x],k-1))}catch{}return T.length?T:D=="string"?w:w+"\0"}function m(w,k){for(var T=w+"",D,x=0;x<T.length;)k[f&x]=f&(D^=k[f&x]*19)+T.charCodeAt(x++);return y(k)}function g(){try{var w;return d&&(w=d.randomBytes)?w=w(l):(w=new Uint8Array(l),(e.crypto||e.msCrypto).getRandomValues(w)),y(w)}catch{var k=e.navigator,T=k&&k.plugins;return[+new Date,e,T,e.screen,y(n)]}}function y(w){return String.fromCharCode.apply(0,w)}if(m(r.random(),n),t.exports){t.exports=h;try{d=B1}catch{}}else r["seed"+u]=h})(typeof self<"u"?self:Yn,[],Math)})(Mg);var b1=Mg.exports,H1=A1,V1=R1,W1=P1,Q1=j1,K1=O1,G1=z1,tr=b1;tr.alea=H1;tr.xor128=V1;tr.xorwow=W1;tr.xorshift7=Q1;tr.xor4096=K1;tr.tychei=G1;var Y1=tr;const X1=Jf(Y1);function Lg(t){const e=X1(String(t));return()=>e.quick()}function J1(t,e=Lg("default")){const n=t.slice();for(let r=n.length-1;r>0;r--){const l=Math.floor(e()*(r+1));[n[r],n[l]]=[n[l],n[r]]}return n}function Z1(t,e,n,r){const l=Lg(n),s=[];for(const i of t){const c=Math.max(1,Math.floor(i.weight??1));for(let a=0;a<c;a++)s.push(i)}const o=new Map;for(const i of J1(s,l))if(o.has(i.id)||o.set(i.id,i),o.size>=e*e)break;return Array.from(o.values()).map(i=>i.id)}const tn=[{id:"T001",text:"Собрать 5 печатей"},{id:"T002",text:"Убить 5 дружественных NPC"},{id:"T003",text:"Убить босса только призывами до входа в Альтус"},{id:"T004",text:"Убить дубиной Приращённого Отпрыска в часовне ожидания"},{id:"T005",text:"Прокачать оружие мрака до +9"},{id:"T006",text:"Раздвоить воспоминание о Годрике"},{id:"T007",text:"Убить Блайда при первой встрече"},{id:"T008",text:"Использовать воспоминание о благодати, имея при себе 150 000 рун (не в консервах)"},{id:"T009",text:"Получить талисман Протез Милисенты"},{id:"T010",text:"Прокачать Стойкость до +30"},{id:"T011",text:"Добыть палец с перстнем"},{id:"T012",text:"Продать Клык Ищейки сразу после его получения торговцу Кале"},{id:"T013",text:"Убить Солдата Годрика голыми руками"},{id:"T014",text:"Убить Рыцаря Горнила только парированиями"},{id:"T015",text:"Выбросить Редувию пока вторгается Анастасия"},{id:"T016",text:"Получить сет Героя-Зверя, убив его владельца только расходниками"},{id:"T017",text:"Убить два гнилых дерева в ближнем бою без призывов"},{id:"T018",text:"Собрать все талисманы Печать Радагона"},{id:"T019",text:"Убить 5 боссов-всадников"},{id:"T020",text:"Добыть три слезы лечинки"},{id:"T021",text:"Получить пепел войны Ливень Стрел"},{id:"T022",text:"Собрать медальон Дектуса"},{id:"T023",text:"Убить босса с воспоминанием оружием из воспоминаний"},{id:"T024",text:"Убить Радана без призывов"},{id:"T025",text:"Войти в столицу через главный вход"},{id:"T026",text:"Полностью зачистить 4 пещеры"},{id:"T027",text:"Убить Маргита на уровне +0 и с оружием +0"},{id:"T028",text:"Убить Червемордого"},{id:"T029",text:"Убить 25 бесов"},{id:"T030",text:"Добыть Большой Лук"},{id:"T031",text:"Попасть во Дворец Могвинов"},{id:"T032",text:"Убить Варе"},{id:"T033",text:"Взять Райю за руку"},{id:"T034",text:"Получить Белую маску"},{id:"T035",text:"Убить себя Лопнувшей кристальной слезой пока Радан в небе"},{id:"T036",text:"Убить 3 гравитационных босса с ногами"},{id:"T037",text:"Получить с врагов 10 радужных камешков"},{id:"T038",text:"Заставить Лобстера убить другого Лобстера"},{id:"T039",text:"Убить змеиным луком 3 змеелюдов"},{id:"T040",text:"Попасть в Альтус через Деву-Похитительницу"},{id:"T041",text:"Получить три аттрибута Рыцарей Горнила"},{id:"T042",text:"Убить Анастасию Воем Шабрири"},{id:"T043",text:"Убить Рыцаря Горнила аттрибутом Рыцаря Горнила"},{id:"T044",text:"Убить Кале до получения Торента"},{id:"T045",text:"Прокачать фляги слёз до +7"},{id:"T046",text:"Использовать две слезы личинки у Реналы"},{id:"T047",text:"Убить Бастарда Леонина плёткой без призывов"},{id:"T048",text:"Убить дракона драконьей молитвой"},{id:"T049",text:"Убить Магнуса"},{id:"T050",text:"Убить 2 Тени кладбища только бэк-стэбами"},{id:"T051",text:"Убить босса с воспоминанием используя только Прах гниющего бродячего пса"},{id:"T052",text:"Получить 3 праха, стреляющих стрелами"},{id:"T053",text:"Найти Талисман: щит с гербом дракона +1"},{id:"T054",text:"Активировать Великую Руну Радана"},{id:"T055",text:"Убить Штормового Ястреба Чинкуэдой"},{id:"T056",text:"Установить пепел войны Поступь Ищейки на Утигатану"},{id:"T057",text:"Добыть руническую дугу с крыс"},{id:"T058",text:"Выбросить талисман Склад великого кувшина"},{id:"T059",text:"Сделать врага союзником и заставить убить другого врага"},{id:"T060",text:"Получить колокольную сферу Заключённого торговца"},{id:"T061",text:"Убить 5 боссов с крыльями"},{id:"T062",text:"Убить 3 Охотника за колокольными сферами"},{id:"T063",text:"Убить парного босса будучи перегруженным"},{id:"T064",text:"Убить 30 птиц кровавыми стрелами"},{id:"T065",text:"Получить Чёрный нож во время действия баффа Медузьего щита"},{id:"T066",text:"Получить Большой лук голема"},{id:"T067",text:"Убить 10 баранов пеплом войны Молниеносный баран"},{id:"T068",text:"Получить Чёрный нож во время действия баффа Медузьего щита"},{id:"T069",text:"Отдать Топсу ключ из академии"},{id:"T070",text:"Убить Командующего О'Нила без оружия и призывов"},{id:"T071",text:"Искупить грех"},{id:"T072",text:"Убить безумного Тролля Колесом Гизы"},{id:"T073",text:"Открыть благодать на дне Священной башни Звёздных пустошей"},{id:"T074",text:"Победить Гуранка без призывов"},{id:"T075",text:"Забрать награду за 3 картины"},{id:"T076",text:"Убить Родича Чёрного Клинка из дальнобойного оружия "},{id:"T077",text:"Собрать все чары магии Глиняных людей"},{id:"T078",text:"Собрать 10 кристальных слез для чудесного снадобья"},{id:"T079",text:"Убить 3 босса разных видов с ''древ'' в названии"},{id:"T080",text:"Получить сет Лусата"},{id:"T081",text:"Добыть 5 молитв со скарабеев"},{id:"T082",text:"Добыть 5 пеплов войны со скарабеев"},{id:"T083",text:"Добыть 3 чары/магии со скарабеев"},{id:"T084",text:"Добыть Прах солдат удачи"},{id:"T085",text:"Получить головной убор с рогами"},{id:"T086",text:"Зачистить по 1 узилищу в 4 районах"},{id:"T087",text:"Победить 3 вторженцев"},{id:"T088",text:"Убить 2 ночных боссов горшками"},{id:"T089",text:"Отдать Хёйте 3 винограда"},{id:"T090",text:"Добыть 3 красных молитвы"},{id:"T091",text:"Убить 3 спящих медведя"},{id:"T092",text:"Прокачать Веру до +30"},{id:"T093",text:"Прокачать Колдовство до +30"},{id:"T094",text:"Прокачать Мудрость до +30"},{id:"T095",text:"Убить босса Королевского призрака без молитв"},{id:"T096",text:"Добыть шлем Черный пирожок"},{id:"T097",text:"Добыть Голову Юного Предка"},{id:"T098",text:"Отдать 5 колокольных сфер старым служанкам-близнецам"},{id:"T099",text:"Добыть 3 сумки для талисманов"},{id:"T100",text:"Пройти пещеру без урона"},{id:"T101",text:"Добыть шлем-скарабей"},{id:"T102",text:"Устранить шар на мосту по пути к Реннале"},{id:"T103",text:"Убить Хёйту при второй встрече"},{id:"T104",text:"Убить 5 скарабеев багровых слез молитвой Яростный залп"},{id:"T105",text:"Остановить распространение безумия с башни"},{id:"T106",text:"Убить детей Грейол на её глазах"},{id:"T107",text:"Сбросить босса со скалы"},{id:"T108",text:"Убить Королеву полулюдей Марго на 4 разных баффах одновременно"},{id:"T109",text:"Убить Ложную слезу до её превращения в Погасшего"},{id:"T110",text:"Убить 3 невидимых скарабея"},{id:"T111",text:"Разрушить Колесницу"},{id:"T112",text:"Сделать крит Огненной колеснице"}];function q1({actions:t}){const e=z.useRef(null);return z.useEffect(()=>{e.current&&t.length>0&&(e.current.scrollTop=e.current.scrollHeight)},[t]),C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3 space-y-2 min-w-[220px]",children:[C.jsx("div",{className:"text-sm opacity-80",children:"История"}),C.jsx("ul",{ref:e,className:"space-y-1 max-h-64 overflow-y-auto text-sm",children:t.map((n,r)=>C.jsxs("li",{style:{color:n.color||"inherit"},children:[n.playerName," ",n.cellText," [",new Date(n.timestamp).toLocaleTimeString(),"]"]},r))})]})}const ex={test:{timing:{minInterval:1e4,maxInterval:3e4,firstMoveDelay:1e3},behavior:{aggressiveness:.7,defensiveness:.7,planningDepth:1,bluffChance:.1,threatResponseThreshold:4,blockPlayerChance:.9,strategicMoveDifficultyThreshold:.9},strategy:{lineCompletionPriority:.9,blockingPriority:.9,quantityBingoPriority:.5,difficultyPreference:.9,preferLineCompletion:.9,preferBlocking:.9},adaptation:{planChangeThreshold:.5,strategySwitchFrequency:.3,learningRate:.3}},easy:{timing:{minInterval:20*6e4,maxInterval:40*6e4,firstMoveDelay:15*6e4},behavior:{aggressiveness:.6,defensiveness:.6,planningDepth:2,bluffChance:.4,threatResponseThreshold:2,blockPlayerChance:.7,strategicMoveDifficultyThreshold:.3},strategy:{lineCompletionPriority:.6,blockingPriority:.6,quantityBingoPriority:.5,difficultyPreference:.6,preferLineCompletion:.3,preferBlocking:.2},adaptation:{planChangeThreshold:.5,strategySwitchFrequency:.3,learningRate:.3}},medium:{timing:{minInterval:15*6e4,maxInterval:30*6e4,firstMoveDelay:10*6e4},behavior:{aggressiveness:.7,defensiveness:.7,planningDepth:3,bluffChance:.3,threatResponseThreshold:3,blockPlayerChance:.4,strategicMoveDifficultyThreshold:.7},strategy:{lineCompletionPriority:.7,blockingPriority:.7,quantityBingoPriority:.5,difficultyPreference:.7,preferLineCompletion:.7,preferBlocking:.7},adaptation:{planChangeThreshold:.4,strategySwitchFrequency:.5,learningRate:.5}},hard:{timing:{minInterval:10*6e4,maxInterval:20*6e4,firstMoveDelay:8*6e4},behavior:{aggressiveness:.9,defensiveness:.8,planningDepth:5,bluffChance:.1,threatResponseThreshold:4,blockPlayerChance:.9,strategicMoveDifficultyThreshold:.9},strategy:{lineCompletionPriority:.9,blockingPriority:.9,quantityBingoPriority:.2,difficultyPreference:.9,preferLineCompletion:.9,preferBlocking:.9},adaptation:{planChangeThreshold:.3,strategySwitchFrequency:.7,learningRate:.7}}};function ia(t){return ex[t]}function tx(t){const e=ia(t),{minInterval:n,maxInterval:r}=e.timing;return n+Math.random()*(r-n)}function nx(t){return ia(t).timing.firstMoveDelay||0}function Ss(t,e,n,r,l,s){let o=0,u=0,i=0,c=0,a=0;for(const d of t){const h=e[d]||[],p=r[d],v=p?n[p]:null;h.includes("bot")?o++:h.length>0?u++:i++,v!=null&&v.difficulty&&(c+=v.difficulty,a++)}const f=a>0?c/a:2;return{botProgress:o,playerProgress:u,available:i,difficulty:Math.round(f)}}function Ur(t,e){const{board:n,hits:r,size:l}=t;console.log("=== АНАЛИЗ ДОСКИ ==="),console.log("Размер доски:",l),console.log("Количество отмеченных клеток:",Object.keys(r).length),console.log("========================");const s=[],o=[],u=[];for(let i=0;i<l;i++){const c=zt("row",i,l),a=Ss(c,r,e,n);console.log(`Ряд ${i}:`,a),a.botProgress>0&&u.push({type:"row",index:i,progress:a.botProgress,difficulty:a.difficulty}),a.playerProgress>0&&o.push({type:"row",index:i,player:"player",progress:a.playerProgress}),a.available>0&&s.push({type:"row",index:i,progress:a.available,difficulty:a.difficulty})}for(let i=0;i<l;i++){const c=zt("col",i,l),a=Ss(c,r,e,n);console.log(`Столбец ${i}:`,a),a.botProgress>0&&u.push({type:"col",index:i,progress:a.botProgress,difficulty:a.difficulty}),a.playerProgress>0&&o.push({type:"col",index:i,player:"player",progress:a.playerProgress}),a.available>0&&s.push({type:"col",index:i,progress:a.available,difficulty:a.difficulty})}if(l===5){const i=zt("diag",0,l),c=Ss(i,r,e,n);console.log("Главная диагональ:",c),c.botProgress>0&&u.push({type:"diag",index:0,progress:c.botProgress,difficulty:c.difficulty}),c.playerProgress>0&&o.push({type:"diag",index:0,player:"player",progress:c.playerProgress}),c.available>0&&s.push({type:"diag",index:0,progress:c.available,difficulty:c.difficulty});const a=zt("diag",1,l),f=Ss(a,r,e,n);console.log("Побочная диагональ:",f),f.botProgress>0&&u.push({type:"diag",index:1,progress:f.botProgress,difficulty:f.difficulty}),f.playerProgress>0&&o.push({type:"diag",index:1,player:"player",progress:f.playerProgress}),f.available>0&&s.push({type:"diag",index:1,progress:f.available,difficulty:f.difficulty})}return console.log("=== РЕЗУЛЬТАТЫ АНАЛИЗА ==="),console.log("Доступные линии:",s.length),console.log("Угрозы:",o.length),console.log("Прогресс бота:",u.length),console.log("============================"),{availableLines:s,threats:o,botProgress:u}}function rx(t,e,n,r){const{board:l,hits:s,size:o}=t,u=ia(n);console.log("=== ПРОСТАЯ ЛОГИКА ИИ ==="),console.log("Сложность бота:",n),console.log("Размер доски:",o),console.log("Количество целей:",Object.keys(e).length),console.log("Состояние доски (hits):",s);const i=[];for(let k=0;k<l.length;k++)(s[k]||[]).length===0&&i.push(k);console.log("Свободные клетки:",i),console.log("Количество свободных клеток:",i.length);const c=Ur(t,e);console.log("Анализ доски:",c),console.log("========================"),console.log("Анализирую угрозы и блокировки...");const a=hx(t,e,u);if(a.recommendedAction==="block"){console.log("🚨 Обнаружены критические угрозы, ищу ход для блокировки...");const k=px(a.playerThreats,t,e);if(k!==null)return console.log("✅ Найден ход для блокировки угрозы:",k),{nextMove:k.index,strategy:"defensive",reason:`Блокирую угрозу: ${k.reason}`};console.log("⚠️ Не удалось найти ход для блокировки угрозы - переключаюсь на другие стратегии")}a.recommendedAction==="switch"&&console.log("⚠️ Бот заблокирован в некоторых линиях, переключаюсь на другие стратегии"),console.log("Анализирую потенциал линий между последними ходами бота...");const f=dx(t,e);if(console.log("  Результат findDynamicLineMove:",f),f!==null)return console.log("✅ Найден ход для динамической линии:",f),{nextMove:f.index,strategy:"aggressive",reason:`Завершение динамической линии: ${f.type} ${f.lineIndex}`};console.log("❌ Динамические линии не найдены"),console.log("Ищу стратегические позиции...");const d=ox(t,e,u);if(console.log("  Результат findStrategicMove:",d),d!==null)return console.log("✅ Найден ход для захвата стратегической позиции:",d),{nextMove:d,strategy:"aggressive",reason:"Захват стратегической позиции"};console.log("❌ Стратегические позиции не найдены"),console.log("Анализирую потенциальные линии...");const h=ix(t,e);if(console.log("  Результат findPotentialLineMove:",h),h!==null)return console.log("✅ Найден ход для потенциальной линии:",h),{nextMove:h,strategy:"aggressive",reason:"Завершение потенциальной линии"};console.log("❌ Потенциальные линии не найдены или заблокированы игроком"),console.log("Ищу ход для завершения линии...");const p=lx(t,e);if(console.log("  Результат findLineCompletionMove:",p),p!==null)return console.log("✅ Найден ход для завершения линии:",p),{nextMove:p,strategy:"aggressive",reason:"Завершаю линию"};console.log("❌ Ход для завершения линии не найден");const v=Math.random()<u.behavior.blockPlayerChance;if(console.log(`Проверяю блокировку игрока: ${v} (вероятность: ${u.behavior.blockPlayerChance})`),v){console.log("Ищу ход для блокировки игрока...");const k=sx(t,e);if(console.log("  Результат findBlockingMove:",k),k!==null)return console.log("✅ Найден ход для блокировки игрока:",k),{nextMove:k,strategy:"defensive",reason:"Блокирую игрока"};console.log("❌ Ход для блокировки игрока не найден")}console.log("Ищу ход для количественного бинго...");const _=Kf(t,e);if(console.log("  Результат findQuantityMove:",_),_!==null)return console.log("✅ Найден ход для количественного бинго:",_),{nextMove:_,strategy:"balanced",reason:"Количественное бинго"};console.log("❌ Ход для количественного бинго не найден"),console.log("🔄 Анализирую причины неудачи и переключаюсь на другие стратегии...");const m=Ur(t,e);console.log("📊 Анализ доски:",m),console.log("🔄 Пробую количественную стратегию...");const g=Kf(t,e);if(console.log("  Результат findQuantityMove:",g),g!==null)return console.log("✅ Найден ход для количественной стратегии:",g),{nextMove:g,strategy:"balanced",reason:"Переключение на количественную стратегию"};console.log("🔄 Пробую захват любых свободных стратегических позиций...");const y=gx(t,e);if(console.log("  Результат findAnyStrategicMove:",y),y!==null)return console.log("✅ Найден ход для захвата стратегической позиции:",y),{nextMove:y,strategy:"aggressive",reason:"Захват доступной стратегической позиции"};console.log("🔄 Последняя попытка - любая свободная клетка...");const w=mx(t,e);if(console.log("✅ Выбран лучший доступный ход:",w),w==null){console.log("❌ КРИТИЧЕСКАЯ ОШИБКА: bestAvailableMove равен null/undefined!");const k=l.findIndex((T,D)=>(s[D]||[]).length===0);return console.log("🆘 Fallback на первую свободную клетку:",k),{nextMove:k>=0?k:0,strategy:"balanced",reason:"Критический fallback - первая свободная клетка"}}if(w<0||w>=l.length){console.log("❌ КРИТИЧЕСКАЯ ОШИБКА: bestAvailableMove вне пределов доски!");const k=l.findIndex((T,D)=>(s[D]||[]).length===0);return console.log("🆘 Fallback на первую свободную клетку:",k),{nextMove:k>=0?k:0,strategy:"balanced",reason:"Критический fallback - первая свободная клетка"}}return console.log("🎯 ФИНАЛЬНЫЙ РЕЗУЛЬТАТ:"),console.log("  nextMove:",w),console.log("  strategy: balanced"),console.log("  reason: Лучший доступный ход из оставшихся"),console.log("  Проверяем валидность:",{isValid:w>=0&&w<l.length,boardLength:l.length,isFree:!s[w]||s[w].length===0}),{nextMove:w,strategy:"balanced",reason:"Лучший доступный ход из оставшихся"}}function lx(t,e,n){const{board:r,hits:l,size:s}=t;console.log("  findLineCompletionMove: начало поиска");const o=Ur(t,e);console.log("  Анализ доски:",o),console.log("  Прогресс бота:",o.botProgress);for(const u of o.botProgress)if(console.log(`  Проверяю линию ${u.type} ${u.index}: прогресс ${u.progress}`),u.progress>=3){console.log(`  ✅ Линия ${u.type} ${u.index} подходит для завершения!`);const i=zt(u.type,u.index,s);console.log("  Индексы клеток в линии:",i);const c=i.filter(a=>{const f=l[a]||[],d=f.length===0;return console.log(`    Клетка ${a}: ${d?"свободна":"занята "+f.join(", ")}`),d});if(console.log("  Свободные клетки в линии:",c),c.length>0){const f=c.sort((d,h)=>{const p=e[r[d]],v=e[r[h]],_=(p==null?void 0:p.difficulty)||2,m=(v==null?void 0:v.difficulty)||2;return console.log(`    Сравниваю клетки ${d} (сложность ${_}) и ${h} (сложность ${m})`),_-m})[0];return console.log(`  🎯 Выбрана лучшая клетка: ${f}`),f}else console.log(`  ❌ В линии ${u.type} ${u.index} нет свободных клеток`)}else console.log(`  ❌ Линия ${u.type} ${u.index}: прогресс ${u.progress} < 3`);return console.log("  ❌ Не найдено подходящих линий для завершения"),null}function sx(t,e,n){var u,i;const{board:r,hits:l,size:s}=t;console.log("  findBlockingMove: начало поиска");const o=Ur(t,e);console.log("  Анализ доски:",o),console.log("  Угрозы:",o.threats);for(const c of o.threats)if(c.progress>=4){console.log(`  🚨 КРИТИЧЕСКАЯ УГРОЗА: ${c.type} ${c.index} - игроку осталась 1 клетка!`);const f=zt(c.type,c.index,s).filter(d=>(l[d]||[]).length===0);if(f.length>0){const d=f[0];return console.log(`  🚨 СРОЧНО БЛОКИРУЮ клетку ${d} в ${c.type} ${c.index}`),d}}for(const c of o.threats)if(c.progress>=3&&c.progress<4){console.log(`  ⚠️ СЕРЬЕЗНАЯ УГРОЗА: ${c.type} ${c.index} - игроку осталось ${5-c.progress} клетки`);const f=zt(c.type,c.index,s).filter(d=>(l[d]||[]).length===0);if(f.length>0){const h=f.sort((p,v)=>{const _=e[r[p]],m=e[r[v]],g=(_==null?void 0:_.difficulty)||2,y=(m==null?void 0:m.difficulty)||2;return g-y})[0];return console.log(`  ⚠️ Блокирую клетку ${h} в ${c.type} ${c.index} (сложность: ${((u=e[r[h]])==null?void 0:u.difficulty)||"undefined"})`),h}}for(const c of o.threats)if(c.progress>=2&&c.progress<3){console.log(`  ℹ️ ЛЕГКАЯ УГРОЗА: ${c.type} ${c.index} - игроку осталось ${5-c.progress} клетки`);const f=zt(c.type,c.index,s).filter(d=>(l[d]||[]).length===0);if(f.length>0){const h=f.sort((p,v)=>{const _=e[r[p]],m=e[r[v]],g=(_==null?void 0:_.difficulty)||2,y=(m==null?void 0:m.difficulty)||2;return g-y})[0];return console.log(`  ℹ️ Блокирую клетку ${h} в ${c.type} ${c.index} (сложность: ${((i=e[r[h]])==null?void 0:i.difficulty)||"undefined"})`),h}}return console.log("  ❌ Угрозы для блокировки не найдены"),null}function Kf(t,e,n){var f,d;const{board:r,hits:l,size:s}=t;console.log("  findQuantityMove: начало поиска"),Ur(t,e);const o=[];for(let h=0;h<r.length;h++)(l[h]||[]).length===0&&o.push(h);if(console.log(`  Найдено свободных клеток: ${o.length}`),console.log("  Свободные клетки:",o),o.length===0)return console.log("  ❌ Нет свободных клеток"),null;const u=[];for(const h of o)ax(h,t)&&u.push(h);if(console.log(`  Клетки для завершения линий: ${u.length}`),console.log(`  Клетки для количественного бинго: ${o.length-u.length}`),u.length===o.length){console.log("  ⚠️ Все свободные клетки подходят для завершения линий - бот заблокирован"),console.log("  🔄 Переключаюсь на количественное бинго с приоритетом по сложности");const p=o.sort((v,_)=>{const m=e[r[v]],g=e[r[_]],y=(m==null?void 0:m.difficulty)||2,w=(g==null?void 0:g.difficulty)||2;return y-w})[0];return console.log(`  🎯 Выбрана лучшая клетка для количественного бинго (заблокирован): ${p} (цель: ${r[p]}, сложность: ${((f=e[r[p]])==null?void 0:f.difficulty)||"undefined"})`),p}const i=o.filter(h=>!u.includes(h));if(i.length===0){console.log("  ⚠️ Нет клеток для количественного бинго - переключаюсь на любые свободные клетки");const h=r.findIndex((p,v)=>(l[v]||[]).length===0);return h>=0?(console.log(`  🆘 Fallback на любую свободную клетку: ${h}`),h):(console.log("  ❌ Критическая ошибка: нет свободных клеток вообще!"),0)}const a=i.sort((h,p)=>{const v=e[r[h]],_=e[r[p]],m=(v==null?void 0:v.difficulty)||2,g=(_==null?void 0:_.difficulty)||2;return console.log(`    Сравниваю клетки ${h} (цель ${r[h]}, сложность ${m}) и ${p} (цель ${r[p]}, сложность ${g})`),m-g})[0];return console.log(`  🎯 Выбрана лучшая клетка для количественного бинго: ${a} (цель: ${r[a]}, сложность: ${((d=e[r[a]])==null?void 0:d.difficulty)||"undefined"})`),a}function ox(t,e,n){const{board:r,hits:l,size:s}=t,o=Math.floor(s*s/2),u=[0,s-1,s*(s-1),s*s-1];console.log("  findStrategicMove: проверяю стратегические позиции с взвешиванием"),console.log(`  Центр: ${o}, углы: ${u}`),console.log("    ПРИОРИТЕТ 1: Ищу задания со сложностью 1...");const i=l[o]||[];if(i.length===0){const a=r[o],f=e[a];if(f&&f.difficulty===1)return console.log(`  ✅ Центр (${o}): ${f.text} (сложность: ${f.difficulty}, вес: 3)`),o}for(const a of u)if((l[a]||[]).length===0){const d=r[a],h=e[d];if(h&&h.difficulty===1)return console.log(`  ✅ Угол (${a}): ${h.text} (сложность: ${h.difficulty}, вес: 2)`),a}console.log("    ПРИОРИТЕТ 2: Ищу задания со сложностью 2...");const c=[];if(i.length===0){const a=r[o],f=e[a];f&&f.difficulty===2&&(c.push({index:o,type:"center",weight:3,difficulty:f.difficulty,goalText:f.text}),console.log(`  Центр (${o}): ${f.text} (сложность: ${f.difficulty}, вес: 3)`))}for(const a of u)if((l[a]||[]).length===0){const d=r[a],h=e[d];h&&h.difficulty===2&&(c.push({index:a,type:"corner",weight:2,difficulty:h.difficulty,goalText:h.text}),console.log(`  Угол (${a}): ${h.text} (сложность: ${h.difficulty}, вес: 2)`))}if(c.length>0){c.sort((f,d)=>d.weight-f.weight);const a=c[0];return console.log(`  🎯 Выбрана лучшая стратегическая позиция: ${a.type} (${a.index})`),console.log(`    Задание: ${a.goalText} (сложность: ${a.difficulty}, вес: ${a.weight})`),a.index}if(n.behavior.strategicMoveDifficultyThreshold>=3){if(console.log("    ПРИОРИТЕТ 3: Ищу задания со сложностью 3..."),i.length===0){const a=r[o],f=e[a];if(f&&f.difficulty===3)return console.log(`  ✅ Центр (${o}): ${f.text} (сложность: ${f.difficulty}, вес: 3)`),o}for(const a of u)if((l[a]||[]).length===0){const d=r[a],h=e[d];if(h&&h.difficulty===3)return console.log(`  ✅ Угол (${a}): ${h.text} (сложность: ${h.difficulty}, вес: 2)`),a}}return console.log("  ❌ Стратегические позиции не найдены"),null}function ix(t,e,n){const{board:r,hits:l,size:s}=t;console.log("  findPotentialLineMove: начало поиска");const o=Ur(t,e);console.log("  Анализ доски:",o),console.log("  Прогресс бота:",o.botProgress);const u=ux(t,e);if(u.length>0){u.sort((a,f)=>a.closedCells!==f.closedCells?f.closedCells-a.closedCells:a.difficulty-f.difficulty);const c=u[0];return console.log(`  🎯 Выбрана лучшая диагональная клетка: ${c.index} (закрыто: ${c.closedCells}, сложность: ${c.difficulty})`),c.index}const i=cx(t,e);if(i.length>0){i.sort((a,f)=>a.closedCells!==f.closedCells?f.closedCells-a.closedCells:a.difficulty-f.difficulty);const c=i[0];return console.log(`  🎯 Выбрана лучшая клетка для линии: ${c.index} (закрыто: ${c.closedCells}, сложность: ${c.difficulty})`),c.index}return console.log("  ❌ Не найдено подходящих линий для потенциального завершения"),null}function ux(t,e,n){const{board:r,hits:l,size:s}=t,o=[];console.log("    Анализирую диагонали...");const i=Gf([0,6,12,18,24],0,t,e);o.push(...i);const a=Gf([4,8,12,16,20],1,t,e);return o.push(...a),console.log(`    Найдено диагональных ходов: ${o.length}`),o}function Gf(t,e,n,r){const{board:l,hits:s}=n,o=[];let u=0,i=0,c=0;const a=[];for(const f of t){const d=s[f]||[];d.length>0&&(u++,d.includes("bot")?i++:(c++,a.push(f)))}if(console.log(`      Диагональ ${e}: закрыто ${u}/5 клеток (бот: ${i}, игрок: ${c})`),c>=2)return console.log(`      ❌ Диагональ ${e} заблокирована игроком (${c} клетки), пропускаю`),o;if(e===0&&a.includes(12))return console.log("      ❌ Главная диагональ заблокирована игроком в центре, пропускаю"),o;if(e===0&&(a.includes(0)||a.includes(24)))return console.log("      ❌ Главная диагональ заблокирована игроком в углах, пропускаю"),o;if(e===1&&(a.includes(4)||a.includes(20)))return console.log("      ❌ Побочная диагональ заблокирована игроком в углах, пропускаю"),o;if(u>=2&&c<2){if(console.log(`      ✅ Диагональ ${e} подходит для завершения`),i>=2){console.log(`        🎯 У бота ${i} клетки в диагонали ${e} - высокий потенциал!`);for(const f of t)if((s[f]||[]).length===0){const h=l[f],p=r[h];p&&(o.push({index:f,type:"diag",diagIndex:e,closedCells:u,difficulty:p.difficulty||2,goalText:p.text}),console.log(`          Клетка ${f}: ${p.text} (сложность: ${p.difficulty})`))}}else if(i===1&&c===0){console.log(`        ℹ️ У бота 1 клетка в диагонали ${e} - средний потенциал`);for(const f of t)if((s[f]||[]).length===0){const h=l[f],p=r[h];p&&(o.push({index:f,type:"diag",diagIndex:e,closedCells:u,difficulty:p.difficulty||2,goalText:p.text}),console.log(`          Клетка ${f}: ${p.text} (сложность: ${p.difficulty})`))}}}else console.log(`      ❌ Диагональ ${e}: недостаточно клеток (${u}) или заблокирована игроком`);return o}function cx(t,e,n){const{board:r,hits:l,size:s}=t,o=[];console.log("    Анализирую ряды и столбцы...");for(let u=0;u<s;u++){const i=[];for(let a=0;a<s;a++)i.push(u*s+a);const c=Yf(i,"row",u,t,e);o.push(...c)}for(let u=0;u<s;u++){const i=[];for(let a=0;a<s;a++)i.push(a*s+u);const c=Yf(i,"col",u,t,e);o.push(...c)}return console.log(`    Найдено ходов для линий: ${o.length}`),o}function Yf(t,e,n,r,l){const{board:s,hits:o}=r,u=[];let i=0,c=0,a=0;for(const f of t){const d=o[f]||[];d.length>0&&(i++,d.includes("bot")?c++:a++)}if(console.log(`      ${e} ${n}: закрыто ${i}/5 клеток (бот: ${c}, игрок: ${a})`),a>=2)return console.log(`      ❌ ${e} ${n} заблокирован игроком (${a} клетки), пропускаю`),u;if(i>=2&&a<2){if(console.log(`      ✅ ${e} ${n} подходит для завершения`),c>=2){console.log(`        🎯 У бота ${c} клетки в ${e} ${n} - высокий потенциал!`);for(const f of t)if((o[f]||[]).length===0){const h=s[f],p=l[h];p&&(u.push({index:f,type:e,lineIndex:n,closedCells:i,difficulty:p.difficulty||2,goalText:p.text}),console.log(`          Клетка ${f}: ${p.text} (сложность: ${p.difficulty})`))}}else if(c===1&&a===0){console.log(`        ℹ️ У бота 1 клетка в ${e} ${n} - средний потенциал`);for(const f of t)if((o[f]||[]).length===0){const h=s[f],p=l[h];p&&(u.push({index:f,type:e,lineIndex:n,closedCells:i,difficulty:p.difficulty||2,goalText:p.text}),console.log(`          Клетка ${f}: ${p.text} (сложность: ${p.difficulty})`))}}}else console.log(`      ❌ ${e} ${n}: недостаточно клеток (${i}) или заблокирован игроком`);return u}function ax(t,e,n){const{board:r,hits:l,size:s}=e,o=fx(t,s);for(const u of o){const i=zt(u.type,u.index,s);let c=0,a=0;for(const f of i){const d=l[f]||[];d.includes("bot")?c++:d.length>0&&!d.includes("bot")&&a++}if(!(a>=2)&&(c>=3||a>=3||c>=2&&a<2))return!0}return!1}function fx(t,e){const n=[],r=Math.floor(t/e);n.push({type:"row",index:r});const l=t%e;return n.push({type:"col",index:l}),r===l&&n.push({type:"diag",index:0}),r+l===e-1&&n.push({type:"diag",index:1}),n}function zt(t,e,n){if(t==="row"){const r=e*n;return Array.from({length:n},(l,s)=>r+s)}else{if(t==="col")return Array.from({length:n},(r,l)=>l*n+e);if(t==="diag"){if(e===0)return Array.from({length:n},(r,l)=>l*n+l);if(e===1)return Array.from({length:n},(r,l)=>l*n+(n-1-l))}}return[]}function dx(t,e,n){var f;const{board:r,hits:l,size:s}=t;console.log("  findDynamicLineMove: начало поиска");const o=[];for(let d=0;d<r.length;d++)(l[d]||[]).includes("bot")&&o.push(d);if(o.length<2)return console.log("    ❌ У бота меньше 2 клеток, динамический анализ не нужен"),null;console.log(`    У бота ${o.length} клеток:`,o);const u=[];for(let d=0;d<s;d++){const h=[];for(let v=0;v<s;v++)h.push(d*s+v);const p=o.filter(v=>Math.floor(v/s)===d);if(p.length>=2){const v=h.filter(_=>(l[_]||[]).length===0);if(v.length>0){const _=v.map(y=>{const w=r[y],k=e[w];return(k==null?void 0:k.difficulty)||2}),m=_.reduce((y,w)=>y+w,0)/_.length,g=p.length*(3-m);u.push({type:"row",lineIndex:d,botCellsInLine:p,freeCells:v,averageDifficulty:m,potential:g}),console.log(`      Ряд ${d}: бот ${p.length} клетки, свободно ${v.length}, средняя сложность ${m.toFixed(1)}, потенциал ${g.toFixed(1)}`)}}}for(let d=0;d<s;d++){const h=[];for(let v=0;v<s;v++)h.push(v*s+d);const p=o.filter(v=>v%s===d);if(p.length>=2){const v=h.filter(_=>(l[_]||[]).length===0);if(v.length>0){const _=v.map(y=>{const w=r[y],k=e[w];return(k==null?void 0:k.difficulty)||2}),m=_.reduce((y,w)=>y+w,0)/_.length,g=p.length*(3-m);u.push({type:"col",lineIndex:d,botCellsInLine:p,freeCells:v,averageDifficulty:m,potential:g}),console.log(`      Столбец ${d}: бот ${p.length} клетки, свободно ${v.length}, средняя сложность ${m.toFixed(1)}, потенциал ${g.toFixed(1)}`)}}}if(s===5){const d=[0,6,12,18,24],h=o.filter(_=>d.includes(_));if(h.length>=2){const _=d.filter(m=>(l[m]||[]).length===0);if(_.length>0){const m=_.map(w=>{const k=r[w],T=e[k];return(T==null?void 0:T.difficulty)||2}),g=m.reduce((w,k)=>w+k,0)/m.length,y=h.length*(3-g);u.push({type:"diag",lineIndex:0,botCellsInLine:h,freeCells:_,averageDifficulty:g,potential:y}),console.log(`      Главная диагональ: бот ${h.length} клетки, свободно ${_.length}, средняя сложность ${g.toFixed(1)}, потенциал ${y.toFixed(1)}`)}}const p=[4,8,12,16,20],v=o.filter(_=>p.includes(_));if(v.length>=2){const _=p.filter(m=>(l[m]||[]).length===0);if(_.length>0){const m=_.map(w=>{const k=r[w],T=e[k];return(T==null?void 0:T.difficulty)||2}),g=m.reduce((w,k)=>w+k,0)/m.length,y=v.length*(3-g);u.push({type:"diag",lineIndex:1,botCellsInLine:v,freeCells:_,averageDifficulty:g,potential:y}),console.log(`      Побочная диагональ: бот ${v.length} клетки, свободно ${_.length}, средняя сложность ${g.toFixed(1)}, потенциал ${y.toFixed(1)}`)}}}if(u.length===0)return console.log("    ❌ Нет возможностей для динамических линий"),null;u.sort((d,h)=>h.potential-d.potential);const i=u[0];console.log(`    🎯 Лучшая возможность: ${i.type} ${i.lineIndex} (потенциал: ${i.potential.toFixed(1)})`);const a=i.freeCells.sort((d,h)=>{const p=e[r[d]],v=e[r[h]],_=(p==null?void 0:p.difficulty)||2,m=(v==null?void 0:v.difficulty)||2;return _-m})[0];return console.log(`    🎯 Выбираю клетку ${a} (сложность: ${((f=e[r[a]])==null?void 0:f.difficulty)||"undefined"})`),{index:a,type:i.type,lineIndex:i.lineIndex,potential:i.potential,reason:`Динамическая линия ${i.type} ${i.lineIndex} (потенциал: ${i.potential.toFixed(1)})`}}function hx(t,e,n){const{board:r,hits:l,size:s}=t;console.log("  === АНАЛИЗ УГРОЗ ===");const o=[],u=[];console.log("    Анализирую угрозы игрока...");for(let c=0;c<s;c++){const a=[];for(let d=0;d<s;d++)a.push(c*s+d);const f=_s(a,"row",c,t,e,n);f&&o.push(f)}for(let c=0;c<s;c++){const a=[];for(let d=0;d<s;d++)a.push(d*s+c);const f=_s(a,"col",c,t,e,n);f&&o.push(f)}if(s===5){const a=_s([0,6,12,18,24],"diag",0,t,e,n);a&&o.push(a);const d=_s([4,8,12,16,20],"diag",1,t,e,n);d&&o.push(d)}console.log("    Анализирую блокировку бота...");for(let c=0;c<s;c++){const a=[];for(let d=0;d<s;d++)a.push(c*s+d);const f=Cs(a,"row",c,t);f&&u.push(f)}for(let c=0;c<s;c++){const a=[];for(let d=0;d<s;d++)a.push(d*s+c);const f=Cs(a,"col",c,t);f&&u.push(f)}if(s===5){const a=Cs([0,6,12,18,24],"diag",0,t);a&&u.push(a);const d=Cs([4,8,12,16,20],"diag",1,t);d&&u.push(d)}let i="continue";return o.some(c=>c.shouldBlock)?i="block":u.length>0&&(i="switch"),console.log(`    Рекомендуемое действие: ${i}`),console.log(`    Угроз игрока: ${o.length}`),console.log(`    Заблокированных линий бота: ${u.length}`),{playerThreats:o,botBlocked:u,recommendedAction:i}}function _s(t,e,n,r,l,s){const{board:o,hits:u}=r;let i=0,c=0;const a=[];for(const h of t){const p=u[h]||[];p.length>0?p.includes("bot")?c++:i++:a.push(h)}if(i===0)return null;let f="low",d=!1;return i>=4?(f="critical",d=!0):i===3?(f="high",d=Math.random()<s.behavior.blockPlayerChance):i===2?(f="medium",d=Math.random()<s.behavior.blockPlayerChance*.5):(f="low",d=!1),console.log(`      ${e} ${n}: игрок ${i}, бот ${c}, угроза ${f}, блокировать: ${d}`),{type:e,lineIndex:n,progress:i,freeCells:a,threatLevel:f,shouldBlock:d}}function Cs(t,e,n,r){const{hits:l}=r;let s=0,o=0;for(const u of t){const i=l[u]||[];i.length>0&&(i.includes("bot")?s++:o++)}if(s===0)return null;if(o>=2)return{type:e,lineIndex:n,reason:`Игрок заблокировал линию (${o} клетки)`};if(e==="diag"){if(n===0){if(l[12]&&!l[12].includes("bot"))return{type:e,lineIndex:n,reason:"Центр занят игроком"};if(l[0]&&!l[0].includes("bot")||l[24]&&!l[24].includes("bot"))return{type:e,lineIndex:n,reason:"Углы заняты игроком"}}else if(n===1&&(l[4]&&!l[4].includes("bot")||l[20]&&!l[20].includes("bot")))return{type:e,lineIndex:n,reason:"Углы заняты игроком"}}return null}function px(t,e,n){const{board:r}=e;console.log("    findBlockingMoveFromThreats: начало поиска");const l=t.filter(c=>c.shouldBlock).sort((c,a)=>c.threatLevel==="critical"&&a.threatLevel!=="critical"?-1:a.threatLevel==="critical"&&c.threatLevel!=="critical"?1:c.threatLevel==="high"&&a.threatLevel!=="high"?-1:a.threatLevel==="high"&&c.threatLevel!=="high"?1:a.progress-c.progress);if(l.length===0)return console.log("      ❌ Нет угроз для блокировки"),null;const s=l[0];if(console.log(`      🚨 Блокирую угрозу: ${s.type} ${s.lineIndex} (уровень: ${s.threatLevel}, прогресс: ${s.progress})`),console.log("      📊 Детали угрозы:",s),console.log("      🔍 Свободные клетки в угрозе:",s.freeCells),!s.freeCells||s.freeCells.length===0)return console.log("      ❌ КРИТИЧЕСКАЯ ОШИБКА: Нет свободных клеток для блокировки!"),console.log("      🔍 Это означает, что игрок уже заблокировал линию полностью"),null;const u=s.freeCells.sort((c,a)=>{const f=n[r[c]],d=n[r[a]],h=(f==null?void 0:f.difficulty)||2,p=(d==null?void 0:d.difficulty)||2;return h-p})[0],i=n[r[u]];return console.log(`      🎯 Выбираю клетку ${u} для блокировки (сложность: ${(i==null?void 0:i.difficulty)||"undefined"})`),{index:u,reason:`Блокирую ${s.threatLevel} угрозу в ${s.type} ${s.lineIndex} (прогресс игрока: ${s.progress})`}}function $i(t,e){const n=Math.floor(t/e),r=t%e;return(n===0||n===e-1)&&(r===0||r===e-1)?5:n===Math.floor(e/2)&&r===Math.floor(e/2)?4:n===0||n===e-1||r===0||r===e-1?3:n===r||n+r===e-1?2:1}function gx(t,e){const{board:n,hits:r,size:l}=t;console.log("  findAnyStrategicMove: ищу любую доступную стратегическую позицию");const s=[];s.push(0,l-1,(l-1)*l,l*l-1);const o=Math.floor(l/2)*l+Math.floor(l/2);s.push(o);for(let h=1;h<l-1;h++)s.push(h),s.push(h*l),s.push((h+1)*l-1),s.push((l-1)*l+h);const i=[...new Set(s)].filter(h=>(r[h]||[]).length===0);if(i.length===0){console.log("  ⚠️ Нет свободных стратегических позиций - переключаюсь на любые свободные клетки");const h=n.findIndex((p,v)=>(r[v]||[]).length===0);return h>=0?(console.log(`  🆘 Fallback на любую свободную клетку: ${h}`),h):(console.log("  ❌ Критическая ошибка: нет свободных клеток вообще!"),0)}const a=i.sort((h,p)=>{const v=e[n[h]],_=e[n[p]],m=(v==null?void 0:v.difficulty)||2,g=(_==null?void 0:_.difficulty)||2;if(m!==g)return m-g;const y=$i(h,l);return $i(p,l)-y})[0],f=e[n[a]],d=$i(a,l);return console.log(`  🎯 Выбрана лучшая стратегическая позиция: ${a} (сложность: ${(f==null?void 0:f.difficulty)||"undefined"}, приоритет: ${d})`),a}function mx(t,e){const{board:n,hits:r}=t;console.log("  findBestAvailableMove: ищу лучший доступный ход");const l=[];for(let i=0;i<n.length;i++)(r[i]||[]).length===0&&l.push(i);if(l.length===0)return console.log("  ❌ Нет свободных клеток - это ошибка!"),0;console.log(`  Найдено свободных клеток: ${l.length}`);const o=l.sort((i,c)=>{const a=e[n[i]],f=e[n[c]],d=(a==null?void 0:a.difficulty)||2,h=(f==null?void 0:f.difficulty)||2;return d-h})[0],u=e[n[o]];return console.log(`  🎯 Выбран лучший доступный ход: ${o} (сложность: ${(u==null?void 0:u.difficulty)||"undefined"})`),o}const yx="https://tinybingo-ws-1.onrender.com";function Ai(){const t=location.pathname.split("/").filter(Boolean);return t.length?`/${t[0]}/`:"/"}function Xf(){return"Tarnished-"+Math.floor(Math.random()*1e4)}function vx(){const t=[0,30,60,120,180,210,240,270,300];return`hsl(${t[Math.floor(Math.random()*t.length)]} 70% 60%)`}function wx(){var fa,da;const e=new URLSearchParams(location.search).get("guest")==="1",n=z.useMemo(()=>{const S=Ai(),M=location.pathname.split("/").filter(Boolean),I=M.length>1?M[M.length-1]:"";if(I)return I;const A=Math.random().toString(36).slice(2,8);return history.replaceState(null,"",`${S}${A}${location.search}${location.hash}`),A},[]),{doc:r,provider:l,awareness:s,persist:o}=z.useMemo(()=>$1(n),[n]),u=z.useMemo(()=>r.getArray("board"),[r]),i=z.useMemo(()=>r.getMap("hits"),[r]),c=z.useMemo(()=>r.getMap("settings"),[r]),a=z.useMemo(()=>r.getArray("log"),[r]),f=z.useMemo(()=>r.getMap("timer"),[r]),[d,h]=z.useState([]),[p,v]=z.useState({__FREE__:"Free Space"}),[_,m]=z.useState([]);z.useEffect(()=>{const S=()=>m(a.toArray());return S(),a.observe(S),()=>a.unobserve(S)},[a]);const[g,y]=Je.useState(!1),[w,k]=Je.useState(""),[T,D]=z.useState(""),[x,F]=z.useState(null),$=Je.useRef(null),[Q,Te]=z.useState(null),[ge,Ge]=z.useState(void 0),Jt=((fa=s.getLocalState())==null?void 0:fa.role)==="guest",xe=c.get("gameMode")??"pvp",Qr=xe==="pve"&&Jt;z.useEffect(()=>{const S=()=>{const M={stage:f.get("stage")||"create",timerValue:f.get("timerValue")??0,timerRunning:f.get("timerRunning")??!1,startedAt:f.get("startedAt")??void 0};F(M)};return S(),f.observe(S),()=>f.unobserve(S)},[f]),z.useEffect(()=>{if(!(x!=null&&x.timerRunning)||x.stage==="finished")return;const S=setInterval(()=>{x.stage==="play"?Ye({timerValue:(x.timerValue||0)+1}):x.timerValue>0&&Ye({timerValue:Math.max(0,(x.timerValue||0)-1)})},1e3);return()=>clearInterval(S)},[x==null?void 0:x.timerRunning,x==null?void 0:x.timerValue,x==null?void 0:x.stage]),z.useEffect(()=>{const S={__FREE__:"Free Space"};tn.forEach(M=>{S[M.id]=M.text}),v(S),h(tn),r.transact(()=>{c.set("goalsSource","goals.example.json")})},[]),z.useEffect(()=>{if(!c)return;const S=c.get("goalsSourceType");if(console.log("Источник целей изменился на:",S),S==="sheets")(async()=>{try{console.log("Загружаем цели из Google Sheets...");const Z=(await(await fetch("https://docs.google.com/spreadsheets/d/1anPHlA1wtAiXUKMHcKKbTa5Cp-qWQY1O9xj-bNPCzls/gviz/tq?tqx=out:csv&sheet=Tasks")).text()).split(`
`).filter(re=>re.trim()).slice(1).map((re,Pe)=>{const ke=re.split(",").map(It=>It.trim().replace(/"/g,""));let Be="",ts="",Ko;const qt=ke.filter(It=>It.length>0);if(qt.length>=3){[Be,ts]=qt;const It=qt[2];if(It){const $t=parseInt(It);!isNaN($t)&&$t>=1&&$t<=3&&(Ko=$t)}}else if(qt.length===2){[ts]=qt;const It=qt[1];if(Be=`T${String(Pe+1).padStart(3,"0")}`,It){const $t=parseInt(It);!isNaN($t)&&$t>=1&&$t<=3&&(Ko=$t)}}else qt.length===1&&(ts=qt[0],Be=`T${String(Pe+1).padStart(3,"0")}`);return{id:Be||`T${String(Pe+1).padStart(3,"0")}`,text:ts||`Цель ${Pe+1}`,difficulty:Ko,weight:1}});console.log(`Загружено ${Z.length} целей из CSV`),console.log("Пример цели с difficulty:",Z[0]);const Re={__FREE__:"Free Space"};Z.forEach(re=>{Re[re.id]=re.text}),v(Re),h(Z),r.transact(()=>{c.set("goalsSource","Google Sheets CSV")})}catch(I){console.error("Ошибка загрузки CSV:",I);const A={__FREE__:"Free Space"};tn.forEach(B=>{A[B.id]=B.text}),v(A),h(tn),r.transact(()=>{c.set("goalsSource","goals.example.json (fallback)"),c.set("goalsSourceType","local")})}})();else if(S==="local"){console.log("Загружаем локальные цели..."),console.log("Пример локальной цели:",tn[0]);const M={__FREE__:"Free Space"};tn.forEach(I=>{M[I.id]=I.text}),v(M),h(tn),r.transact(()=>{c.set("goalsSource","goals.example.json")})}},[c,r,tn]),z.useEffect(()=>{const S=s.getLocalState(),M=c.get("hostUid");!!(S!=null&&S.uid)&&S.uid===M&&!f.has("stage")&&setTimeout(()=>{f.has("stage")||Zt("create",3*60)},500)},[s,c,f]),z.useEffect(()=>{let S=JSON.parse(localStorage.getItem("me")||"null");S||(S={uid:crypto.randomUUID(),name:Xf()},localStorage.setItem("me",JSON.stringify(S))),r.transact(()=>{!e&&!c.has("hostUid")&&c.set("hostUid",S.uid)});const M=c.get("hostUid")||S.uid,I=!e&&M===S.uid,A=I?"#ef4444":"#3b82f6";s.setLocalState({uid:S.uid,name:S.name||(I?"Host":"Player"),color:A,role:I?"host":"guest"}),localStorage.setItem("me",JSON.stringify({...S,color:A}))},[s,r,c,e]),z.useEffect(()=>{const S=()=>{try{s.setLocalState(null)}catch{}};return window.addEventListener("beforeunload",S),window.addEventListener("pagehide",S),()=>{window.removeEventListener("beforeunload",S),window.removeEventListener("pagehide",S),S()}},[s]);const[N,j]=z.useState(!1);z.useEffect(()=>{const S=()=>{const M=s.getLocalState(),I=c.get("hostUid")||(M==null?void 0:M.uid);j(!!(M!=null&&M.uid)&&I===M.uid)};return S(),s.on("change",S),c.observe(S),()=>{s.off("change",S),c.unobserve(S)}},[s,c]);const[O,J]=z.useState([]);z.useEffect(()=>{const S=()=>{const M=new Map;s.getStates().forEach(I=>{I!=null&&I.uid&&M.set(I.uid,{uid:I.uid,name:I.name,color:I.color,role:I.role})}),xe==="pve"&&!M.has("bot")&&M.set("bot",{uid:"bot",name:se.botName||"Bot",color:"#22c55e",role:"guest"}),J(Array.from(M.values()))};return S(),s.on("change",S),c.observe(S),()=>{s.off("change",S),c.unobserve(S)}},[s,c,xe]);const[,ce]=z.useReducer(S=>S+1,0),[Kr,dt]=z.useState({});z.useEffect(()=>{const S=()=>ce();return u.observe(S),c.observe(S),i.observeDeep(S),()=>{u.unobserve(S),c.unobserve(S),i.unobserveDeep(S)}},[u,c,i]),z.useEffect(()=>{c.has("size")||c.set("size",5),c.has("seed")||c.set("seed","seed"),c.has("freeCenter")||c.set("freeCenter",!0),c.has("mode")||c.set("mode","standard"),c.has("goalsSourceType")||c.set("goalsSourceType","sheets"),c.has("botMode")||c.set("botMode","medium")},[c]);const se={size:c.get("size")??5,seed:c.get("seed")??"seed",freeCenter:c.get("freeCenter")??!0,mode:c.get("mode")??"standard",goalsSource:c.get("goalsSource")??void 0,goalsSourceType:c.get("goalsSourceType")??"sheets",gameMode:c.get("gameMode")??"pvp",botMode:c.get("botMode")??"easy",botName:c.get("botName")??void 0};function Ye(S){r.transact(()=>{for(const[M,I]of Object.entries(S))f.set(M,I)})}function nr(){Ye({timerRunning:!0,startedAt:Date.now()})}function ua(){Ye({timerRunning:!1})}function Zt(S,M){Ye({stage:S,timerValue:M,timerRunning:!1,startedAt:void 0})}function Vo(){const S=s.getLocalState(),M=c.get("hostUid");if(!(!!(S!=null&&S.uid)&&S.uid===M))return;const A=Z1(d,se.size,se.seed);r.transact(()=>{u.delete(0,u.length),u.insert(0,A),Array.from(i.keys()).forEach(B=>i.delete(B)),a.delete(0,a.length),c.set("initialized",!0)}),dt({})}z.useEffect(()=>{let S=!1;return o.whenSynced.then(()=>{S||N&&(u.length===0&&d.length>0&&Vo(),f.has("stage")||Zt("create",3*60))}),()=>{S=!0}},[o,u,d,N,f]);function ca(S){N&&r.transact(()=>{for(const[M,I]of Object.entries(S))c.set(M,I)})}function Ig(S){let M=s.getLocalState();M!=null&&M.uid||(M={uid:crypto.randomUUID(),name:Xf(),color:vx()},s.setLocalState(M));const I=String(S);let A=i.get(I);A||(A=new xn,i.set(I,A));const oe=A.toArray().indexOf(M.uid),Z=Wo(u.get(S));r.transact(()=>{oe>=0?(A.delete(oe,1),a.push([{playerName:M.name,cellText:`снял отметку с «${Z}»`,timestamp:Date.now(),color:M.color}])):(A.push([M.uid]),a.push([{playerName:M.name,cellText:`отметил ${Z}`,timestamp:Date.now(),color:M.color}]))});const Re={};i.forEach((Pe,ke)=>{Re[Number(ke)]=Pe.toArray()});const re=Fe;Object.assign(Fe,Re),aa(),Object.assign(Fe,re),oe<0&&Ge(S)}const Fe={};i.forEach((S,M)=>{Fe[Number(M)]=S.toArray()}),z.useEffect(()=>{const S={};Object.values(Fe).forEach(M=>{M.forEach(I=>{if(I==="bot"){const A=se.botName||"Bot";S[A]=(S[A]||0)+1}else{const A=Array.from(s.getStates().values()).find(B=>(B==null?void 0:B.uid)===I);A&&(S[A.name]=(S[A.name]||0)+1)}})}),dt(S)},[s,se.botName,i]);function $g(){if((x==null?void 0:x.stage)!=="play")return!1;const S=se.size||5;function M(A,B){if(A==="row"){const oe=B*S;return Array.from({length:S},(Z,Re)=>oe+Re)}else{if(A==="col")return Array.from({length:S},(oe,Z)=>B+Z*S);if(A==="diag")return B===0?Array.from({length:S},(oe,Z)=>Z*(S+1)):Array.from({length:S},(oe,Z)=>(Z+1)*(S-1))}return[]}const I=[...Array.from({length:S},(A,B)=>({type:"row",index:B})),...Array.from({length:S},(A,B)=>({type:"col",index:B})),...S===5?[{type:"diag",index:0},{type:"diag",index:1}]:[]];for(const A of I){const B=M(A.type,A.index);let oe=null,Z=!0;for(const Re of B){const re=Fe[Re];if(!re||re.length===0){Z=!1;break}const Pe=re[0];if(oe===null)oe=Pe;else if(oe!==Pe){Z=!1;break}}if(Z&&oe){let Re=0;for(const re of B)Fe[re]&&Fe[re].length>0&&Re++;if(Re===5){let re;if(oe==="bot")re="Bot";else{const Pe=Array.from(s.getStates().values()).find(ke=>(ke==null?void 0:ke.uid)===oe);re=(Pe==null?void 0:Pe.name)||"Неизвестный"}return Zt("finished",x.timerValue),a.push([{playerName:re.toUpperCase(),cellText:"ПОБЕДИЛ",timestamp:Date.now(),color:"#ffffff"}]),!0}}}return!1}function aa(){if((x==null?void 0:x.stage)!=="play"||$g())return;const S={};Object.values(Fe).forEach(M=>{M.forEach(I=>{if(I==="bot")S.Bot=(S.Bot||0)+1;else{const A=Array.from(s.getStates().values()).find(B=>(B==null?void 0:B.uid)===I);A&&(S[A.name]=(S[A.name]||0)+1)}})});for(const[M,I]of Object.entries(S))if(I===13){Zt("finished",x.timerValue),a.push([{playerName:M.toUpperCase(),cellText:"ПОБЕДИЛ",timestamp:Date.now(),color:"#ffffff"}]);return}}function Wo(S){return p[S]??S}function Ag(S){if(!S.length)return;const M=S[0];if(M==="bot")return"#22c55e";const I=Array.from(s.getStates().values()).find(A=>(A==null?void 0:A.uid)===M);return I==null?void 0:I.color}async function Rg(){try{await fetch(`${yx}/healthz`,{mode:"no-cors"})}catch{}try{l.disconnect()}catch{}setTimeout(()=>{try{l.connect()}catch{}},200)}z.useEffect(()=>{D(n)},[n]);function Pg(){if(!N)return;const S=Ai(),M=T.trim().replace(/\s+/g,"-").toLowerCase();M&&(location.href=`${S}${M}`)}function Qo(){const S=Ai();return`${location.origin}${S}${n}?guest=1`}async function jg(){try{await navigator.clipboard.writeText(Qo()),alert("Ссылка для гостя скопирована!")}catch{prompt("Скопируйте ссылку вручную:",Qo())}}const Og=s.getStates().size||0,zg=(x==null?void 0:x.stage)==="play"&&!!(x!=null&&x.timerRunning);z.useEffect(()=>{N&&(x==null?void 0:x.stage)==="seed"?(k(se.seed||""),y(!0)):y(!1)},[x==null?void 0:x.stage,N]);function Ug(){ca({seed:w||Math.random().toString(36).slice(2,8)}),Vo(),Zt("plan",5*60),y(!1)}function Fg(){k(Math.random().toString(36).slice(2,8))}z.useEffect(()=>{if(console.log("=== PvE БОТ useEffect ==="),console.log("isHost:",N),console.log("gameMode:",xe),console.log("gameTimer.stage:",x==null?void 0:x.stage),console.log("gameTimer.timerRunning:",x==null?void 0:x.timerRunning),console.log("pool.length:",d.length),console.log("========================"),!N||xe!=="pve"||(x==null?void 0:x.stage)!=="play"||!(x!=null&&x.timerRunning)){$.current&&clearTimeout($.current),$.current=null;return}function S(){console.log("=== НАЧАЛО botMove ==="),console.log("botPlan:",Q),console.log("lastPlayerMove:",ge),console.log("======================");const A={board:u.toArray(),hits:Object.fromEntries(Array.from(i.entries()).map(([ke,Be])=>[Number(ke),Be.toArray()])),size:se.size||5},B=se.botMode||"easy",oe={};console.log("Pool для целей:",d),console.log("Количество целей в pool:",d.length),d.forEach(ke=>{oe[ke.id]=ke}),console.log("Созданный goals объект:",Object.keys(oe));const Z=rx(A,oe,B);if(console.log("=== ОТЛАДКА ИИ БОТА ==="),console.log("Решение ИИ:",Z),console.log("Состояние доски:",A),console.log("Цели:",Object.keys(oe).length,"штук"),console.log("Сложность бота:",B),console.log("========================"),Z.nextMove===null||Z.nextMove===void 0){console.log("❌ ОШИБКА: ИИ не вернул ход, это не должно происходить!");return}const Re=Z.nextMove;r.transact(()=>{const ke=String(Re);let Be=i.get(ke);Be||(Be=new xn,i.set(ke,Be)),Be.toArray().includes("bot")||(Be.push(["bot"]),a.push([{playerName:se.botName||"Bot",cellText:`отметил ${Wo(u.get(Re))}`,timestamp:Date.now(),color:"#22c55e"}]))});const re={};i.forEach((ke,Be)=>{re[Number(Be)]=ke.toArray()});const Pe=Fe;Object.assign(Fe,re),aa(),Object.assign(Fe,Pe)}function M(){const A=se.botMode||"easy",B=tx(A);$.current=window.setTimeout(()=>{S(),M()},B)}const I=nx(se.botMode||"easy");return $.current=window.setTimeout(()=>{S(),M()},I),()=>{$.current&&clearTimeout($.current),$.current=null}},[N,xe,x==null?void 0:x.stage,x==null?void 0:x.timerRunning,se.botMode,u,i,a,d]);const Gr={};return Object.values(Fe).forEach(S=>{S.forEach(M=>{if(M==="bot"){const I=se.botName||"Bot";Gr[I]=(Gr[I]||0)+1}else{const I=Array.from(s.getStates().values()).find(A=>(A==null?void 0:A.uid)===M);I&&(Gr[I.name]=(Gr[I.name]||0)+1)}})}),C.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-4",children:[C.jsx("h1",{className:"text-2xl font-bold",children:"Elden Ring Bingo"}),N?C.jsx(C.Fragment,{children:C.jsx(Xw,{settings:{...se,gameMode:xe},onChange:ca,onRegenerate:Vo,showLoaders:!1,gameTimer:x||void 0,isHost:N,onStart:nr,onPause:ua,onNextStage:()=>{const S=["create","seed","plan","play","finished"],M=(x==null?void 0:x.stage)||"create";if(M==="play"&&x)Zt("finished",x.timerValue);else{const I=S.indexOf(M),A=S[Math.min(I+1,S.length-1)];let B=0;A==="create"&&(B=3*60),A==="plan"&&(B=5*60),A==="play"&&(B=0),Zt(A,B)}},onResetRun:()=>{Zt("create",3*60),ua(),y(!1),dt({})}})}):C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3 text-sm opacity-80 space-y-2",children:[C.jsx("div",{children:"Вы гость — можете отмечать клетки. Генерация доступна только хозяину комнаты."}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{onClick:Rg,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 text-sm",title:"Переустановить соединение с сервером",children:"Подключиться ещё раз"}),C.jsx("span",{className:"opacity-70",children:"Если сервер «уснул», разбудим его и переподключимся."})]})]}),g&&C.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:C.jsxs("div",{className:"bg-neutral-900 p-6 rounded-xl flex flex-col gap-4 w-96 border border-neutral-700",children:[C.jsx("div",{className:"text-lg font-bold",children:"Выберите seed для генерации сетки"}),C.jsx("input",{className:"px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",value:w,onChange:S=>k(S.target.value),placeholder:"Введите seed или сгенерируйте случайный",maxLength:32}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:Fg,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 text-sm",children:"Случайный seed"}),C.jsx("button",{onClick:Ug,className:"px-3 py-1 rounded bg-emerald-700 hover:bg-emerald-800 text-sm font-bold",children:"Сгенерировать сетку"})]})]})}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("div",{className:"flex-1",children:C.jsx(qw,{size:se.size,board:u.toArray(),hits:Fe,onToggle:Ig,labelOf:Wo,getColor:Ag,disabled:Qr||!zg})}),C.jsxs("div",{className:"w-80 flex flex-col gap-4",children:[C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3",children:[C.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Имя игрока"}),C.jsx("input",{type:"text",value:((da=s.getLocalState())==null?void 0:da.name)??"",onChange:S=>{const M=s.getLocalState();if(!M)return;const I={...M,name:S.target.value};s.setLocalState(I),localStorage.setItem("me",JSON.stringify({uid:I.uid,name:I.name,color:I.color}))},className:"w-full px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",placeholder:"Погасший",maxLength:24})]}),N&&C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3 flex items-center gap-2",children:[C.jsx("input",{readOnly:!0,value:Qo(),className:"flex-1 px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm"}),C.jsx("button",{onClick:jg,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 text-sm",title:"Скопировать ссылку",children:"Пригласить"})]}),N&&C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3",children:[C.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Комната"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",value:T,onChange:S=>D(S.target.value),className:"flex-1 px-2 py-1 rounded bg-neutral-800 border border-neutral-700 text-sm",placeholder:"введите имя комнаты",maxLength:32}),C.jsx("button",{onClick:Pg,className:"px-3 py-1 rounded bg-neutral-700 hover:bg-neutral-600 text-sm",title:"Перейти в комнату",children:"Перейти"})]})]}),C.jsx(e1,{players:O,playerScores:Gr}),!N&&x&&C.jsxs("div",{className:"rounded-xl border border-neutral-700 p-3",children:[C.jsx("div",{className:"text-sm opacity-80 mb-2",children:"Игровой процесс"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-sm font-bold",children:"Этап:"}),C.jsx("span",{className:"text-sm",children:x.stage==="create"?"Создание персонажа":x.stage==="seed"?"Выбор seed и генерация":x.stage==="plan"?"Планирование маршрута":x.stage==="play"?"Игра":x.stage==="paused"?"Пауза":x.stage==="finished"?"Финиш":x.stage})]}),C.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[C.jsx("span",{className:"text-sm font-bold",children:"Время:"}),C.jsxs("span",{className:"text-sm",children:[Math.floor(x.timerValue/60),":",(x.timerValue%60).toString().padStart(2,"0")]})]})]}),C.jsx(q1,{actions:_})]})]}),C.jsxs("footer",{className:"text-xs opacity-70 pt-4",children:["Room: ",n," • Peers (incl. me): ",Og," • Source: ",se.goalsSource??"—"]})]})}ap(document.getElementById("root")).render(C.jsx(z.StrictMode,{children:C.jsx(wx,{})}));
